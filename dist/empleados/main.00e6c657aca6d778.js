"use strict";var coe=Object.defineProperty,loe=Object.defineProperties,doe=Object.getOwnPropertyDescriptors,w2=Object.getOwnPropertySymbols,hoe=Object.prototype.hasOwnProperty,foe=Object.prototype.propertyIsEnumerable,E2=(oe,ft,Jt)=>ft in oe?coe(oe,ft,{enumerable:!0,configurable:!0,writable:!0,value:Jt}):oe[ft]=Jt,I2=(oe,ft)=>{for(var Jt in ft||(ft={}))hoe.call(ft,Jt)&&E2(oe,Jt,ft[Jt]);if(w2)for(var Jt of w2(ft))foe.call(ft,Jt)&&E2(oe,Jt,ft[Jt]);return oe},b2=(oe,ft)=>loe(oe,doe(ft));(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{954:()=>{function oe(t){return"function"==typeof t}function ft(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Jt=ft(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function lo(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Cn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Jt?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{nC(s)}catch(o){e=null!=e?e:[],o instanceof Jt?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Jt(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nC(e);else{if(e instanceof Cn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&lo(n,e)}remove(e){const{_finalizers:n}=this;n&&lo(n,e),e instanceof Cn&&e._removeParent(this)}}Cn.EMPTY=(()=>{const t=new Cn;return t.closed=!0,t})();const eC=Cn.EMPTY;function tC(t){return t instanceof Cn||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function nC(t){oe(t)?t():t.unsubscribe()}const es={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ml={setTimeout(t,e,...n){const{delegate:r}=Ml;return(null==r?void 0:r.setTimeout)?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ml;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function rC(t){Ml.setTimeout(()=>{const{onUnhandledError:e}=es;if(!e)throw t;e(t)})}function iC(){}const D2=Mp("C",void 0,void 0);function Mp(t,e,n){return{kind:t,value:e,error:n}}let ts=null;function kl(t){if(es.useDeprecatedSynchronousErrorHandling){const e=!ts;if(e&&(ts={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=ts;if(ts=null,n)throw r}}else t()}class kp extends Cn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,tC(e)&&e.add(this)):this.destination=k2}static create(e,n,r){return new Nl(e,n,r)}next(e){this.isStopped?Rp(function C2(t){return Mp("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Rp(function T2(t){return Mp("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rp(D2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const S2=Function.prototype.bind;function Np(t,e){return S2.call(t,e)}class x2{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Rl(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Rl(r)}else Rl(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Rl(n)}}}class Nl extends kp{constructor(e,n,r){let i;if(super(),oe(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&es.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,s),error:e.error&&Np(e.error,s),complete:e.complete&&Np(e.complete,s)}):i=e}this.destination=new x2(i)}}function Rl(t){es.useDeprecatedSynchronousErrorHandling?function A2(t){es.useDeprecatedSynchronousErrorHandling&&ts&&(ts.errorThrown=!0,ts.error=t)}(t):rC(t)}function Rp(t,e){const{onStoppedNotification:n}=es;n&&Ml.setTimeout(()=>n(t,e))}const k2={closed:!0,next:iC,error:function M2(t){throw t},complete:iC},Op="function"==typeof Symbol&&Symbol.observable||"@@observable";function ns(t){return t}let Pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function R2(t){return t&&t instanceof kp||function N2(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}(t)&&tC(t)}(n)?n:new Nl(n,r,i);return kl(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=oC(r))((i,s)=>{const o=new Nl({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Op](){return this}pipe(...n){return function sC(t){return 0===t.length?ns:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}(n)(this)}toPromise(n){return new(n=oC(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function oC(t){var e;return null!==(e=null!=t?t:es.Promise)&&void 0!==e?e:Promise}const O2=ft(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bt=(()=>{class t extends Pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new aC(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new O2}next(n){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){kl(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?eC:(this.currentObservers=null,s.push(n),new Cn(()=>{this.currentObservers=null,lo(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Pe;return n.source=this,n}}return t.create=(e,n)=>new aC(e,n),t})();class aC extends Bt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:eC}}function uC(t){return oe(null==t?void 0:t.lift)}function St(t){return e=>{if(uC(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pt(t,e,n,r,i){return new P2(t,e,n,r,i)}class P2 extends kp{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function _e(t,e){return St((n,r)=>{let i=0;n.subscribe(pt(r,s=>{r.next(t.call(e,s,i++))}))})}function lC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function rs(t){return this instanceof rs?(this.v=t,this):new rs(t)}function V2(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof rs?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function U2(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function hC(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const fC=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function pC(t){return oe(null==t?void 0:t.then)}function gC(t){return oe(t[Op])}function mC(t){return Symbol.asyncIterator&&oe(null==t?void 0:t[Symbol.asyncIterator])}function yC(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _C=function j2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vC(t){return oe(null==t?void 0:t[_C])}function wC(t){return V2(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield rs(n.read());if(i)return yield rs(void 0);yield yield rs(r)}}finally{n.releaseLock()}})}function EC(t){return oe(null==t?void 0:t.getReader)}function _r(t){if(t instanceof Pe)return t;if(null!=t){if(gC(t))return function $2(t){return new Pe(e=>{const n=t[Op]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(fC(t))return function H2(t){return new Pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(pC(t))return function G2(t){return new Pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rC)})}(t);if(mC(t))return IC(t);if(vC(t))return function q2(t){return new Pe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(EC(t))return function z2(t){return IC(wC(t))}(t)}throw yC(t)}function IC(t){return new Pe(e=>{(function W2(t,e){var n,r,i,s;return function F2(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=U2(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $r(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gt(t,e,n=1/0){return oe(e)?gt((r,i)=>_e((s,o)=>e(r,s,i,o))(_r(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function K2(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let y=!1;_r(n(g,l++)).subscribe(pt(e,E=>{null==i||i(E),s?f(E):e.next(E)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const E=u.shift();o?$r(e,o,()=>p(E)):p(E)}h()}catch(E){e.error(E)}}))};return t.subscribe(pt(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function Ja(t=1/0){return gt(ns,t)}const Hr=new Pe(t=>t.complete());function Fp(t){return t[t.length-1]}function bC(t){return oe(Fp(t))?t.pop():void 0}function Za(t){return function Y2(t){return t&&oe(t.schedule)}(Fp(t))?t.pop():void 0}function Ol(t,e=0){return St((n,r)=>{n.subscribe(pt(r,i=>$r(r,t,()=>r.next(i),e),()=>$r(r,t,()=>r.complete(),e),i=>$r(r,t,()=>r.error(i),e)))})}function Pl(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function DC(t,e){if(!t)throw new Error("Iterable cannot be null");return new Pe(n=>{$r(n,e,()=>{const r=t[Symbol.asyncIterator]();$r(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function mt(t,e){return e?function rB(t,e){if(null!=t){if(gC(t))return function Z2(t,e){return _r(t).pipe(Pl(e),Ol(e))}(t,e);if(fC(t))return function eB(t,e){return new Pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(pC(t))return function X2(t,e){return _r(t).pipe(Pl(e),Ol(e))}(t,e);if(mC(t))return DC(t,e);if(vC(t))return function tB(t,e){return new Pe(n=>{let r;return $r(n,e,()=>{r=t[_C](),$r(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>oe(null==r?void 0:r.return)&&r.return()})}(t,e);if(EC(t))return function nB(t,e){return DC(wC(t),e)}(t,e)}throw yC(t)}(t,e):_r(t)}function Fl(t){return t<=0?()=>Hr:St((e,n)=>{let r=0;e.subscribe(pt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lp(t,e,...n){return!0===e?(t(),null):!1===e?null:e(...n).pipe(Fl(1)).subscribe(()=>t())}function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Vp(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function me(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(me).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Up(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const oB=Ee({__forward_ref__:Ee});function Te(t){return t.__forward_ref__=Te,t.toString=function(){return me(this())},t}function J(t){return TC(t)?t():t}function TC(t){return"function"==typeof t&&t.hasOwnProperty(oB)&&t.__forward_ref__===Te}class ce extends Error{constructor(e,n){super(function Bp(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function G(t){return"string"==typeof t?t:null==t?"":String(t)}function xt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():G(t)}function Ll(t,e){const n=e?` in ${e}`:"";throw new ce(-201,`No provider for ${xt(t)} found${n}`)}function Sn(t,e){null==t&&function Ie(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hn(t){return{providers:t.providers||[],imports:t.imports||[]}}function jp(t){return CC(t,Vl)||CC(t,SC)}function CC(t,e){return t.hasOwnProperty(e)?t[e]:null}function AC(t){return t&&(t.hasOwnProperty($p)||t.hasOwnProperty(fB))?t[$p]:null}const Vl=Ee({\u0275prov:Ee}),$p=Ee({\u0275inj:Ee}),SC=Ee({ngInjectableDef:Ee}),fB=Ee({ngInjectorDef:Ee});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let Hp;function wi(t){const e=Hp;return Hp=t,e}function xC(t,e,n){const r=jp(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==e?e:void Ll(me(t),"Injector")}function Ei(t){return{toString:t}.toString()}var nr=(()=>((nr=nr||{})[nr.OnPush=0]="OnPush",nr[nr.Default=1]="Default",nr))(),vr=(()=>{return(t=vr||(vr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",vr;var t})();const gB="undefined"!=typeof globalThis&&globalThis,mB="undefined"!=typeof window&&window,yB="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ve=gB||"undefined"!=typeof global&&global||mB||yB,ho={},be=[],Ul=Ee({\u0275cmp:Ee}),Gp=Ee({\u0275dir:Ee}),qp=Ee({\u0275pipe:Ee}),MC=Ee({\u0275mod:Ee}),qr=Ee({\u0275fac:Ee}),Xa=Ee({__NG_ELEMENT_ID__:Ee});let _B=0;function zr(t){return Ei(()=>{const n={},r={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===nr.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||vr.Emulated,id:"c",styles:t.styles||be,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,s=t.features,o=t.pipes;return r.id+=_B++,r.inputs=OC(t.inputs,n),r.outputs=OC(t.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(kC):null,r.pipeDefs=o?()=>("function"==typeof o?o():o).map(NC):null,r})}function kC(t){return jt(t)||function Ii(t){return t[Gp]||null}(t)}function NC(t){return function is(t){return t[qp]||null}(t)}const RC={};function xn(t){return Ei(()=>{const e={type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(RC[t.id]=t.type),e})}function OC(t,e){if(null==t)return ho;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const B=zr;function jt(t){return t[Ul]||null}function $n(t,e){const n=t[MC]||null;if(!n&&!0===e)throw new Error(`Type ${me(t)} does not have '\u0275mod' property.`);return n}const Z=11;function wr(t){return Array.isArray(t)&&"object"==typeof t[1]}function ir(t){return Array.isArray(t)&&!0===t[1]}function Kp(t){return 0!=(8&t.flags)}function Hl(t){return 2==(2&t.flags)}function Gl(t){return 1==(1&t.flags)}function sr(t){return null!==t.template}function DB(t){return 0!=(512&t[2])}function us(t,e){return t.hasOwnProperty(qr)?t[qr]:null}class AB{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Gn(){return FC}function FC(t){return t.type.prototype.ngOnChanges&&(t.setInput=xB),SB}function SB(){const t=VC(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===ho)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function xB(t,e,n,r){const i=VC(t)||function MB(t,e){return t[LC]=e}(t,{previous:ho,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new AB(u&&u.currentValue,e,o===ho),t[r]=e}Gn.ngInherit=!0;const LC="__ngSimpleChanges__";function VC(t){return t[LC]||null}let Xp;function eg(){return void 0!==Xp?Xp:"undefined"!=typeof document?document:void 0}function Ue(t){return!!t.listen}const UC={createRenderer:(t,e)=>eg()};function Je(t){for(;Array.isArray(t);)t=t[0];return t}function ql(t,e){return Je(e[t])}function zn(t,e){return Je(e[t.index])}function tg(t,e){return t.data[e]}function kn(t,e){const n=e[t];return wr(n)?n:n[0]}function ng(t){return 128==(128&t[2])}function bi(t,e){return null==e?null:t[e]}function jC(t){t[18]=0}function rg(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const q={lFrame:YC(null),bindingsEnabled:!0};function HC(){return q.bindingsEnabled}function b(){return q.lFrame.lView}function le(){return q.lFrame.tView}function zl(t){return q.lFrame.contextLView=t,t[8]}function it(){let t=GC();for(;null!==t&&64===t.type;)t=t.parent;return t}function GC(){return q.lFrame.currentTNode}function Er(t,e){const n=q.lFrame;n.currentTNode=t,n.isParent=e}function ig(){return q.lFrame.isParent}function sg(){q.lFrame.isParent=!1}function _o(){return q.lFrame.bindingIndex++}function Kr(t){const e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function WB(t,e){const n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,og(e)}function og(t){q.lFrame.currentDirectiveIndex=t}function ag(t){const e=q.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ug(t){q.lFrame.currentQueryIndex=t}function QB(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function KC(t,e,n){if(n&$.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&$.Host||(i=QB(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=q.lFrame=QC();return r.currentTNode=e,r.lView=t,!0}function Kl(t){const e=QC(),n=t[1];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QC(){const t=q.lFrame,e=null===t?null:t.child;return null===e?YC(t):e}function YC(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function JC(){const t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ZC=JC;function Ql(){const t=JC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xt(){return q.lFrame.selectedIndex}function Di(t){q.lFrame.selectedIndex=t}function Be(){const t=q.lFrame;return tg(t.tView,t.selectedIndex)}function Yl(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function Jl(t,e,n){XC(t,e,3,n)}function Zl(t,e,n,r){(3&t[2])===n&&XC(t,e,n,r)}function cg(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function XC(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(ij(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function ij(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class iu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Xl(t,e,n){const r=Ue(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];dg(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function e0(t){return 3===t||4===t||6===t}function dg(t){return 64===t.charCodeAt(0)}function ed(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||t0(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function t0(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function n0(t){return-1!==t}function vo(t){return 32767&t}function wo(t,e){let n=function cj(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let hg=!0;function td(t){const e=hg;return hg=t,e}let lj=0;function ou(t,e){const n=pg(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,fg(r.data,t),fg(e,null),fg(r.blueprint,null));const i=nd(t,e),s=t.injectorIndex;if(n0(i)){const o=vo(i),a=wo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function fg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pg(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function nd(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const s=i[1],o=s.type;if(r=2===o?s.declTNode:1===o?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function rd(t,e,n){!function dj(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Xa)&&(r=n[Xa]),null==r&&(r=n[Xa]=lj++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function o0(t,e,n){if(n&$.Optional)return t;Ll(e,"NodeInjector")}function a0(t,e,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const i=t[9],s=wi(void 0);try{return i?i.get(e,r,n&$.Optional):xC(e,r,n&$.Optional)}finally{wi(s)}}return o0(r,e,n)}function u0(t,e,n,r=$.Default,i){if(null!==t){const s=function gj(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Xa)?t[Xa]:void 0;return"number"==typeof e?e>=0?255&e:fj:e}(n);if("function"==typeof s){if(!KC(e,t,r))return r&$.Host?o0(i,n,r):a0(e,n,r,i);try{const o=s(r);if(null!=o||r&$.Optional)return o;Ll(n)}finally{ZC()}}else if("number"==typeof s){let o=null,a=pg(t,e),u=-1,c=r&$.Host?e[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?nd(t,e):e[a+8],-1!==u&&d0(r,!1)?(o=e[1],a=vo(u),e=wo(u,e)):a=-1);-1!==a;){const l=e[1];if(l0(s,a,l.data)){const d=pj(a,e,n,o,r,c);if(d!==c0)return d}u=e[a+8],-1!==u&&d0(r,e[1].data[a+8]===c)&&l0(s,a,e)?(o=l,a=vo(u),e=wo(u,e)):a=-1}}}return a0(e,n,r,i)}const c0={};function fj(){return new Eo(it(),b())}function pj(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=function id(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&sr(f)&&f.type===n)return u}return null}(a,o,n,null==r?Hl(a)&&hg:r!=o&&0!=(3&a.type),i&$.Host&&s===a);return null!==l?au(e,o,l,a):c0}function au(t,e,n,r){let i=t[n];const s=e.data;if(function sj(t){return t instanceof iu}(i)){const o=i;o.resolving&&function aB(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ce(-200,`Circular dependency in DI detected for ${t}${n}`)}(xt(s[n]));const a=td(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?wi(o.injectImpl):null;KC(t,r,$.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function rj(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=FC(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&wi(u),td(a),o.resolving=!1,ZC()}}return i}function l0(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function d0(t,e){return!(t&$.Self||t&$.Host&&e)}class Eo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return u0(this._tNode,this._lView,e,r,n)}}function Ht(t){return Ei(()=>{const e=t.prototype.constructor,n=e[qr]||gg(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[qr]||gg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gg(t){return TC(t)?()=>{const e=gg(J(t));return e&&e()}:us(t)}function uu(t){return function hj(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(e0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(it(),t)}const bo="__parameters__";function To(t,e,n){return Ei(()=>{const r=function mg(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(bo)?u[bo]:Object.defineProperty(u,bo,{value:[]})[bo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class K{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}toString(){return`InjectionToken ${this._desc}`}}const yj=new K("AnalyzeForEntryComponents");function Ir(t,e){t.forEach(n=>Array.isArray(n)?Ir(n,e):e(n))}function f0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function sd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Nn(t,e,n){let r=Co(t,e);return r>=0?t[1|r]=n:(r=~r,function wj(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _g(t,e){const n=Co(t,e);if(n>=0)return t[1|n]}function Co(t,e){return function m0(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const hu={},wg="__NG_DI_FLAG__",ad="ngTempTokenPath",Aj=/\n/gm,_0="__source",xj=Ee({provide:String,useValue:Ee});let fu;function v0(t){const e=fu;return fu=t,e}function Mj(t,e=$.Default){if(void 0===fu)throw new ce(203,"");return null===fu?xC(t,void 0,e):fu.get(t,e&$.Optional?null:void 0,e)}function O(t,e=$.Default){return(function pB(){return Hp}()||Mj)(J(t),e)}const kj=O;function Eg(t){const e=[];for(let n=0;n<t.length;n++){const r=J(t[n]);if(Array.isArray(r)){if(0===r.length)throw new ce(900,"");let i,s=$.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Nj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(O(i,s))}else e.push(O(r))}return e}function pu(t,e){return t[wg]=e,t.prototype[wg]=e,t}function Nj(t){return t[wg]}const ud=pu(To("Inject",t=>({token:t})),-1),_t=pu(To("Optional"),8),gu=pu(To("SkipSelf"),4);let ld,dd;function So(t){var e;return(null===(e=function bg(){if(void 0===ld&&(ld=null,ve.trustedTypes))try{ld=ve.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return ld}())||void 0===e?void 0:e.createHTML(t))||t}function T0(t){var e;return(null===(e=function Dg(){if(void 0===dd&&(dd=null,ve.trustedTypes))try{dd=ve.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return dd}())||void 0===e?void 0:e.createHTML(t))||t}class cs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qj extends cs{getTypeName(){return"HTML"}}class zj extends cs{getTypeName(){return"Style"}}class Wj extends cs{getTypeName(){return"Script"}}class Kj extends cs{getTypeName(){return"URL"}}class Qj extends cs{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof cs?t.changingThisBreaksApplicationSecurity:t}function br(t,e){const n=S0(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function S0(t){return t instanceof cs&&t.getTypeName()||null}class t${constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(So(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch(n){return null}}}class n${constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const r=this.inertDocument.createElement("body");n.appendChild(r)}}getInertBodyElement(e){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=So(e),n;const r=this.inertDocument.createElement("body");return r.innerHTML=So(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(e){const n=e.attributes;for(let i=n.length-1;0<i;i--){const o=n.item(i).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let r=e.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const i$=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,s$=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yu(t){return(t=String(t)).match(i$)||t.match(s$)?t:"unsafe:"+t}function M0(t){return(t=String(t)).split(",").map(e=>yu(e.trim())).join(", ")}function Dr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function _u(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const k0=Dr("area,br,col,hr,img,wbr"),N0=Dr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),R0=Dr("rp,rt"),Tg=_u(k0,_u(N0,Dr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_u(R0,Dr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_u(R0,N0)),Cg=Dr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ag=Dr("srcset"),O0=_u(Cg,Ag,Dr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Dr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),o$=Dr("script,style,template");class a${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!Tg.hasOwnProperty(n))return this.sanitizedSomething=!0,!o$.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!O0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Cg[a]&&(u=yu(u)),Ag[a]&&(u=M0(u)),this.buf.push(" ",o,'="',P0(u),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();Tg.hasOwnProperty(n)&&!k0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(P0(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const u$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,c$=/([^\#-~ |!])/g;function P0(t){return t.replace(/&/g,"&amp;").replace(u$,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(c$,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hd;function F0(t,e){let n=null;try{hd=hd||function x0(t){const e=new n$(t);return function r$(){try{return!!(new window.DOMParser).parseFromString(So(""),"text/html")}catch(t){return!1}}()?new t$(e):e}(t);let r=e?String(e):"";n=hd.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=hd.getInertBodyElement(r)}while(r!==s);return So((new a$).sanitizeChildren(Sg(n)||n))}finally{if(n){const r=Sg(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Sg(t){return"content"in t&&function l$(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function xg(t){const e=function vu(){const t=b();return t&&t[12]}();return e?T0(e.sanitize(De.HTML,t)||""):br(t,"HTML")?T0(Rn(t)):F0(eg(),G(t))}const U0="__ngContext__";function Gt(t,e){t[U0]=e}function Ng(t){const e=function wu(t){return t[U0]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Og(t){return t.ngOriginalError}function C$(t,...e){t.error(...e)}class Eu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e),r=function T$(t){return t&&t.ngErrorLogger||C$}(e);r(this._console,"ERROR",e),n&&r(this._console,"ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Og(e);for(;n&&Og(n);)n=Og(n);return n||null}}const F$=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ve))();function Tr(t){return t instanceof Function?t():t}var On=(()=>((On=On||{})[On.Important=1]="Important",On[On.DashCase=2]="DashCase",On))();function Fg(t,e){return undefined(t,e)}function Iu(t){const e=t[3];return ir(e)?e[3]:e}function Lg(t){return K0(t[13])}function Vg(t){return K0(t[4])}function K0(t){for(;null!==t&&!ir(t);)t=t[4];return t}function Mo(t,e,n,r,i){if(null!=r){let s,o=!1;ir(r)?s=r:wr(r)&&(o=!0,r=r[0]);const a=Je(r);0===t&&null!==n?null==i?eA(e,n,a):ls(e,n,a,i||null,!0):1===t&&null!==n?ls(e,n,a,i||null,!0):2===t?function aA(t,e,n){const r=fd(t,e);r&&function Y$(t,e,n,r){Ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function X$(t,e,n,r,i){const s=n[7];s!==Je(n)&&Mo(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];bu(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function Bg(t,e,n){if(Ue(t))return t.createElement(e,n);{const r=null!==n?function OB(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(n):null;return null===r?t.createElement(e):t.createElementNS(r,e)}}function Y0(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,rg(i,-1)),n.splice(r,1)}function jg(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Y0(i,r),e>0&&(t[n-1][4]=r[4]);const s=sd(t,10+e);!function $$(t,e){bu(t,e,e[Z],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function J0(t,e){if(!(256&e[2])){const n=e[Z];Ue(n)&&n.destroyNode&&bu(t,e,n,3,null,null),function q$(t){let e=t[13];if(!e)return $g(t[1],t);for(;e;){let n=null;if(wr(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)wr(e)&&$g(e[1],e),e=e[3];null===e&&(e=t),wr(e)&&$g(e[1],e),n=e&&e[4]}e=n}}(e)}}function $g(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Q$(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof iu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function K$(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+1],a="function"==typeof o?o(e):Je(e[o]),u=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?a.removeEventListener(n[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)r[s]();e[7]=null}}(t,e),1===e[1].type&&Ue(e[Z])&&e[Z].destroy();const n=e[17];if(null!==n&&ir(e[3])){n!==e[3]&&Y0(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Z0(t,e,n){return function X0(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const i=t.data[r.directiveStart].encapsulation;if(i===vr.None||i===vr.Emulated)return null}return zn(r,n)}(t,e.parent,n)}function ls(t,e,n,r,i){Ue(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function eA(t,e,n){Ue(t)?t.appendChild(e,n):e.appendChild(n)}function tA(t,e,n,r,i){null!==r?ls(t,e,n,r,i):eA(t,e,n)}function fd(t,e){return Ue(t)?t.parentNode(e):e.parentNode}let iA=function rA(t,e,n){return 40&t.type?zn(t,n):null};function pd(t,e,n,r){const i=Z0(t,r,e),s=e[Z],a=function nA(t,e,n){return iA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)tA(s,i,n[u],a,!1);else tA(s,i,n,a,!1)}function gd(t,e){if(null!==e){const n=e.type;if(3&n)return zn(e,t);if(4&n)return Gg(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return gd(t,r);{const i=t[e.index];return ir(i)?Gg(-1,i):Je(i)}}if(32&n)return Fg(e,t)()||Je(t[e.index]);{const r=oA(t,e);return null!==r?Array.isArray(r)?r[0]:gd(Iu(t[16]),r):gd(t,e.next)}}return null}function oA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gg(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return gd(r,i)}return e[7]}function qg(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Gt(Je(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)qg(t,e,n.child,r,i,s,!1),Mo(e,t,i,a,s);else if(32&u){const c=Fg(n,r);let l;for(;l=c();)Mo(e,t,i,l,s);Mo(e,t,i,a,s)}else 16&u?uA(t,e,r,n,i,s):Mo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function bu(t,e,n,r,i,s){qg(n,r,t.firstChild,e,i,s,!1)}function uA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Mo(e,t,i,u[c],s);else qg(t,e,u,o[3],i,s,!0)}function cA(t,e,n){Ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function zg(t,e,n){Ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function lA(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const dA="ng-template";function tH(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==lA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function hA(t){return 4===t.type&&t.value!==dA}function nH(t,e,n){return e===(4!==t.type||n?t.value:dA)}function rH(t,e,n){let r=4;const i=t.attrs||[],s=function oH(t){for(let e=0;e<t.length;e++)if(e0(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!nH(t,u,n)||""===u&&1===e.length){if(or(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!tH(t.attrs,c,n)){if(or(r))return!1;o=!0}continue}const d=iH(8&r?"class":u,i,hA(t),n);if(-1===d){if(or(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lA(f,c,0)||2&r&&c!==h){if(or(r))return!1;o=!0}}}}else{if(!o&&!or(r)&&!or(u))return!1;if(o&&or(u))continue;o=!1,r=u|1&r}}return or(r)||o}function or(t){return 0==(1&t)}function iH(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function aH(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function fA(t,e,n=!1){for(let r=0;r<e.length;r++)if(rH(t,e[r],n))return!0;return!1}function pA(t,e){return t?":not("+e.trim()+")":e}function cH(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!or(o)&&(e+=pA(s,i),i=""),r=o,s=s||!or(r);n++}return""!==i&&(e+=pA(s,i)),e}const z={};function ge(t){gA(le(),b(),Xt()+t,!1)}function gA(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&Jl(e,s,n)}else{const s=t.preOrderHooks;null!==s&&Zl(e,s,0,n)}Di(n)}function md(t,e){return t<<17|e<<2}function ar(t){return t>>17&32767}function Wg(t){return 2|t}function Qr(t){return(131068&t)>>2}function Kg(t,e){return-131069&t|e<<2}function Qg(t){return 1|t}function CA(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];ug(i),o.contentQueries(2,e[s],s)}}}function Du(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,jC(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[Z]=a||t&&t[Z],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ko(t,e,n,r,i){let s=t.data[e];if(null===s)s=function im(t,e,n,r,i){const s=GC(),o=ig(),u=t.data[e]=function AH(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function zB(){return q.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function ru(){const t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Er(s,!0),s}function No(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Tu(t,e,n){Kl(e);try{const r=t.viewQuery;null!==r&&fm(1,r,n);const i=t.template;null!==i&&AA(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&CA(t,e),t.staticViewQueries&&fm(2,t.viewQuery,n);const s=t.components;null!==s&&function DH(t,e){for(let n=0;n<e.length;n++)qH(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Ql()}}function Ro(t,e,n,r){const i=e[2];if(256!=(256&i)){Kl(e);try{jC(e),function qC(t){return q.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&AA(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&Jl(e,c,null)}else{const c=t.preOrderHooks;null!==c&&Zl(e,c,0,null),cg(e,0)}if(function HH(t){for(let e=Lg(t);null!==e;e=Vg(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(1024&i[2])&&rg(s,1),i[2]|=1024}}}(e),function $H(t){for(let e=Lg(t);null!==e;e=Vg(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];ng(r)&&Ro(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&CA(t,e),o){const c=t.contentCheckHooks;null!==c&&Jl(e,c)}else{const c=t.contentHooks;null!==c&&Zl(e,c,1),cg(e,1)}!function IH(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Di(~i);else{const s=i,o=n[++r],a=n[++r];WB(o,s),a(2,e[s])}}}finally{Di(-1)}}(t,e);const a=t.components;null!==a&&function bH(t,e){for(let n=0;n<e.length;n++)GH(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&fm(2,u,r),o){const c=t.viewCheckHooks;null!==c&&Jl(e,c)}else{const c=t.viewHooks;null!==c&&Zl(e,c,2),cg(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-73,1024&e[2]&&(e[2]&=-1025,rg(e[3],-1))}finally{Ql()}}}function TH(t,e,n,r){const i=e[10],o=function BC(t){return 4==(4&t[2])}(e);try{!o&&i.begin&&i.begin(),o&&Tu(t,e,r),Ro(t,e,n,r)}finally{!o&&i.end&&i.end()}}function AA(t,e,n,r,i){const s=Xt(),o=2&r;try{Di(-1),o&&e.length>20&&gA(t,e,20,!1),n(r,i)}finally{Di(s)}}function SA(t,e,n){if(Kp(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function sm(t,e,n){!HC()||(function OH(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ou(n,e),Gt(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=sr(u);c&&UH(e,n,u);const l=au(e,t,a,n);Gt(l,e),null!==o&&BH(0,a-i,l,u,0,o),c&&(kn(n.index,e)[8]=l)}}(t,e,n,zn(n,e)),128==(128&n.flags)&&function PH(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,a=function KB(){return q.lFrame.currentDirectiveIndex}();try{Di(o);for(let u=r;u<i;u++){const c=t.data[u],l=e[u];og(u),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FA(c,l)}}finally{Di(-1),og(a)}}(t,e,n))}function om(t,e,n=zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function xA(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=vd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function vd(t,e,n,r,i,s,o,a,u,c){const l=20+r,d=l+i,h=function CH(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:z);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function RA(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Pn(t,e,n,r,i,s,o,a){const u=zn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(zA(t,n,l,r,i),Hl(e)&&function MH(t,e){const n=kn(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function xH(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Ue(s)?s.setProperty(u,r,i):dg(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function am(t,e,n,r){let i=!1;if(HC()){const s=function FH(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];fA(n,o.selectors,!1)&&(i||(i=[]),rd(ou(n,e),t,o.type),sr(o)?(LA(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,VA(n,t.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=No(t,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];n.mergedAttrs=ed(n.mergedAttrs,d.hostAttrs),UA(t,n,e,c,d),VH(c,d,o),null!==d.contentQueries&&(n.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(n.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),c++}!function SH(t,e){const r=e.directiveEnd,i=t.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||hA(e)?null:jH(d,s);o.push(h),a=RA(d,c,a),u=RA(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}(t,n)}o&&function LH(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new ce(-301,!1);r.push(e[i],s)}}}(n,r,o)}return n.mergedAttrs=ed(n.mergedAttrs,n.attrs),i}function PA(t,e,n,r,i,s){const o=s.hostBindings;if(o){let a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);const u=~e.index;(function RH(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function FA(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function LA(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function VH(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;sr(e)&&(n[""]=t)}}function VA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function UA(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=us(i.type)),o=new iu(s,sr(i),null);t.blueprint[r]=o,n[r]=o,PA(t,e,0,r,No(t,n,i.hostVars,z),i)}function UH(t,e,n){const r=zn(e,t),i=xA(n),s=t[10],o=wd(t,Du(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Cr(t,e,n,r,i,s){const o=zn(t,e);!function um(t,e,n,r,i,s,o){if(null==s)Ue(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?G(s):o(s,r||"",i);Ue(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[Z],o,s,t.value,n,r,i)}function BH(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function jH(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function BA(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function GH(t,e){const n=kn(e,t);if(ng(n)){const r=n[1];80&n[2]?Ro(r,n,r.template,n[8]):n[5]>0&&cm(n)}}function cm(t){for(let r=Lg(t);null!==r;r=Vg(r))for(let i=10;i<r.length;i++){const s=r[i];if(1024&s[2]){const o=s[1];Ro(o,s,o.template,s[8])}else s[5]>0&&cm(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=kn(n[r],t);ng(i)&&i[5]>0&&cm(i)}}function qH(t,e){const n=kn(e,t),r=n[1];(function zH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Tu(r,n,n[8])}function wd(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function lm(t){for(;t;){t[2]|=64;const e=Iu(t);if(DB(t)&&!e)return t;t=e}return null}function jA(t){!function dm(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ng(n),i=r[1];TH(i,r,i.template,n)}}(t[8])}function fm(t,e,n){ug(0),e(t,n)}const KH=(()=>Promise.resolve(null))();function $A(t){return t[7]||(t[7]=[])}function HA(t){return t.cleanup||(t.cleanup=[])}function qA(t,e){const n=t[9],r=n?n.get(Eu,null):null;r&&r.handleError(e)}function zA(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Yr(t,e,n){const r=ql(e,t);!function Q0(t,e,n){Ue(t)?t.setValue(e,n):e.textContent=n}(t[Z],r,n)}function Ed(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Up(i,a):2==s&&(r=Up(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const pm=new K("INJECTOR",-1);class WA{get(e,n=hu){if(n===hu){const r=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw r.name="NullInjectorError",r}return n}}const gm=new K("Set Injector scope."),Cu={},JH={};let mm;function KA(){return void 0===mm&&(mm=new WA),mm}function QA(t,e=null,n=null,r){const i=YA(t,e,n,r);return i._resolveInjectorDefTypes(),i}function YA(t,e=null,n=null,r){return new ZH(t,n,e||KA(),r)}class ZH{constructor(e,n,r,i=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];n&&Ir(n,a=>this.processProvider(a,e,n)),Ir([e],a=>this.processInjectorType(a,[],s)),this.records.set(pm,Oo(void 0,this));const o=this.records.get(gm);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:me(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,n=hu,r=$.Default){this.assertNotDestroyed();const i=v0(this),s=wi(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function oG(t){return"function"==typeof t||"object"==typeof t&&t instanceof K}(e)&&jp(e);a=u&&this.injectableDefInScope(u)?Oo(ym(e),Cu):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&$.Self?KA():this.parent).get(e,n=r&$.Optional&&n===hu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[ad]=o[ad]||[]).unshift(me(e)),i)throw o;return function Rj(t,e,n,r){const i=t[ad];throw e[_0]&&i.unshift(e[_0]),t.message=function Oj(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=me(e);if(Array.isArray(e))i=e.map(me).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):me(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Aj,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[ad]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{wi(s),v0(i)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((r,i)=>e.push(me(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processInjectorType(e,n,r){if(!(e=J(e)))return!1;let i=AC(e);const s=null==i&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==r.indexOf(o);if(void 0!==s&&(i=AC(s)),null==i)return!1;if(null!=i.imports&&!a){let l;r.push(o);try{Ir(i.imports,d=>{this.processInjectorType(d,n,r)&&(void 0===l&&(l=[]),l.push(d))})}finally{}if(void 0!==l)for(let d=0;d<l.length;d++){const{ngModule:h,providers:f}=l[d];Ir(f,p=>this.processProvider(p,h,f||be))}}this.injectorDefTypes.add(o);const u=us(o)||(()=>new o);this.records.set(o,Oo(u,Cu));const c=i.providers;if(null!=c&&!a){const l=e;Ir(c,d=>this.processProvider(d,l,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,n,r){let i=Po(e=J(e))?e:J(e&&e.provide);const s=function eG(t,e,n){return ZA(t)?Oo(void 0,t.useValue):Oo(JA(t),Cu)}(e);if(Po(e)||!0!==e.multi)this.records.get(i);else{let o=this.records.get(i);o||(o=Oo(void 0,Cu,!0),o.factory=()=>Eg(o.multi),this.records.set(i,o)),i=e,o.multi.push(e)}this.records.set(i,s)}hydrate(e,n){return n.value===Cu&&(n.value=JH,n.value=n.factory()),"object"==typeof n.value&&n.value&&function sG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this.onDestroy.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=J(e.providedIn);return"string"==typeof n?"any"===n||n===this.scope:this.injectorDefTypes.has(n)}}function ym(t){const e=jp(t),n=null!==e?e.factory:us(t);if(null!==n)return n;if(t instanceof K)throw new ce(204,!1);if(t instanceof Function)return function XH(t){const e=t.length;if(e>0)throw function du(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new ce(204,!1);const n=function dB(t){const e=t&&(t[Vl]||t[SC]);if(e){const n=function hB(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new ce(204,!1)}function JA(t,e,n){let r;if(Po(t)){const i=J(t);return us(i)||ym(i)}if(ZA(t))r=()=>J(t.useValue);else if(function nG(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...Eg(t.deps||[]));else if(function tG(t){return!(!t||!t.useExisting)}(t))r=()=>O(J(t.useExisting));else{const i=J(t&&(t.useClass||t.provide));if(!function iG(t){return!!t.deps}(t))return us(i)||ym(i);r=()=>new i(...Eg(t.deps))}return r}function Oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ZA(t){return null!==t&&"object"==typeof t&&xj in t}function Po(t){return"function"==typeof t}let vt=(()=>{class t{static create(n,r){var i;if(Array.isArray(n))return QA({name:""},r,n,"");{const s=null!==(i=n.name)&&void 0!==i?i:"";return QA({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=hu,t.NULL=new WA,t.\u0275prov=W({token:t,providedIn:"any",factory:()=>O(pm)}),t.__NG_ELEMENT_ID__=-1,t})();function pG(t,e){Yl(Ng(t)[1],it())}function ye(t){let e=function lS(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new ce(903,"");i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=wm(t.inputs),o.declaredInputs=wm(t.declaredInputs),o.outputs=wm(t.outputs);const a=i.hostBindings;a&&_G(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&mG(t,u),c&&yG(t,c),Vp(t.inputs,i.inputs),Vp(t.declaredInputs,i.declaredInputs),Vp(t.outputs,i.outputs),sr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===ye&&(n=!1)}}e=Object.getPrototypeOf(e)}!function gG(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ed(i.hostAttrs,n=ed(n,i.hostAttrs))}}(r)}function wm(t){return t===ho?{}:t===be?[]:t}function mG(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function yG(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function _G(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Id=null;function Fo(){if(!Id){const t=ve.Symbol;if(t&&t.iterator)Id=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Id=r)}}}return Id}function Au(t){return!!function Em(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fo()in t)}function qt(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function gn(t,e,n,r){const i=b();return qt(i,_o(),e)&&(le(),Cr(Be(),i,t,e,n,r)),gn}function Mt(t,e,n,r,i,s,o,a){const u=b(),c=le(),l=t+20,d=c.firstCreatePass?function TG(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ko(e,t,4,o||null,bi(c,a));am(e,n,l,bi(c,u)),Yl(e,l);const d=l.tViews=vd(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Er(d,!1);const h=u[Z].createComment("");pd(c,u,h,d),Gt(h,u),wd(u,u[l]=BA(h,u,h,d)),Gl(d)&&sm(c,u,d),null!=o&&om(u,d,a)}function I(t,e=$.Default){const n=b();return null===n?O(t,e):u0(it(),n,J(t),e)}function Cm(){throw new Error("invalid")}function je(t,e,n){const r=b();return qt(r,_o(),e)&&Pn(le(),Be(),r,t,e,r[Z],n,!1),je}function Am(t,e,n,r,i){const o=i?"class":"style";zA(t,n,e.inputs[o],o,r)}function ie(t,e,n,r){const i=b(),s=le(),o=20+t,a=i[Z],u=i[o]=Bg(a,e,function nj(){return q.lFrame.currentNamespace}()),c=s.firstCreatePass?function WG(t,e,n,r,i,s,o){const a=e.consts,c=ko(e,t,2,i,bi(a,s));return am(e,n,c,bi(a,o)),null!==c.attrs&&Ed(c,c.attrs,!1),null!==c.mergedAttrs&&Ed(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Er(c,!0);const l=c.mergedAttrs;null!==l&&Xl(a,u,l);const d=c.classes;null!==d&&zg(a,u,d);const h=c.styles;return null!==h&&cA(a,u,h),64!=(64&c.flags)&&pd(s,i,u,c),0===function BB(){return q.lFrame.elementDepthCount}()&&Gt(u,i),function jB(){q.lFrame.elementDepthCount++}(),Gl(c)&&(sm(s,i,c),SA(s,c,i)),null!==r&&om(i,c),ie}function ue(){let t=it();ig()?sg():(t=t.parent,Er(t,!1));const e=t;!function $B(){q.lFrame.elementDepthCount--}();const n=le();return n.firstCreatePass&&(Yl(n,t),Kp(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function aj(t){return 0!=(16&t.flags)}(e)&&Am(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function uj(t){return 0!=(32&t.flags)}(e)&&Am(n,e,b(),e.stylesWithoutHost,!1),ue}function mn(t,e,n,r){return ie(t,e,n,r),ue(),mn}function xu(t,e,n){const r=b(),i=le(),s=t+20,o=i.firstCreatePass?function KG(t,e,n,r,i){const s=e.consts,o=bi(s,r),a=ko(e,t,8,"ng-container",o);return null!==o&&Ed(a,o,!0),am(e,n,a,bi(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Er(o,!0);const a=r[s]=r[Z].createComment("");return pd(i,r,a,o),Gt(a,r),Gl(o)&&(sm(i,r,o),SA(i,o,r)),null!=n&&om(r,o),xu}function Mu(){let t=it();const e=le();return ig()?sg():(t=t.parent,Er(t,!1)),e.firstCreatePass&&(Yl(e,t),Kp(t)&&e.queries.elementEnd(t)),Mu}function Td(){return b()}function ku(t){return!!t&&"function"==typeof t.then}const Sm=function kS(t){return!!t&&"function"==typeof t.subscribe};function ot(t,e,n,r){const i=b(),s=le(),o=it();return function RS(t,e,n,r,i,s,o,a){const u=Gl(r),l=t.firstCreatePass&&HA(t),d=e[8],h=$A(e);let f=!0;if(3&r.type||a){const y=zn(r,e),E=a?a(y):y,_=h.length,C=a?N=>a(Je(N[r.index])):r.index;if(Ue(n)){let N=null;if(!a&&u&&(N=function QG(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=xm(r,e,d,s,!1);const F=n.listen(E,i,s);h.push(s,F),l&&l.push(i,C,_,_+1)}}else s=xm(r,e,d,s,!0),E.addEventListener(i,s,o),h.push(s),l&&l.push(i,C,_,o)}else s=xm(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const y=g.length;if(y)for(let E=0;E<y;E+=2){const Y=e[g[E]][g[E+1]].subscribe(s),Me=h.length;h.push(s,Y),l&&l.push(i,r.index,Me,-(Me+1))}}}(s,i,i[Z],o,t,e,!!n,r),ot}function OS(t,e,n,r){try{return!1!==n(r)}catch(i){return qA(t,i),!1}}function xm(t,e,n,r,i){return function s(o){if(o===Function)return r;const a=2&t.flags?kn(t.index,e):e;0==(32&e[2])&&lm(a);let u=OS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=OS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function tn(t=1){return function YB(t){return(q.lFrame.contextLView=function JB(t,e){for(;t>0;)e=e[15],t--;return e}(t,q.lFrame.contextLView))[8]}(t)}function GS(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ar(s):Qr(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];tq(t[a],e)&&(u=!0,t[a+1]=r?Qg(l):Wg(l)),a=r?ar(l):Qr(l)}u&&(t[n+1]=r?Wg(s):Qg(s))}function tq(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Co(t,e)>=0}const at={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function qS(t){return t.substring(at.key,at.keyEnd)}function zS(t,e){const n=at.textEnd;return n===e?-1:(e=at.keyEnd=function sq(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,at.key=e,n),Wo(t,e,n))}function Wo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ko(t,e,n){return cr(t,e,n,!1),Ko}function Cd(t,e){return cr(t,e,null,!0),Cd}function Jr(t){!function lr(t,e,n,r){const i=le(),s=Kr(2);i.firstUpdatePass&&ZS(i,null,s,r);const o=b();if(n!==z&&qt(o,s,n)){const a=i.data[Xt()];if(nx(a,r)&&!JS(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=Up(u,n||"")),Am(i,a,o,n,r)}else!function pq(t,e,n,r,i,s,o,a){i===z&&(i=be);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&ex(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[Z],o[s+1],o[s+1]=function fq(t,e,n){if(null==n||""===n)return be;const r=[],i=Rn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Nn,xr,t,!0)}function xr(t,e){for(let n=function rq(t){return function KS(t){at.key=0,at.keyEnd=0,at.value=0,at.valueEnd=0,at.textEnd=t.length}(t),zS(t,Wo(t,0,at.textEnd))}(e);n>=0;n=zS(e,n))Nn(t,qS(e),!0)}function cr(t,e,n,r){const i=b(),s=le(),o=Kr(2);s.firstUpdatePass&&ZS(s,t,o,r),e!==z&&qt(i,o,e)&&ex(s,s.data[Xt()],i,i[Z],t,i[o+1]=function gq(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=me(Rn(t)))),t}(e,n),r,o)}function JS(t,e){return e>=t.expandoStartIndex}function ZS(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xt()],o=JS(t,n);nx(s,r)&&null===e&&!o&&(e=!1),e=function cq(t,e,n,r){const i=ag(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Nu(n=km(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=km(i,t,e,n,r),null===s){let u=function lq(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Qr(r))return t[ar(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=km(null,t,e,u[1],r),u=Nu(u,e.attrs,r),function dq(t,e,n,r){t[ar(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function hq(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Nu(r,t[s].hostAttrs,n);return Nu(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function XG(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ar(o),u=Qr(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||Co(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=ar(t[a+1]);t[r+1]=md(h,a),0!==h&&(t[h+1]=Kg(t[h+1],r)),t[a+1]=function hH(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=md(a,0),0!==a&&(t[a+1]=Kg(t[a+1],r)),a=r;else t[r+1]=md(u,0),0===a?a=r:t[u+1]=Kg(t[u+1],r),u=r;c&&(t[r+1]=Wg(t[r+1])),GS(t,l,r,!0),GS(t,l,r,!1),function eq(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Co(s,e)>=0&&(n[r+1]=Qg(n[r+1]))}(e,l,t,r,s),o=md(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function km(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Nu(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Nu(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Nn(t,o,!!n||e[++s]))}return void 0===t?null:t}function ex(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ad(function _A(t){return 1==(1&t)}(c)?tx(u,e,n,i,Qr(c),o):void 0)||(Ad(s)||function yA(t){return 2==(2&t)}(c)&&(s=tx(u,null,n,i,a,o)),function eH(t,e,n,r,i){const s=Ue(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let o=-1===r.indexOf("-")?void 0:On.DashCase;if(null==i)s?t.removeStyle(n,r,o):n.style.removeProperty(r);else{const a="string"==typeof i&&i.endsWith("!important");a&&(i=i.slice(0,-10),o|=On.Important),s?t.setStyle(n,r,i,o):n.style.setProperty(r,i,a?"important":"")}}}(r,o,ql(Xt(),n),i,s))}function tx(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===z&&(h=d?be:void 0);let f=d?_g(h,r):l===r?h:void 0;if(c&&!Ad(f)&&(f=_g(u,r)),Ad(f)&&(a=f,o))return a;const p=t[i+1];i=o?ar(p):Qr(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=_g(u,r))}return a}function Ad(t){return void 0!==t}function nx(t,e){return 0!=(t.flags&(e?16:32))}function xe(t,e=""){const n=b(),r=le(),i=t+20,s=r.firstCreatePass?ko(r,i,1,e,null):r.data[i],o=n[i]=function Ug(t,e){return Ue(t)?t.createText(e):t.createTextNode(e)}(n[Z],e);pd(r,n,o,s),Er(s,!1)}function Ru(t){return Qn("",t,""),Ru}function Qn(t,e,n){const r=b(),i=function Vo(t,e,n,r){return qt(t,_o(),n)?e+G(n)+r:z}(r,t,e,n);return i!==z&&Yr(r,Xt(),i),Qn}function Nm(t,e,n){const r=b();if(qt(r,_o(),e)){const s=le(),o=Be();Pn(s,o,r,t,e,function GA(t,e,n){return(null===t||sr(t))&&(n=function LB(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[Z]}(ag(s.data),o,r),n,!0)}return Nm}const Sd="en-US";let bx=Sd;function Pm(t,e,n,r,i){if(t=J(t),Array.isArray(t))for(let s=0;s<t.length;s++)Pm(t[s],e,n,r,i);else{const s=le(),o=b();let a=Po(t)?t:J(t.provide),u=JA(t);const c=it(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Po(t)||!t.multi){const f=new iu(u,i,I),p=Lm(a,e,i?l:l+h,d);-1===p?(rd(ou(c,o),s,a),Fm(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=Lm(a,e,l+h,d),p=Lm(a,e,l,l+h),g=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!g){rd(ou(c,o),s,a);const E=function O3(t,e,n,r,i){const s=new iu(t,n,I);return s.multi=[],s.index=e,s.componentProviders=0,Wx(s,i,r&&!n),s}(i?R3:N3,n.length,i,r,u);!i&&y&&(n[p].providerFactory=E),Fm(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(E),o.push(E)}else Fm(s,t,f>-1?f:p,Wx(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function Fm(t,e,n,r){const i=Po(e),s=function rG(t){return!!t.useClass}(e);if(i||s){const u=(s?J(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function Wx(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function N3(t,e,n,r){return Vm(this.multi,[])}function R3(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=au(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),Vm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Vm(i,s);return s}function Vm(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ne(t,e=[]){return n=>{n.providersResolver=(r,i)=>function k3(t,e,n){const r=le();if(r.firstCreatePass){const i=sr(t);Pm(n,r.data,r.blueprint,i,!0),Pm(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Kx{}class L3{resolveComponentFactory(e){throw function F3(t){const e=Error(`No component factory found for ${me(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let Jo=(()=>{class t{}return t.NULL=new L3,t})();function V3(){return Zo(it(),b())}function Zo(t,e){return new Fn(zn(t,e))}let Fn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=V3,t})();class Yx{}let Zr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function j3(){const t=b(),n=kn(it().index,t);return function B3(t){return t[Z]}(wr(n)?n:t)}(),t})(),$3=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>null}),t})();class Xo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Jx=new Xo("13.3.11"),Um={};function Rd(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Je(s)),ir(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Rd(u[1],u,c,r)}const o=n.type;if(8&o)Rd(t,e,n.child,r);else if(32&o){const a=Fg(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=oA(e,n);if(Array.isArray(a))r.push(...a);else{const u=Iu(e[16]);Rd(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Vu{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Rd(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(ir(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(jg(e,r),sd(n,r))}this._attachedToViewContainer=!1}J0(this._lView[1],this._lView)}onDestroy(e){!function NA(t,e,n,r){const i=$A(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&HA(t).push(r,i.length-1))}(this._lView[1],this._lView,null,e)}markForCheck(){lm(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function hm(t,e,n){const r=e[10];r.begin&&r.begin();try{Ro(t,e,t.template,n)}catch(i){throw qA(e,i),i}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function G$(t,e){bu(t,e,e[Z],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ce(902,"");this._appRef=e}}class H3 extends Vu{constructor(e){super(e),this._view=e}detectChanges(){jA(this._view)}checkNoChanges(){}get context(){return null}}class Zx extends Jo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=jt(e);return new Bm(n,this.ngModule)}}function Xx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Bm extends Kx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function lH(t){return t.map(cH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Xx(this.componentDef.inputs)}get outputs(){return Xx(this.componentDef.outputs)}create(e,n,r,i){const s=(i=i||this.ngModule)?function q3(t,e){return{get:(n,r,i)=>{const s=t.get(n,Um,i);return s!==Um||r===Um?s:e.get(n,r,i)}}}(e,i.injector):e,o=s.get(Yx,UC),a=s.get($3,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=r?function kA(t,e,n){if(Ue(t))return t.selectRootElement(e,n===vr.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,r,this.componentDef.encapsulation):Bg(o.createRenderer(null,this.componentDef),c,function G3(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function cS(t,e){return{components:[],scheduler:t||F$,clean:KH,playerHandler:e||null,flags:0}}(),f=vd(0,null,null,1,0,null,null,null,null,null),p=Du(null,f,h,d,null,null,o,u,a,s);let g,y;Kl(p);try{const E=function aS(t,e,n,r,i,s){const o=n[1];n[20]=t;const u=ko(o,20,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Ed(u,c,!0),null!==t&&(Xl(i,t,c),null!==u.classes&&zg(i,t,u.classes),null!==u.styles&&cA(i,t,u.styles)));const l=r.createRenderer(t,e),d=Du(n,xA(e),null,e.onPush?64:16,n[20],u,r,l,s||null,null);return o.firstCreatePass&&(rd(ou(u,n),o,e.type),LA(o,u),VA(u,n.length,1)),wd(n,d),n[20]=d}(l,this.componentDef,p,o,u);if(l)if(r)Xl(u,l,["ng-version",Jx.full]);else{const{attrs:_,classes:C}=function dH(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!or(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);_&&Xl(u,l,_),C&&C.length>0&&zg(u,l,C.join(" "))}if(y=tg(f,20),void 0!==n){const _=y.projection=[];for(let C=0;C<this.ngContentSelectors.length;C++){const N=n[C];_.push(null!=N?Array.from(N):null)}}g=function uS(t,e,n,r,i){const s=n[1],o=function NH(t,e,n){const r=it();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),UA(t,r,e,No(t,e,1,null),n));const i=au(e,t,r.directiveStart,r);Gt(i,e);const s=zn(r,e);return s&&Gt(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(u=>u(o,e)),e.contentQueries){const u=it();e.contentQueries(1,o,u.directiveStart)}const a=it();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Di(a.index),PA(n[1],a,0,a.directiveStart,a.directiveEnd,e),FA(e,o)),o}(E,this.componentDef,p,h,[pG]),Tu(f,p,null)}finally{Ql()}return new W3(this.componentType,g,Zo(y,p),p,y)}}class W3 extends class P3{}{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new H3(i),this.componentType=e}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Xr{}class eM{}const ea=new Map;class rM extends Xr{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Zx(this);const r=$n(e);this._bootstrapComponents=Tr(r.bootstrap),this._r3Injector=YA(e,n,[{provide:Xr,useValue:this},{provide:Jo,useValue:this.componentFactoryResolver}],me(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,n=vt.THROW_IF_NOT_FOUND,r=$.Default){return e===vt||e===Xr||e===pm?this:this._r3Injector.get(e,n,r)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class jm extends eM{constructor(e){super(),this.moduleType=e,null!==$n(e)&&function Q3(t){const e=new Set;!function n(r){const i=$n(r,!0),s=i.id;null!==s&&(function tM(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${me(e)} vs ${me(e.name)}`)}(s,ea.get(s),r),ea.set(s,r));const o=Tr(i.imports);for(const a of o)e.has(a)||(e.add(a),n(a))}(t)}(e)}create(e){return new rM(this.moduleType,e)}}function iM(t,e,n,r){return function sM(t,e,n,r,i,s){const o=e+n;return qt(t,o,i)?function Ar(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function Uu(t,e){const n=t[e];return n===z?void 0:n}(t,o+1)}(b(),function Zt(){const t=q.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function $m(t){return e=>{setTimeout(t,void 0,e)}}const He=class hz extends Bt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){var i,s,o;let a=e,u=n||(()=>null),c=r;if(e&&"object"==typeof e){const d=e;a=null===(i=d.next)||void 0===i?void 0:i.bind(d),u=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(u=$m(u),a&&(a=$m(a)),c&&(c=$m(c)));const l=super.subscribe({next:a,error:u,complete:c});return e instanceof Cn&&e.add(l),l}};Symbol;let ei=(()=>{class t{}return t.__NG_ELEMENT_ID__=mz,t})();const pz=ei,gz=class extends pz{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e){const n=this._declarationTContainer.tViews,r=Du(this._declarationLView,n,e,16,null,n.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(n)),Tu(n,r,e),new Vu(r)}};function mz(){return function Od(t,e){return 4&t.type?new gz(e,t,Zo(t,e)):null}(it(),b())}let dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=yz,t})();function yz(){return function hM(t,e){let n;const r=e[t.index];if(ir(r))n=r;else{let i;if(8&t.type)i=Je(r);else{const s=e[Z];i=s.createComment("");const o=zn(t,e);ls(s,fd(s,o),i,function J$(t,e){return Ue(t)?t.nextSibling(e):e.nextSibling}(s,o),!1)}e[t.index]=n=BA(r,e,i,t),wd(e,n)}return new lM(n,t,e)}(it(),b())}const _z=dr,lM=class extends _z{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){const e=nd(this._hostTNode,this._hostLView);if(n0(e)){const n=wo(e,this._hostLView),r=vo(e);return new Eo(n[1].data[r+8],n)}return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=dM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){const i=e.createEmbeddedView(n||{});return this.insert(i,r),i}createComponent(e,n,r,i,s){const o=e&&!function lu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.ngModuleRef}const u=o?e:new Bm(jt(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(Xr,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function UB(t){return ir(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new lM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function z$(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],f0(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function W$(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,r,o,s);const a=Gg(s,o),u=r[Z],c=fd(u,o[7]);return null!==c&&function H$(t,e,n,r,i,s){r[0]=i,r[6]=e,bu(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),f0(Gm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=dM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=jg(this._lContainer,n);r&&(sd(Gm(this._lContainer),n),J0(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=jg(this._lContainer,n);return r&&null!=sd(Gm(this._lContainer),n)?new Vu(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function dM(t){return t[8]}function Gm(t){return t[8]||(t[8]=[])}function Ld(...t){}const iy=new K("Application Initializer");let sy=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Ld,this.reject=Ld,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(ku(s))n.push(s);else if(Sm(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(O(iy,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const $u=new K("AppId",{providedIn:"root",factory:function OM(){return`${oy()}${oy()}${oy()}`}});function oy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const PM=new K("Platform Initializer"),Vd=new K("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FM=new K("appBootstrapListener");let qz=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Si=new K("LocaleId",{providedIn:"root",factory:()=>kj(Si,$.Optional|$.SkipSelf)||function zz(){return"undefined"!=typeof $localize&&$localize.locale||Sd}()});class Kz{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let LM=(()=>{class t{compileModuleSync(n){return new jm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Tr($n(n).declarations).reduce((o,a)=>{const u=jt(a);return u&&o.push(new Bm(u)),o},[]);return new Kz(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Yz=(()=>Promise.resolve(0))();function ay(t){"undefined"==typeof Zone?Yz.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ge{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Jz(){let t=ve.requestAnimationFrame,e=ve.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function eW(t){const e=()=>{!function Xz(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ve,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cy(t),t.isCheckStableRunning=!0,uy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cy(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return VM(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),UM(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return VM(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),UM(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,cy(t),uy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ge.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ge.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Zz,Ld,Ld);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Zz={};function uy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cy(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function VM(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function UM(t){t._nesting--,uy(t)}class tW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}let ly=(()=>{class t{constructor(n){this._ngZone=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ge.assertNotInAngularZone(),ay(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ay(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(O(Ge))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),nW=(()=>{class t{constructor(){this._applications=new Map,dy.addToWindow(this)}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dy.findTestabilityInTree(this,n,r)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class rW{addToWindow(e){}findTestabilityInTree(e,n,r){return null}}let dy=new rW,fs=null;const BM=new K("AllowMultipleToken"),jM=new K("PlatformOnDestroy");class $M{constructor(e,n){this.name=e,this.token=n}}function HM(t,e,n=[]){const r=`Platform: ${e}`,i=new K(r);return(s=[])=>{let o=hy();if(!o||o.injector.get(BM,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function aW(t){if(fs&&!fs.get(BM,!1))throw new ce(400,"");fs=t;const e=t.get(GM),n=t.get(PM,null);n&&n.forEach(r=>r())}(function cW(t=[],e){return vt.create({name:e,providers:[{provide:gm,useValue:"platform"},{provide:jM,useValue:()=>fs=null},...t]})}(a,r))}return function uW(t){const e=hy();if(!e)throw new ce(401,"");return e}()}}function hy(){var t;return null!==(t=null==fs?void 0:fs.get(GM))&&void 0!==t?t:null}let GM=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const a=function lW(t,e){let n;return n="noop"===t?new tW:("zone.js"===t?void 0:t)||new Ge({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),u=[{provide:Ge,useValue:a}];return a.run(()=>{const c=vt.create({providers:u,parent:this.injector,name:n.moduleType.name}),l=n.create(c),d=l.injector.get(Eu,null);if(!d)throw new ce(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});l.onDestroy(()=>{fy(this._modules,l),h.unsubscribe()})}),function dW(t,e,n){try{const r=n();return ku(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(d,a,()=>{const h=l.injector.get(sy);return h.runInitializers(),h.donePromise.then(()=>(function Bq(t){Sn(t,"Expected localeId to be defined"),"string"==typeof t&&(bx=t.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Si,Sd)||Sd),this._moduleDoBootstrap(l),l))})})}bootstrapModule(n,r=[]){const i=qM({},r);return function sW(t,e,n){const r=new jm(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Hu);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ce(403,"");n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(jM,null);null==n||n(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(O(vt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function qM(t,e){return Array.isArray(e)?e.reduce(qM,t):Object.assign(Object.assign({},t),e)}let Hu=(()=>{class t{constructor(n,r,i,s){this._zone=n,this._injector=r,this._exceptionHandler=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new Pe(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),a=new Pe(u=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ge.assertNotInAngularZone(),ay(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ge.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function iB(...t){const e=Za(t),n=function J2(t,e){return"number"==typeof Fp(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?_r(r[0]):Ja(n)(mt(r,e)):Hr}(o,a.pipe(function sB(t={}){const{connector:e=(()=>new Bt),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o=null,a=null,u=null,c=0,l=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=null},f=()=>{h(),o=u=null,l=d=!1},p=()=>{const g=o;f(),null==g||g.unsubscribe()};return St((g,y)=>{c++,!d&&!l&&h();const E=u=null!=u?u:e();y.add(()=>{c--,0===c&&!d&&!l&&(a=Lp(p,i))}),E.subscribe(y),o||(o=new Nl({next:_=>E.next(_),error:_=>{d=!0,h(),a=Lp(f,n,_),E.error(_)},complete:()=>{l=!0,h(),a=Lp(f,r),E.complete()}}),mt(g).subscribe(o))})(s)}}()))}bootstrap(n,r){if(!this._initStatus.done)throw new ce(405,"");let i;i=n instanceof Kx?n:this._injector.get(Jo).resolveComponentFactory(n),this.componentTypes.push(i.componentType);const s=function oW(t){return t.isBoundToModule}(i)?void 0:this._injector.get(Xr),a=i.create(vt.NULL,[],r||i.selector,s),u=a.location.nativeElement,c=a.injector.get(ly,null),l=c&&a.injector.get(nW);return c&&l&&l.registerApplication(u,c),a.onDestroy(()=>{this.detachView(a.hostView),fy(this.components,a),l&&l.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new ce(101,"");try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;fy(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(FM,[]).concat(this._bootstrapListeners).forEach(i=>i(n))}ngOnDestroy(){this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(n){return new(n||t)(O(Ge),O(vt),O(Eu),O(sy))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function fy(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let WM=!0,Ud=(()=>{class t{}return t.__NG_ELEMENT_ID__=pW,t})();function pW(t){return function gW(t,e,n){if(Hl(t)&&!n){const r=kn(t.index,e);return new Vu(r,r)}return 47&t.type?new Vu(e[16],e):null}(it(),b(),16==(16&t))}class ZM{constructor(){}supports(e){return Au(e)}create(e){return new EW(e)}}const wW=(t,e)=>e;class EW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||wW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<ek(r,i,s)?n:r,a=ek(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Au(e))throw new ce(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function DG(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Fo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new IW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new XM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new XM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class IW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class XM{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new bW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ek(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function nk(){return new $d([new ZM])}let $d=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||nk()),deps:[[t,new gu,new _t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ce(901,"")}}return t.\u0275prov=W({token:t,providedIn:"root",factory:nk}),t})();const SW=HM(null,"core",[]);let xW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(O(Hu))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})(),Hd=null;function Mr(){return Hd}const zt=new K("DocumentToken");let gs=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return function RW(){return O(ik)}()},providedIn:"platform"}),t})();const OW=new K("Location Initialized");let ik=(()=>{class t extends gs{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(n){const r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){sk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){sk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:function(){return function PW(){return new ik(O(zt))}()},providedIn:"platform"}),t})();function sk(){return!!window.history.pushState}function _y(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function ok(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ti(t){return t&&"?"!==t[0]?"?"+t:t}let na=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(){return function FW(t){const e=O(zt).location;return new ak(O(gs),e&&e.origin||"")}()},providedIn:"root"}),t})();const vy=new K("appBaseHref");let ak=(()=>{class t extends na{constructor(n,r){if(super(),this._platformLocation=n,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return _y(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+ti(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+ti(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+ti(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(O(gs),O(vy,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),LW=(()=>{class t extends na{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=_y(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+ti(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+ti(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,n)}}return t.\u0275fac=function(n){return new(n||t)(O(gs),O(vy,8))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),wy=(()=>{class t{constructor(n,r){this._subject=new He,this._urlChangeListeners=[],this._platformStrategy=n;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ok(uk(i)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(n=!1){return this.normalize(this._platformStrategy.path(n))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+ti(r))}normalize(n){return t.stripTrailingSlash(function UW(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,uk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._platformStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._platformStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}replaceState(n,r="",i=null){this._platformStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+ti(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(n=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,n)}onUrlChange(n){this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=ti,t.joinWithSlash=_y,t.stripTrailingSlash=ok,t.\u0275fac=function(n){return new(n||t)(O(na),O(gs))},t.\u0275prov=W({token:t,factory:function(){return function VW(){return new wy(O(na),O(gs))}()},providedIn:"root"}),t})();function uk(t){return t.replace(/\/index.html$/,"")}class T4{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yk=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new T4(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),_k(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{_k(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(dr),I(ei),I($d))},t.\u0275dir=B({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();function _k(t,e){t.context.$implicit=e.item}let Wu=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new C4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){vk("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){vk("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(I(dr),I(ei))},t.\u0275dir=B({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class C4{constructor(){this.$implicit=null,this.ngIf=null}}function vk(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${me(e)}'.`)}let Ik=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();let n8=(()=>{class t{}return t.\u0275prov=W({token:t,providedIn:"root",factory:()=>new r8(O(zt),window)}),t})();class r8{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function i8(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Dk(this.window.history)||Dk(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Dk(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Oy extends class o8 extends class NW{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function kW(t){Hd||(Hd=t)}(new Oy)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function a8(){return Ku=Ku||document.querySelector("base"),Ku?Ku.getAttribute("href"):null}();return null==n?null:function u8(t){Xd=Xd||document.createElement("a"),Xd.setAttribute("href",t);const e=Xd.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ku=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function I4(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Xd,Ku=null;const Tk=new K("TRANSITION_ID"),l8=[{provide:iy,useFactory:function c8(t,e,n){return()=>{n.get(sy).donePromise.then(()=>{const r=Mr(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Tk,zt,vt],multi:!0}];class Py{static init(){!function iW(t){dy=t}(new Py)}addToWindow(e){ve.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},ve.getAllAngularTestabilities=()=>e.getAllTestabilities(),ve.getAllAngularRootElements=()=>e.getAllRootElements(),ve.frameworkStabilizers||(ve.frameworkStabilizers=[]),ve.frameworkStabilizers.push(r=>{const i=ve.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Mr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}}let d8=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const eh=new K("EventManagerPlugins");let th=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(O(eh),O(Ge))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class Ck{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Mr().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let Ak=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),Qu=(()=>{class t extends Ak{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Sk),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Sk))}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function Sk(t){Mr().remove(t)}const Fy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ly=/%COMP%/g;function nh(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?nh(t,i,n):(i=i.replace(Ly,t),n.push(i))}return n}function kk(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vy=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Uy(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case vr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new y8(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case vr.ShadowDom:return new _8(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=nh(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(O(th),O(Qu),O($u))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();class Uy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(Fy[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){e.appendChild(n)}insertBefore(e,n,r){e&&e.insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=Fy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=Fy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,kk(r)):this.eventManager.addEventListener(e,n,kk(r))}}class y8 extends Uy{constructor(e,n,r,i){super(e),this.component=r;const s=nh(i+"-"+r.id,r.styles,[]);n.addStyles(s),this.contentAttr=function p8(t){return"_ngcontent-%COMP%".replace(Ly,t)}(i+"-"+r.id),this.hostAttr=function g8(t){return"_nghost-%COMP%".replace(Ly,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class _8 extends Uy{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=nh(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let v8=(()=>{class t extends Ck{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const Rk=["alt","control","meta","shift"],E8={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ok={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},I8={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let b8=(()=>{class t extends Ck{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="";if(Rk.forEach(u=>{const c=r.indexOf(u);c>-1&&(r.splice(c,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const a={};return a.domEventName=i,a.fullKey=o,a}static getEventFullKey(n){let r="",i=function D8(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ok.hasOwnProperty(e)&&(e=Ok[e]))}return E8[e]||e}(n);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Rk.forEach(s=>{s!=i&&I8[s](n)&&(r+=s+".")}),r+=i,r}static eventCallback(n,r,i){return s=>{t.getEventFullKey(s)===n&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const S8=HM(SW,"browser",[{provide:Vd,useValue:"browser"},{provide:PM,useValue:function T8(){Oy.makeCurrent(),Py.init()},multi:!0},{provide:zt,useFactory:function A8(){return function PB(t){Xp=t}(document),document},deps:[]}]),x8=[{provide:gm,useValue:"root"},{provide:Eu,useFactory:function C8(){return new Eu},deps:[]},{provide:eh,useClass:v8,multi:!0,deps:[zt,Ge,Vd]},{provide:eh,useClass:b8,multi:!0,deps:[zt]},{provide:Vy,useClass:Vy,deps:[th,Qu,$u]},{provide:Yx,useExisting:Vy},{provide:Ak,useExisting:Qu},{provide:Qu,useClass:Qu,deps:[zt]},{provide:ly,useClass:ly,deps:[Ge]},{provide:th,useClass:th,deps:[eh,Ge]},{provide:class s8{},useClass:d8,deps:[]}];let M8=(()=>{class t{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:t,providers:[{provide:$u,useValue:n.appId},{provide:Tk,useExisting:$u},l8]}}}return t.\u0275fac=function(n){return new(n||t)(O(t,12))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({providers:x8,imports:[Ik,xW]}),t})();"undefined"!=typeof window&&window;let Lk=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:function(n){let r=null;return r=n?new(n||t):O(Vk),r},providedIn:"root"}),t})(),Vk=(()=>{class t extends Lk{constructor(n){super(),this._doc=n}sanitize(n,r){if(null==r)return null;switch(n){case De.NONE:return r;case De.HTML:return br(r,"HTML")?Rn(r):F0(this._doc,String(r)).toString();case De.STYLE:return br(r,"Style")?Rn(r):r;case De.SCRIPT:if(br(r,"Script"))return Rn(r);throw new Error("unsafe value used in a script context");case De.URL:return S0(r),br(r,"URL")?Rn(r):yu(String(r));case De.RESOURCE_URL:if(br(r,"ResourceURL"))return Rn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${n} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(n){return function Yj(t){return new qj(t)}(n)}bypassSecurityTrustStyle(n){return function Jj(t){return new zj(t)}(n)}bypassSecurityTrustScript(n){return function Zj(t){return new Wj(t)}(n)}bypassSecurityTrustUrl(n){return function Xj(t){return new Kj(t)}(n)}bypassSecurityTrustResourceUrl(n){return function e$(t){return new Qj(t)}(n)}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:function(n){let r=null;return r=n?new n:function B8(t){return new Vk(t.get(zt))}(O(vt)),r},providedIn:"root"}),t})();function ee(...t){return mt(t,Za(t))}class pr extends Bt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const{isArray:j8}=Array,{getPrototypeOf:$8,prototype:H8,keys:G8}=Object;function Uk(t){if(1===t.length){const e=t[0];if(j8(e))return{args:e,keys:null};if(function q8(t){return t&&"object"==typeof t&&$8(t)===H8}(e)){const n=G8(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:z8}=Array;function Bk(t){return _e(e=>function W8(t,e){return z8(e)?t(...e):t(e)}(t,e))}function jk(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function $k(t,e,n){t?$r(n,t,e):e()}function rh(t,e){const n=oe(t)?t:()=>t,r=i=>i.error(n());return new Pe(e?i=>e.schedule(r,0,i):r)}const ih=ft(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function jy(...t){return function Y8(){return Ja(1)}()(mt(t,Za(t)))}function Hk(t){return new Pe(e=>{_r(t()).subscribe(e)})}function Gk(){return St((t,e)=>{let n=null;t._refCount++;const r=pt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class J8 extends Pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,uC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Cn;const n=this.getSubject();e.add(this.source.subscribe(pt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Cn.EMPTY)}return e}refCount(){return Gk()(this)}}function ms(t,e){return St((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(pt(r,u=>{null==i||i.unsubscribe();let c=0;const l=s++;_r(t(u,l)).subscribe(i=pt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function X8(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(pt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function qk(t,e){return St(X8(t,e,arguments.length>=2,!0))}function ra(t,e){return St((n,r)=>{let i=0;n.subscribe(pt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Mi(t){return St((e,n)=>{let s,r=null,i=!1;r=e.subscribe(pt(n,void 0,void 0,o=>{s=_r(t(o,Mi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Yu(t,e){return oe(e)?gt(t,e,1):gt(t,1)}function $y(t){return t<=0?()=>Hr:St((e,n)=>{let r=[];e.subscribe(pt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zk(t=e6){return St((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function e6(){return new ih}function Wk(t){return St((e,n)=>{let r=!1;e.subscribe(pt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function ia(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ra((i,s)=>t(i,s,r)):ns,Fl(1),n?Wk(e):zk(()=>new ih))}function _n(t,e,n){const r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(pt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):ns}class ri{constructor(e,n){this.id=e,this.url=n}}class Hy extends ri{constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ju extends ri{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kk extends ri{constructor(e,n,r){super(e,n),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class r6 extends ri{constructor(e,n,r){super(e,n),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class i6 extends ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s6 extends ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class o6 extends ri{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class a6 extends ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class u6 extends ri{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qk{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yk{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class c6{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class l6{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class d6{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class h6{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jk{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const re="primary";class f6{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function sa(t){return new f6(t)}const Zk="ngNavigationCancelingError";function Gy(t){const e=Error("NavigationCancelingError: "+t);return e[Zk]=!0,e}function g6(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Xk(t[i],e[i]))return!1;return!0}function Xk(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function e1(t){return Array.prototype.concat.apply([],t)}function t1(t){return t.length>0?t[t.length-1]:null}function kt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Nr(t){return Sm(t)?t:ku(t)?mt(Promise.resolve(t)):ee(t)}const _6={exact:function i1(t,e,n){if(!_s(t.segments,e.segments)||!sh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!i1(t.children[r],e.children[r],n))return!1;return!0},subset:s1},n1={exact:function v6(t,e){return kr(t,e)},subset:function w6(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Xk(t[n],e[n]))},ignored:()=>!0};function r1(t,e,n){return _6[n.paths](t.root,e.root,n.matrixParams)&&n1[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function s1(t,e,n){return o1(t,e,e.segments,n)}function o1(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_s(i,n)||e.hasChildren()||!sh(i,n,r))}if(t.segments.length===n.length){if(!_s(t.segments,n)||!sh(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!s1(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(_s(t.segments,i)&&sh(t.segments,i,r)&&t.children[re])&&o1(t.children[re],e,s,r)}}function sh(t,e,n){return e.every((r,i)=>n1[n](t[i].parameters,r.parameters))}class ys{constructor(e,n,r){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return b6.serialize(this)}}class ae{constructor(e,n){this.segments=e,this.children=n,this.parent=null,kt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oh(this)}}class Zu{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=sa(this.parameters)),this._parameterMap}toString(){return d1(this)}}function _s(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}class a1{}class u1{parse(e){const n=new N6(e);return new ys(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Xu(e.root,!0)}`,r=function C6(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${ah(n)}=${ah(i)}`).join("&"):`${ah(n)}=${ah(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function D6(t){return encodeURI(t)}(e.fragment)}`:""}`}}const b6=new u1;function oh(t){return t.segments.map(e=>d1(e)).join("/")}function Xu(t,e){if(!t.hasChildren())return oh(t);if(e){const n=t.children[re]?Xu(t.children[re],!1):"",r=[];return kt(t.children,(i,s)=>{s!==re&&r.push(`${s}:${Xu(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function I6(t,e){let n=[];return kt(t.children,(r,i)=>{i===re&&(n=n.concat(e(r,i)))}),kt(t.children,(r,i)=>{i!==re&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===re?[Xu(t.children[re],!1)]:[`${i}:${Xu(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[re]?`${oh(t)}/${n[0]}`:`${oh(t)}/(${n.join("//")})`}}function c1(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ah(t){return c1(t).replace(/%3B/gi,";")}function qy(t){return c1(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(t){return decodeURIComponent(t)}function l1(t){return uh(t.replace(/\+/g,"%20"))}function d1(t){return`${qy(t.path)}${function T6(t){return Object.keys(t).map(e=>`;${qy(e)}=${qy(t[e])}`).join("")}(t.parameters)}`}const A6=/^[^\/()?;=#]+/;function ch(t){const e=t.match(A6);return e?e[0]:""}const S6=/^[^=?&#]+/,M6=/^[^&#]+/;class N6{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ae([],{}):new ae([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new ae(e,n)),r}parseSegment(){const e=ch(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zu(uh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=ch(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=ch(this.remaining);i&&(r=i,this.capture(r))}e[uh(n)]=uh(r)}parseQueryParam(e){const n=function x6(t){const e=t.match(S6);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function k6(t){const e=t.match(M6);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=l1(n),s=l1(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ch(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[re]:new ae([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class h1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=zy(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=zy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Wy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wy(e,this._root).map(n=>n.value)}}function zy(t,e){if(t===e.value)return e;for(const n of e.children){const r=zy(t,n);if(r)return r}return null}function Wy(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Wy(t,n);if(r.length)return r.unshift(e),r}return[]}class ii{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function oa(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class f1 extends h1{constructor(e,n){super(e),this.snapshot=n,Ky(this,e)}toString(){return this.snapshot.toString()}}function p1(t,e){const n=function R6(t,e){const o=new lh([],{},{},"",{},re,e,null,t.root,-1,{});return new m1("",new ii(o,[]))}(t,e),r=new pr([new Zu("",{})]),i=new pr({}),s=new pr({}),o=new pr({}),a=new pr(""),u=new vs(r,i,o,a,s,re,e,n.root);return u.snapshot=n.root,new f1(new ii(u,[]),n)}class vs{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_e(e=>sa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_e(e=>sa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function g1(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function O6(t){return t.reduce((e,n)=>({params:Object.assign(Object.assign({},e.params),n.params),data:Object.assign(Object.assign({},e.data),n.data),resolve:Object.assign(Object.assign({},e.resolve),n._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class lh{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=sa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=sa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class m1 extends h1{constructor(e,n){super(n),this.url=e,Ky(this,n)}toString(){return y1(this._root)}}function Ky(t,e){e.value._routerState=t,e.children.forEach(n=>Ky(t,n))}function y1(t){const e=t.children.length>0?` { ${t.children.map(y1).join(", ")} } `:"";return`${t.value}${e}`}function Qy(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),kr(e.params,n.params)||t.params.next(n.params),function m6(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),kr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Yy(t,e){const n=kr(t.params,e.params)&&function E6(t,e){return _s(t,e)&&t.every((n,r)=>kr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Yy(t.parent,e.parent))}function ec(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function F6(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ec(t,r,i);return ec(t,r)})}(t,e,n);return new ii(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ec(t,a)),o}}const r=function L6(t){return new vs(new pr(t.url),new pr(t.params),new pr(t.queryParams),new pr(t.fragment),new pr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>ec(t,s));return new ii(r,i)}}function dh(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function tc(t){return"object"==typeof t&&null!=t&&t.outlets}function Jy(t,e,n,r,i){let s={};if(r&&kt(r,(a,u)=>{s[u]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),t===e)return new ys(n,s,i);const o=_1(t,e,n);return new ys(o,s,i)}function _1(t,e,n){const r={};return kt(t.children,(i,s)=>{r[s]=i===e?n:_1(i,e,n)}),new ae(t.segments,r)}class v1{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&dh(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(tc);if(i&&i!==t1(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Zy{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function w1(t,e,n){if(t||(t=new ae([],{})),0===t.segments.length&&t.hasChildren())return hh(t,e,n);const r=function H6(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(tc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!I1(u,c,o))return s;r+=2}else{if(!I1(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new ae(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new ae(t.segments.slice(r.pathIndex),t.children),hh(s,0,i)}return r.match&&0===i.length?new ae(t.segments,{}):r.match&&!t.hasChildren()?Xy(t,e,n):r.match?hh(t,0,i):Xy(t,e,n)}function hh(t,e,n){if(0===n.length)return new ae(t.segments,{});{const r=function $6(t){return tc(t[0])?t[0].outlets:{[re]:t}}(n),i={};return kt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=w1(t.children[o],e,s))}),kt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ae(t.segments,i)}}function Xy(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(tc(s)){const u=G6(s.outlets);return new ae(r,u)}if(0===i&&dh(n[0])){r.push(new Zu(t.segments[e].path,E1(n[0]))),i++;continue}const o=tc(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&dh(a)?(r.push(new Zu(o,E1(a))),i+=2):(r.push(new Zu(o,{})),i++)}return new ae(r,{})}function G6(t){const e={};return kt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=Xy(new ae([],{}),0,n))}),e}function E1(t){const e={};return kt(t,(n,r)=>e[r]=`${n}`),e}function I1(t,e,n){return t==n.path&&kr(e,n.parameters)}class z6{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qy(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=oa(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),kt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=oa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=oa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=oa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new h6(s.value.snapshot))}),e.children.length&&this.forwardEvent(new l6(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Qy(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Qy(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function W6(t){for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class e_{constructor(e,n){this.routes=e,this.module=n}}function ki(t){return"function"==typeof t}function ws(t){return t instanceof ys}const nc=Symbol("INITIAL_VALUE");function rc(){return ms(t=>function K8(...t){const e=Za(t),n=bC(t),{args:r,keys:i}=Uk(t);if(0===r.length)return mt([],e);const s=new Pe(function Q8(t,e,n=ns){return r=>{$k(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)$k(e,()=>{const c=mt(t[u],e);let l=!1;c.subscribe(pt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>jk(i,o):ns));return n?s.pipe(Bk(n)):s}(t.map(e=>e.pipe(Fl(1),function Z8(...t){const e=Za(t);return St((n,r)=>{(e?jy(t,n,e):jy(t,n)).subscribe(r)})}(nc)))).pipe(qk((e,n)=>{let r=!1;return n.reduce((i,s,o)=>i!==nc?i:(s===nc&&(r=!0),r||!1!==s&&o!==n.length-1&&!ws(s)?i:s),e)},nc),ra(e=>e!==nc),_e(e=>ws(e)?e:!0===e),Fl(1)))}class X6{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ic,this.attachRef=null}}class ic{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new X6,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}}let t_=(()=>{class t{constructor(n,r,i,s,o){this.parentContexts=n,this.location=r,this.resolver=i,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.name=s||re,n.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const n=this.parentContexts.getContext(this.name);n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;const o=(r=r||this.resolver).resolveComponentFactory(n._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new eK(n,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)(I(ic),I(dr),I(Jo),uu("name"),I(Ud))},t.\u0275dir=B({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),t})();class eK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===vs?this.route:e===ic?this.childContexts:this.parent.get(e,n)}}let b1=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=zr({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(n,r){1&n&&mn(0,"router-outlet")},directives:[t_],encapsulation:2}),t})();function D1(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];tK(r,nK(e,r))}}function tK(t,e){t.children&&D1(t.children,e)}function nK(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function n_(t){const e=t.children&&t.children.map(n_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=b1),n}function Zn(t){return t.outlet||re}function T1(t,e){const n=t.filter(r=>Zn(r)===e);return n.push(...t.filter(r=>Zn(r)!==e)),n}const C1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fh(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},C1):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||g6)(n,t,e);if(!s)return Object.assign({},C1);const o={};kt(s.posParams,(u,c)=>{o[c]=u.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function ph(t,e,n,r,i="corrected"){if(n.length>0&&function sK(t,e,n){return n.some(r=>gh(t,e,r)&&Zn(r)!==re)}(t,n,r)){const o=new ae(e,function iK(t,e,n,r){const i={};i[re]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Zn(s)!==re){const o=new ae([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[Zn(s)]=o}return i}(t,e,r,new ae(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function oK(t,e,n){return n.some(r=>gh(t,e,r))}(t,n,r)){const o=new ae(t.segments,function rK(t,e,n,r,i,s){const o={};for(const a of r)if(gh(t,n,a)&&!i[Zn(a)]){const u=new ae([],{});u._sourceSegment=t,u._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Zn(a)]=u}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const s=new ae(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function gh(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function A1(t,e,n,r){return!!(Zn(t)===r||r!==re&&gh(e,n,t))&&("**"===t.path||fh(e,t,n).matched)}function S1(t,e,n){return 0===e.length&&!t.children[n]}class mh{constructor(e){this.segmentGroup=e||null}}class x1{constructor(e){this.urlTree=e}}function sc(t){return rh(new mh(t))}function M1(t){return rh(new x1(t))}class lK{constructor(e,n,r,i,s){this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Xr)}apply(){const e=ph(this.urlTree.root,[],[],this.config).segmentGroup,n=new ae(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,re).pipe(_e(s=>this.createUrlTree(r_(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mi(s=>{if(s instanceof x1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof mh?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,re).pipe(_e(i=>this.createUrlTree(r_(i),e.queryParams,e.fragment))).pipe(Mi(i=>{throw i instanceof mh?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=e.segments.length>0?new ae([],{[re]:e}):e;return new ys(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(_e(s=>new ae([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return mt(i).pipe(Yu(s=>{const o=r.children[s],a=T1(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(_e(u=>({segment:u,outlet:s})))}),qk((s,o)=>(s[o.outlet]=o.segment,s),{}),function t6(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ra((i,s)=>t(i,s,r)):ns,$y(1),n?Wk(e):zk(()=>new ih))}())}expandSegment(e,n,r,i,s,o){return mt(r).pipe(Yu(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Mi(c=>{if(c instanceof mh)return ee(null);throw c}))),ia(a=>!!a),Mi((a,u)=>{if(a instanceof ih||"EmptyError"===a.name)return S1(n,i,s)?ee(new ae([],{})):sc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return A1(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):sc(n):sc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?M1(s):this.lineralizeSegments(r,s).pipe(gt(o=>{const a=new ae(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=fh(n,i,s);if(!a)return sc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?M1(d):this.lineralizeSegments(i,d).pipe(gt(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?ee(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe(_e(d=>(r._loadedConfig=d,new ae(i,{})))):ee(new ae(i,{}));const{matched:o,consumedSegments:a,remainingSegments:u}=fh(n,r,i);return o?this.getChildConfig(e,r,i).pipe(gt(l=>{const d=l.module,h=l.routes,{segmentGroup:f,slicedSegments:p}=ph(n,a,u,h),g=new ae(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(_e(C=>new ae(a,C)));if(0===h.length&&0===p.length)return ee(new ae(a,{}));const y=Zn(r)===s;return this.expandSegment(d,g,h,p,y?re:s,!0).pipe(_e(_=>new ae(a.concat(_.segments),_.children)))})):sc(n)}getChildConfig(e,n,r){return n.children?ee(new e_(n.children,e)):n.loadChildren?void 0!==n._loadedConfig?ee(n._loadedConfig):this.runCanLoadGuards(e.injector,n,r).pipe(gt(i=>i?this.configLoader.load(e.injector,n).pipe(_e(s=>(n._loadedConfig=s,s))):function uK(t){return rh(Gy(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`))}(n))):ee(new e_([],e))}runCanLoadGuards(e,n,r){const i=n.canLoad;return i&&0!==i.length?ee(i.map(o=>{const a=e.get(o);let u;if(function Q6(t){return t&&ki(t.canLoad)}(a))u=a.canLoad(n,r);else{if(!ki(a))throw new Error("Invalid CanLoad guard");u=a(n,r)}return Nr(u)})).pipe(rc(),_n(o=>{if(!ws(o))return;const a=Gy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),_e(o=>!0===o)):ee(!0)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ee(r);if(i.numberOfChildren>1||!i.children[re])return rh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[re]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreatreUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreatreUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new ys(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return kt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return kt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ae(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}function r_(t){const e={};for(const r of Object.keys(t.children)){const s=r_(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function dK(t){if(1===t.numberOfChildren&&t.children[re]){const e=t.children[re];return new ae(t.segments.concat(e.segments),e.children)}return t}(new ae(t.segments,e))}class k1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class yh{constructor(e,n){this.component=e,this.route=n}}function fK(t,e,n){const r=t._root;return oc(r,e?e._root:null,n,[r.value])}function _h(t,e,n){const r=function gK(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function oc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=oa(e);return t.children.forEach(o=>{(function mK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function yK(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_s(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(t.url,e.url)||!kr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yy(t,e)||!kr(t.queryParams,e.queryParams);default:return!Yy(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new k1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),oc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new yh(a.outlet.component,o))}else o&&ac(e,a,i),i.canActivateChecks.push(new k1(r)),oc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),kt(s,(o,a)=>ac(o,n.getContext(a),i)),i}function ac(t,e,n){const r=oa(t),i=t.value;kt(r,(s,o)=>{ac(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new yh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class CK{}function N1(t){return new Pe(e=>e.error(t))}class SK{constructor(e,n,r,i,s,o){this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=ph(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,re);if(null===n)return null;const r=new lh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ii(r,n),s=new m1(this.url,i);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const n=e.value,r=g1(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(e,n):this.processSegment(e,n,n.segments,r)}processChildren(e,n){const r=[];for(const s of Object.keys(n.children)){const o=n.children[s],a=T1(e,s),u=this.processSegmentGroup(a,o,s);if(null===u)return null;r.push(...u)}const i=R1(r);return function xK(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}(i),i}processSegment(e,n,r,i){for(const s of e){const o=this.processSegmentAgainstRoute(s,n,r,i);if(null!==o)return o}return S1(n,r,i)?[]:null}processSegmentAgainstRoute(e,n,r,i){if(e.redirectTo||!A1(e,n,r,i))return null;let s,o=[],a=[];if("**"===e.path){const f=r.length>0?t1(r).parameters:{};s=new lh(r,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,F1(e),Zn(e),e.component,e,O1(n),P1(n)+r.length,L1(e))}else{const f=fh(n,e,r);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new lh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,F1(e),Zn(e),e.component,e,O1(n),P1(n)+o.length,L1(e))}const u=function MK(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=ph(n,o,a,u.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const f=this.processChildren(u,c);return null===f?null:[new ii(s,f)]}if(0===u.length&&0===l.length)return[new ii(s,[])];const d=Zn(e)===i,h=this.processSegment(u,c,l,d?re:i);return null===h?null:[new ii(s,h)]}}function kK(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function R1(t){const e=[],n=new Set;for(const r of t){if(!kK(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=R1(r.children);e.push(new ii(r.value,i))}return e.filter(r=>!n.has(r))}function O1(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function P1(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function F1(t){return t.data||{}}function L1(t){return t.resolve||{}}function V1(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function i_(t){return ms(e=>{const n=t(e);return n?mt(n).pipe(_e(()=>e)):ee(e)})}class UK extends class VK{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}{}const s_=new K("ROUTES");class U1{constructor(e,n,r,i){this.injector=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,n){if(n._loader$)return n._loader$;this.onLoadStartListener&&this.onLoadStartListener(n);const i=this.loadModuleFactory(n.loadChildren).pipe(_e(s=>{this.onLoadEndListener&&this.onLoadEndListener(n);const o=s.create(e);return new e_(e1(o.injector.get(s_,void 0,$.Self|$.Optional)).map(n_),o)}),Mi(s=>{throw n._loader$=void 0,s}));return n._loader$=new J8(i,()=>new Bt).pipe(Gk()),n._loader$}loadModuleFactory(e){return Nr(e()).pipe(gt(n=>n instanceof eM?ee(n):mt(this.compiler.compileModuleAsync(n))))}}class jK{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}}function $K(t){throw t}function HK(t,e,n){return e.parse("/")}function B1(t,e){return ee(null)}const GK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vn=(()=>{class t{constructor(n,r,i,s,o,a,u){this.rootComponentType=n,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bt,this.errorHandler=$K,this.malformedUriErrorHandler=HK,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:B1,afterPreactivation:B1},this.urlHandlingStrategy=new jK,this.routeReuseStrategy=new UK,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Xr),this.console=o.get(qz);const d=o.get(Ge);this.isNgZoneEnabled=d instanceof Ge&&Ge.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function y6(){return new ys(new ae([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new U1(o,a,h=>this.triggerEvent(new Qk(h)),h=>this.triggerEvent(new Yk(h))),this.routerState=p1(this.currentUrlTree,this.rootComponentType),this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}setupNavigations(n){const r=this.events;return n.pipe(ra(i=>0!==i.id),_e(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ms(i=>{let s=!1,o=!1;return ee(i).pipe(_n(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ms(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return j1(a.source)&&(this.browserUrlTree=a.extractedUrl),ee(a).pipe(ms(d=>{const h=this.transitions.getValue();return r.next(new Hy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?Hr:Promise.resolve(d)}),function hK(t,e,n,r){return ms(i=>function cK(t,e,n,r,i){return new lK(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(_e(s=>Object.assign(Object.assign({},i),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),_n(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function NK(t,e,n,r,i){return gt(s=>function AK(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new SK(t,e,n,r,i,s).recognize();return null===o?N1(new CK):ee(o)}catch(o){return N1(o)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(_e(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),_n(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new i6(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:y}=a,E=new Hy(h,this.serializeUrl(f),p,g);r.next(E);const _=p1(f,this.rootComponentType).snapshot;return ee(Object.assign(Object.assign({},a),{targetSnapshot:_,urlAfterRedirects:f,extras:Object.assign(Object.assign({},y),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Hr}),i_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_n(a=>{const u=new s6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),_e(a=>Object.assign(Object.assign({},a),{guards:fK(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function _K(t,e){return gt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?ee(Object.assign(Object.assign({},n),{guardsResult:!0})):function vK(t,e,n,r){return mt(t).pipe(gt(i=>function TK(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ee(s.map(a=>{const u=_h(a,e,i);let c;if(function Z6(t){return t&&ki(t.canDeactivate)}(u))c=Nr(u.canDeactivate(t,e,n,r));else{if(!ki(u))throw new Error("Invalid CanDeactivate guard");c=Nr(u(t,e,n,r))}return c.pipe(ia())})).pipe(rc()):ee(!0)}(i.component,i.route,n,e,r)),ia(i=>!0!==i,!0))}(o,r,i,t).pipe(gt(a=>a&&function K6(t){return"boolean"==typeof t}(a)?function wK(t,e,n,r){return mt(e).pipe(Yu(i=>jy(function IK(t,e){return null!==t&&e&&e(new c6(t)),ee(!0)}(i.route.parent,r),function EK(t,e){return null!==t&&e&&e(new d6(t)),ee(!0)}(i.route,r),function DK(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Hk(()=>ee(o.guards.map(u=>{const c=_h(u,o.node,n);let l;if(function J6(t){return t&&ki(t.canActivateChild)}(c))l=Nr(c.canActivateChild(r,t));else{if(!ki(c))throw new Error("Invalid CanActivateChild guard");l=Nr(c(r,t))}return l.pipe(ia())})).pipe(rc())));return ee(s).pipe(rc())}(t,i.path,n),function bK(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ee(!0);const i=r.map(s=>Hk(()=>{const o=_h(s,e,n);let a;if(function Y6(t){return t&&ki(t.canActivate)}(o))a=Nr(o.canActivate(e,t));else{if(!ki(o))throw new Error("Invalid CanActivate guard");a=Nr(o(e,t))}return a.pipe(ia())}));return ee(i).pipe(rc())}(t,i.route,n))),ia(i=>!0!==i,!0))}(r,s,t,e):ee(a)),_e(a=>Object.assign(Object.assign({},n),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),_n(a=>{if(ws(a.guardsResult)){const c=Gy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const u=new o6(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),ra(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),i_(a=>{if(a.guards.canActivateChecks.length)return ee(a).pipe(_n(u=>{const c=new a6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),ms(u=>{let c=!1;return ee(u).pipe(function RK(t,e){return gt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ee(n);let s=0;return mt(i).pipe(Yu(o=>function OK(t,e,n,r){return function PK(t,e,n,r){const i=V1(t);if(0===i.length)return ee({});const s={};return mt(i).pipe(gt(o=>function FK(t,e,n,r){const i=_h(t,e,r);return Nr(i.resolve?i.resolve(e,n):i(e,n))}(t[o],e,n,r).pipe(_n(a=>{s[o]=a}))),$y(1),gt(()=>V1(s).length===i.length?ee(s):Hr))}(t._resolve,t,e,r).pipe(_e(s=>(t._resolvedData=s,t.data=Object.assign(Object.assign({},t.data),g1(t,n).resolve),null)))}(o.route,r,t,e)),_n(()=>s++),$y(1),gt(o=>s===i.length?ee(n):Hr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),_n({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),_n(u=>{const c=new u6(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),i_(a=>{const{targetSnapshot:u,id:c,extractedUrl:l,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(u,{navigationId:c,appliedUrlTree:l,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),_e(a=>{const u=function P6(t,e,n){const r=ec(t,e._root,n?n._root:void 0);return new f1(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),_n(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((t,e,n)=>_e(r=>(new z6(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),_n({next(){s=!0},complete(){s=!0}}),function n6(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}(()=>{var a;s||o||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===i.id&&(this.currentNavigation=null)}),Mi(a=>{if(o=!0,function p6(t){return t&&t[Zk]}(a)){const u=ws(a.url);u||(this.navigated=!0,this.restoreHistory(i,!0));const c=new Kk(i.id,this.serializeUrl(i.extractedUrl),a.message);r.next(c),u?setTimeout(()=>{const l=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||j1(i.source)};this.scheduleNavigation(l,"imperative",null,d,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new r6(i.id,this.serializeUrl(i.extractedUrl),a);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return Hr}))}))}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}setTransition(n){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),n))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const s={replaceUrl:!0},o=(null===(i=n.state)||void 0===i?void 0:i.navigationId)?n.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(n.url);this.scheduleNavigation(a,r,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(n){this.events.next(n)}resetConfig(n){D1(n),this.config=n.map(n_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function V6(t,e,n,r,i){if(0===n.length)return Jy(e.root,e.root,e.root,r,i);const s=function U6(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new v1(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return kt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new v1(n,e,r)}(n);if(s.toRoot())return Jy(e.root,e.root,new ae([],{}),r,i);const o=function B6(t,e,n){if(t.isAbsolute)return new Zy(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const s=n.snapshot._urlSegment;return new Zy(s,s===e.root,0)}const r=dh(t.commands[0])?0:1;return function j6(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Zy(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?hh(o.segmentGroup,o.index,s.commands):w1(o.segmentGroup,o.index,s.commands);return Jy(e.root,o.segmentGroup,a,r,i)}(c,this.currentUrlTree,n,d,null!=l?l:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ws(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function zK(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?Object.assign({},GK):!1===r?Object.assign({},qK):r,ws(n))return r1(this.currentUrlTree,n,i);const s=this.parseUrl(n);return r1(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(n=>{this.navigated=!0,this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId,this.events.next(new Ju(n.id,this.serializeUrl(n.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,n.resolve(!0)},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}scheduleNavigation(n,r,i,s,o){var a,u;if(this.disposed)return Promise.resolve(!1);let c,l,d;o?(c=o.resolve,l=o.reject,d=o.promise):d=new Promise((p,g)=>{c=p,l=g});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),f=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(u=this.browserPageId)&&void 0!==u?u:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){var i,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(n,r){const i=new Kk(n.id,this.serializeUrl(n.extractedUrl),r);this.triggerEvent(i),n.resolve(!1)}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){Cm()},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function j1(t){return"imperative"!==t}let uc=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new Bt,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==n?r.setAttribute(i,"tabindex",n):r.removeAttribute(i,"tabindex")}ngOnChanges(n){this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const n={skipLocationChange:aa(this.skipLocationChange),replaceUrl:aa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,n),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:aa(this.preserveFragment)})}}return t.\u0275fac=function(n){return new(n||t)(I(vn),I(vs),uu("tabindex"),I(Zr),I(Fn))},t.\u0275dir=B({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(n,r){1&n&&ot("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Gn]}),t})();function aa(t){return""===t||!!t}class $1{}class H1{preload(e,n){return ee(null)}}let G1=(()=>{class t{constructor(n,r,i,s){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=new U1(i,r,u=>n.triggerEvent(new Qk(u)),u=>n.triggerEvent(new Yk(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(ra(n=>n instanceof Ju),Yu(()=>this.preload())).subscribe(()=>{})}preload(){const n=this.injector.get(Xr);return this.processRoutes(n,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(n,s)):s.children&&i.push(this.processRoutes(n,s.children));return mt(i).pipe(Ja(),_e(s=>{}))}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?ee(r._loadedConfig):this.loader.load(n.injector,r)).pipe(gt(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return t.\u0275fac=function(n){return new(n||t)(O(vn),O(LM),O(vt),O($1))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})(),a_=(()=>{class t{constructor(n,r,i={}){this.router=n,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Hy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ju&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.router.parseUrl(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(n=>{n instanceof Jk&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.router.triggerEvent(new Jk(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(n){Cm()},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();const Es=new K("ROUTER_CONFIGURATION"),q1=new K("ROUTER_FORROOT_GUARD"),YK=[wy,{provide:a1,useClass:u1},{provide:vn,useFactory:function t7(t,e,n,r,i,s,o={},a,u){const c=new vn(null,t,e,n,r,i,e1(s));return a&&(c.urlHandlingStrategy=a),u&&(c.routeReuseStrategy=u),function n7(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy),t.canceledNavigationResolution&&(e.canceledNavigationResolution=t.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(l=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${l.constructor.name}`),console.log(l.toString()),console.log(l),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[a1,ic,wy,vt,LM,s_,Es,[class BK{},new _t],[class LK{},new _t]]},ic,{provide:vs,useFactory:function r7(t){return t.routerState.root},deps:[vn]},G1,H1,class QK{preload(e,n){return n().pipe(Mi(()=>ee(null)))}},{provide:Es,useValue:{enableTracing:!1}}];function JK(){return new $M("Router",vn)}let z1=(()=>{class t{constructor(n,r){}static forRoot(n,r){return{ngModule:t,providers:[YK,W1(n),{provide:q1,useFactory:e7,deps:[[vn,new _t,new gu]]},{provide:Es,useValue:r||{}},{provide:na,useFactory:XK,deps:[gs,[new ud(vy),new _t],Es]},{provide:a_,useFactory:ZK,deps:[vn,n8,Es]},{provide:$1,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:H1},{provide:$M,multi:!0,useFactory:JK},[u_,{provide:iy,multi:!0,useFactory:i7,deps:[u_]},{provide:K1,useFactory:s7,deps:[u_]},{provide:FM,multi:!0,useExisting:K1}]]}}static forChild(n){return{ngModule:t,providers:[W1(n)]}}}return t.\u0275fac=function(n){return new(n||t)(O(q1,8),O(vn,8))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();function ZK(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new a_(t,e,n)}function XK(t,e,n={}){return n.useHash?new LW(t,e):new ak(t,e)}function e7(t){return"guarded"}function W1(t){return[{provide:yj,multi:!0,useValue:t},{provide:s_,multi:!0,useValue:t}]}let u_=(()=>{class t{constructor(n){this.injector=n,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bt}appInitializer(){return this.injector.get(OW,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(a=>r=a),s=this.injector.get(vn),o=this.injector.get(Es);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?ee(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),i})}bootstrapListener(n){const r=this.injector.get(Es),i=this.injector.get(G1),s=this.injector.get(a_),o=this.injector.get(vn),a=this.injector.get(Hu);n===a.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&o.initialNavigation(),i.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(n){return new(n||t)(O(vt))},t.\u0275prov=W({token:t,factory:t.\u0275fac}),t})();function i7(t){return t.appInitializer.bind(t)}function s7(t){return t.bootstrapListener.bind(t)}const K1=new K("Router Initializer");let Q1=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(I(Zr),I(Fn))},t.\u0275dir=B({type:t}),t})(),Is=(()=>{class t extends Q1{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(t)))(r||t)}}(),t.\u0275dir=B({type:t,features:[ye]}),t})();const Rr=new K("NgValueAccessor"),c7={provide:Rr,useExisting:Te(()=>vh),multi:!0},d7=new K("CompositionEventMode");let vh=(()=>{class t extends Q1{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function l7(){const t=Mr()?Mr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Zr),I(Fn),I(d7,8))},t.\u0275dir=B({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&ot("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ne([c7]),ye]}),t})();function Ni(t){return null==t||0===t.length}function J1(t){return null!=t&&"number"==typeof t.length}const Wt=new K("NgValidators"),Ri=new K("NgAsyncValidators"),h7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wh{static min(e){return function Z1(t){return e=>{if(Ni(e.value)||Ni(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function X1(t){return e=>{if(Ni(e.value)||Ni(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function eN(t){return Ni(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function tN(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function nN(t){return Ni(t.value)||h7.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function rN(t){return e=>Ni(e.value)||!J1(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function iN(t){return e=>J1(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function sN(t){if(!t)return Eh;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Ni(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return dN(e)}static composeAsync(e){return hN(e)}}function Eh(t){return null}function oN(t){return null!=t}function aN(t){const e=ku(t)?mt(t):t;return Sm(e),e}function uN(t){let e={};return t.forEach(n=>{e=null!=n?Object.assign(Object.assign({},e),n):e}),0===Object.keys(e).length?null:e}function cN(t,e){return e.map(n=>n(t))}function lN(t){return t.map(e=>function f7(t){return!t.validate}(e)?e:n=>e.validate(n))}function dN(t){if(!t)return null;const e=t.filter(oN);return 0==e.length?null:function(n){return uN(cN(n,e))}}function c_(t){return null!=t?dN(lN(t)):null}function hN(t){if(!t)return null;const e=t.filter(oN);return 0==e.length?null:function(n){return function a7(...t){const e=bC(t),{args:n,keys:r}=Uk(t),i=new Pe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;_r(n[l]).subscribe(pt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?jk(r,a):a),s.complete())}))}});return e?i.pipe(Bk(e)):i}(cN(n,e).map(aN)).pipe(_e(uN))}}function l_(t){return null!=t?hN(lN(t)):null}function fN(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pN(t){return t._rawValidators}function gN(t){return t._rawAsyncValidators}function d_(t){return t?Array.isArray(t)?t:[t]:[]}function Ih(t,e){return Array.isArray(t)?t.includes(e):t===e}function mN(t,e){const n=d_(e);return d_(t).forEach(i=>{Ih(n,i)||n.push(i)}),n}function yN(t,e){return d_(e).filter(n=>!Ih(t,n))}class _N{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=c_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=l_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Oi extends _N{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sn extends _N{get formDirective(){return null}get path(){return null}}class vN{constructor(e){this._cd=e}is(e){var n,r,i;return"submitted"===e?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let wN=(()=>{class t extends vN{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(Oi,2))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Cd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[ye]}),t})(),EN=(()=>{class t extends vN{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(I(sn,10))},t.\u0275dir=B({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){2&n&&Cd("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[ye]}),t})();function cc(t,e){p_(t,e),e.valueAccessor.writeValue(t.value),function E7(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&bN(t,e)})}(t,e),function b7(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function I7(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&bN(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function w7(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Th(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ah(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ch(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function p_(t,e){const n=pN(t);null!==e.validator?t.setValidators(fN(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=gN(t);null!==e.asyncValidator?t.setAsyncValidators(fN(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ch(e._rawValidators,i),Ch(e._rawAsyncValidators,i)}function Ah(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=pN(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const i=gN(t);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}const r=()=>{};return Ch(e._rawValidators,r),Ch(e._rawAsyncValidators,r),n}function bN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function y_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const lc="VALID",Sh="INVALID",ua="PENDING",dc="DISABLED";function v_(t){return(xh(t)?t.validators:t)||null}function AN(t){return Array.isArray(t)?c_(t):t||null}function w_(t,e){return(xh(e)?e.asyncValidators:t)||null}function SN(t){return Array.isArray(t)?l_(t):t||null}function xh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}const E_=t=>t instanceof b_,Mh=t=>t instanceof kh,xN=t=>t instanceof RN;function MN(t){return E_(t)?t.value:t.getRawValue()}function kN(t,e){const n=Mh(t),r=t.controls;if(!(n?Object.keys(r):r).length)throw new ce(1e3,"");if(!r[e])throw new ce(1001,"")}function NN(t,e){Mh(t),t._forEachChild((r,i)=>{if(void 0===e[i])throw new ce(1002,"")})}class I_{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=AN(this._rawValidators),this._composedAsyncValidatorFn=SN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===Sh}get pending(){return this.status==ua}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=AN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=SN(e)}addValidators(e){this.setValidators(mN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(mN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}hasValidator(e){return Ih(this._rawValidators,e)}hasAsyncValidator(e){return Ih(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ua,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=dc,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=lc,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===ua)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator=!0;const n=aN(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){return function A7(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(n)),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(i=>{r=Mh(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:xN(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?Sh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(Sh)?Sh:lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class b_ extends I_{constructor(e=null,n,r){super(v_(n),w_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xh(n)&&n.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class kh extends I_{constructor(e,n,r){super(v_(n),w_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){NN(this,e),Object.keys(e).forEach(r=>{kN(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=MN(n),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const n of Object.keys(this.controls)){const r=this.controls[n];if(this.contains(n)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class RN extends I_{constructor(e,n,r){super(v_(n),w_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),n&&(this.controls.splice(e,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){NN(this,e),e.forEach((r,i)=>{kN(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>MN(e))}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let VN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=B({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const k7={provide:Rr,useExisting:Te(()=>T_),multi:!0};let T_=(()=>{class t extends Is{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Ht(t)))(r||t)}}(),t.\u0275dir=B({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&ot("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ne([k7]),ye]}),t})(),UN=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({}),t})();const C_=new K("NgModelWithFormControlWarning"),F7={provide:sn,useExisting:Te(()=>Nh)};let Nh=(()=>{class t extends sn{constructor(n,r){super(),this.validators=n,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ah(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return cc(r,n),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Th(n.control||null,n,!1),y_(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function CN(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Th(r||null,n),E_(i)&&(cc(i,n),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function DN(t,e){p_(t,e)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function D7(t,e){return Ah(t,e)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){p_(this.form,this),this._oldForm&&Ah(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(n){return new(n||t)(I(Wt,10),I(Ri,10))},t.\u0275dir=B({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){1&n&&ot("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ne([F7]),ye,Gn]}),t})();const U7={provide:Oi,useExisting:Te(()=>x_)};let x_=(()=>{class t extends Oi{constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new He,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function m_(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===vh?n=s:function C7(t){return Object.getPrototypeOf(t.constructor)===Is}(s)?r=s:i=s}),i||r||n||null}(0,s)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function g_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Dh(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t._ngModelWarningSentOnce=!1,t.\u0275fac=function(n){return new(n||t)(I(sn,13),I(Wt,10),I(Ri,10),I(Rr,10),I(C_,8))},t.\u0275dir=B({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ne([U7]),ye,Gn]}),t})(),t5=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[[UN]]}),t})(),tR=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:C_,useValue:n.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[t5]}),t})(),r5=(()=>{class t{group(n,r=null){const i=this._reduceControls(n);let a,s=null,o=null;return null!=r&&(function n5(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(r)?(s=null!=r.validators?r.validators:null,o=null!=r.asyncValidators?r.asyncValidators:null,a=null!=r.updateOn?r.updateOn:void 0):(s=null!=r.validator?r.validator:null,o=null!=r.asyncValidator?r.asyncValidator:null)),new kh(i,{asyncValidators:o,updateOn:a,validators:s})}control(n,r,i){return new b_(n,r,i)}array(n,r,i){const s=n.map(o=>this._createControl(o));return new RN(s,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return E_(n)||Mh(n)||xN(n)?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:tR}),t})();function nR(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){nR(s,r,i,o,a,"next",u)}function a(u){nR(s,r,i,o,a,"throw",u)}o(void 0)})}}const rR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},O_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rh=function(t){return function(t){const e=rR(t);return O_.encodeByteArray(e,!0)}(t).replace(/\./g,"")};class F_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Ln(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function sR(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function Oh(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function oR(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ds(){return"object"==typeof indexedDB}function fc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function L_(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Or.prototype.create)}}class Or{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function p5(t,e){return t.replace(g5,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new si(i,`${this.serviceName}: ${o} (${i}).`,r)}}const g5=/\{\$([^}]+)}/g;function V_(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uR(s)&&uR(o)){if(!V_(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uR(t){return null!==t&&"object"==typeof t}function cR(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class y5{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function _5(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=U_),void 0===i.error&&(i.error=U_),void 0===i.complete&&(i.complete=U_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function U_(){}function j_(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function Xn(t){return t&&t._delegate?t._delegate:t}class Kt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ts="[DEFAULT]";class D5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new F_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function C5(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch(n){}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return m(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Ts?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}var t;return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const $_=[];var de=(()=>{return(t=de||(de={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",de;var t})();const lR={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},S5=de.INFO,x5={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},M5=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=x5[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ca{constructor(e){this.name=e,this._logLevel=S5,this._logHandler=M5,this._userLogHandler=null,$_.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}let dR,hR;const fR=new WeakMap,H_=new WeakMap,pR=new WeakMap,G_=new WeakMap,q_=new WeakMap;let z_={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return H_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||pR.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function V5(t){return"function"==typeof t?function L5(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function R5(){return hR||(hR=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(W_(this),e),oi(fR.get(this))}:function(...e){return oi(t.apply(W_(this),e))}:function(e,...n){const r=t.call(W_(this),e,...n);return pR.set(r,e.sort?e.sort():[e]),oi(r)}}(t):(t instanceof IDBTransaction&&function P5(t){if(H_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H_.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function N5(){return dR||(dR=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,z_):t)}function oi(t){if(t instanceof IDBRequest)return function O5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(oi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fR.set(n,t)}).catch(()=>{}),q_.set(e,t),e}(t);if(G_.has(t))return G_.get(t);const e=V5(t);return e!==t&&(G_.set(t,e),q_.set(e,t)),e}const W_=t=>q_.get(t);function Fh(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=oi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(oi(o.result),u.oldVersion,u.newVersion,oi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function K_(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),oi(n).then(()=>{})}const U5=["get","getKey","getAll","getAllKeys","count"],B5=["put","add","delete","clear"],Q_=new Map;function gR(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Q_.get(e))return Q_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=B5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!U5.includes(n))return;const s=function(){var o=m(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return Q_.set(e,s),s}!function F5(t){z_=t(z_)}(t=>b2(I2({},t),{get:(e,n,r)=>gR(e,n)||t.get(e,n,r),has:(e,n)=>!!gR(e,n)||t.has(e,n)}));class j5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function $5(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Y_="@firebase/app",J_=new ca("@firebase/app"),Z_="[DEFAULT]",p9={[Y_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Cs=new Map,Lh=new Map;function g9(t,e){try{t.container.addComponent(e)}catch(n){J_.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if(Lh.has(e))return J_.debug(`There were multiple attempts to register component ${e}.`),!1;Lh.set(e,t);for(const n of Cs.values())g9(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Pi=new Or("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class y9{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}function _9(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:Z_,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw Pi.create("bad-app-name",{appName:String(r)});const i=Cs.get(r);if(i){if(V_(t,i.options)&&V_(n,i.config))return i;throw Pi.create("duplicate-app",{appName:r})}const s=new A5(r);for(const a of Lh.values())s.addComponent(a);const o=new y9(t,n,s);return Cs.set(r,o),o}function yR(t=Z_){const e=Cs.get(t);if(!e)throw Pi.create("no-app",{appName:t});return e}function _R(){return Array.from(Cs.values())}function Qe(t,e,n){var r;let i=null!==(r=p9[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void J_.warn(a.join(" "))}on(new Kt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const pc="firebase-heartbeat-store";let ev=null;function vR(){return ev||(ev=Fh("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(pc)}}).catch(t=>{throw Pi.create("storage-open",{originalErrorMessage:t.message})})),ev}function tv(){return(tv=m(function*(t){var e;try{return(yield vR()).transaction(pc).objectStore(pc).get(ER(t))}catch(n){throw Pi.create("storage-get",{originalErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function wR(t,e){return nv.apply(this,arguments)}function nv(){return(nv=m(function*(t,e){var n;try{const i=(yield vR()).transaction(pc,"readwrite");return yield i.objectStore(pc).put(e,ER(t)),i.done}catch(r){throw Pi.create("storage-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message})}})).apply(this,arguments)}function ER(t){return`${t.name}!${t.options.appId}`}class D9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return m(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=IR();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return m(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=IR(),{heartbeatsToSend:r,unsentEntries:i}=function T9(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),bR(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bR(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Rh(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function IR(){return(new Date).toISOString().substring(0,10)}class C9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return m(function*(){return!!Ds()&&fc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return m(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function E9(t){return tv.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return wR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return m(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return wR(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function bR(t){return Rh(JSON.stringify({version:2,heartbeats:t})).length}!function A9(t){on(new Kt("platform-logger",e=>new j5(e),"PRIVATE")),on(new Kt("heartbeat",e=>new D9(e),"PRIVATE")),Qe(Y_,"0.7.27",t),Qe(Y_,"0.7.27","esm2017"),Qe("fire-js","")}(""),Qe("firebase","9.8.4","app");const DR="@firebase/installations",rv="0.5.11",CR=`w:${rv}`,AR="FIS_v2",ai=new Or("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function SR(t){return t instanceof si&&t.code.includes("request-failed")}function iv({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function xR(t){return{token:t.token,requestStatus:2,expiresIn:P9(t.expiresIn),creationTime:Date.now()}}function sv(t,e){return ov.apply(this,arguments)}function ov(){return(ov=m(function*(t,e){const r=(yield e.json()).error;return ai.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function MR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function kR(t,{refreshToken:e}){const n=MR(t);return n.append("Authorization",function F9(t){return`${AR} ${t}`}(e)),n}function av(t){return uv.apply(this,arguments)}function uv(){return(uv=m(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function P9(t){return Number(t.replace("s","000"))}function L9(t,e){return cv.apply(this,arguments)}function cv(){return(cv=m(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=iv(t),i=MR(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:AR,appId:t.appId,sdkVersion:CR})},u=yield av(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:xR(c.authToken)}}throw yield sv("Create Installation",u)})).apply(this,arguments)}function NR(t){return new Promise(e=>{setTimeout(e,t)})}const U9=/^[cdef][\w-]{21}$/;function B9(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function j9(t){return function V9(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return U9.test(n)?n:""}catch(t){return""}}function la(t){return`${t.appName}!${t.appId}`}const da=new Map;function RR(t,e){const n=la(t);OR(n,e),function G9(t,e){const n=function PR(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=t=>{OR(t.data.key,t.data.fid)}),As}();n&&n.postMessage({key:t,fid:e}),function FR(){0===da.size&&As&&(As.close(),As=null)}()}(n,e)}function OR(t,e){const n=da.get(t);if(n)for(const r of n)r(e)}let As=null;const Ss="firebase-installations-store";let dv=null;function hv(){return dv||(dv=Fh("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ss)}})),dv}function Bh(t,e){return fv.apply(this,arguments)}function fv(){return(fv=m(function*(t,e){const n=la(t),i=(yield hv()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&RR(t,e.fid),e})).apply(this,arguments)}function pv(t){return gv.apply(this,arguments)}function gv(){return(gv=m(function*(t){const e=la(t),r=(yield hv()).transaction(Ss,"readwrite");yield r.objectStore(Ss).delete(e),yield r.done})).apply(this,arguments)}function gc(t,e){return mv.apply(this,arguments)}function mv(){return(mv=m(function*(t,e){const n=la(t),i=(yield hv()).transaction(Ss,"readwrite"),s=i.objectStore(Ss),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&RR(t,a.fid),a})).apply(this,arguments)}function yv(t){return _v.apply(this,arguments)}function _v(){return(_v=m(function*(t){let e;const n=yield gc(t.appConfig,r=>{const i=W9(r),s=K9(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function W9(t){return VR(t||{fid:B9(),registrationStatus:0})}function K9(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ai.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Q9(t,e){return vv.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Y9(t)}:{installationEntry:e}}function vv(){return(vv=m(function*(t,e){try{const n=yield L9(t,e);return Bh(t.appConfig,n)}catch(n){throw SR(n)&&409===n.customData.serverCode?yield pv(t.appConfig):yield Bh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Y9(t){return wv.apply(this,arguments)}function wv(){return(wv=m(function*(t){let e=yield LR(t.appConfig);for(;1===e.registrationStatus;)yield NR(100),e=yield LR(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield yv(t);return r||n}return e})).apply(this,arguments)}function LR(t){return gc(t,e=>{if(!e)throw ai.create("installation-not-found");return VR(e)})}function VR(t){return function J9(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Z9(t,e){return Ev.apply(this,arguments)}function Ev(){return(Ev=m(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=X9(t,n),i=kR(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:CR,appId:t.appId}})},u=yield av(()=>fetch(r,a));if(u.ok)return xR(yield u.json());throw yield sv("Generate Auth Token",u)})).apply(this,arguments)}function X9(t,{fid:e}){return`${iv(t)}/${e}/authTokens:generate`}function Iv(t){return bv.apply(this,arguments)}function bv(){return(bv=m(function*(t,e=!1){let n;const r=yield gc(t.appConfig,s=>{if(!BR(s))throw ai.create("not-registered");const o=s.authToken;if(!e&&nQ(o))return s;if(1===o.requestStatus)return n=eQ(t,e),s;{if(!navigator.onLine)throw ai.create("app-offline");const a=iQ(s);return n=tQ(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function eQ(t,e){return Dv.apply(this,arguments)}function Dv(){return(Dv=m(function*(t,e){let n=yield UR(t.appConfig);for(;1===n.authToken.requestStatus;)yield NR(100),n=yield UR(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Iv(t,e):r})).apply(this,arguments)}function UR(t){return gc(t,e=>{if(!BR(e))throw ai.create("not-registered");return function sQ(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function tQ(t,e){return Tv.apply(this,arguments)}function Tv(){return(Tv=m(function*(t,e){try{const n=yield Z9(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Bh(t.appConfig,r),n}catch(n){if(!SR(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Bh(t.appConfig,r)}else yield pv(t.appConfig);throw n}})).apply(this,arguments)}function BR(t){return void 0!==t&&2===t.registrationStatus}function nQ(t){return 2===t.requestStatus&&!function rQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function iQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Cv(){return(Cv=m(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield yv(e);return r?r.catch(console.error):Iv(e).catch(console.error),n.fid})).apply(this,arguments)}function Av(){return(Av=m(function*(t,e=!1){const n=t;return yield uQ(n),(yield Iv(n,e)).token})).apply(this,arguments)}function uQ(t){return Sv.apply(this,arguments)}function Sv(){return(Sv=m(function*(t){const{registrationPromise:e}=yield yv(t);e&&(yield e)})).apply(this,arguments)}function kv(t){return ai.create("missing-app-config-values",{valueName:t})}const jR="installations",fQ=t=>{const e=t.getProvider("app").getImmediate(),n=function dQ(t){if(!t||!t.options)throw kv("App Configuration");if(!t.name)throw kv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw kv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Vh(e,"heartbeat"),_delete:()=>Promise.resolve()}},pQ=t=>{const n=Vh(t.getProvider("app").getImmediate(),jR).getImmediate();return{getId:()=>function oQ(t){return Cv.apply(this,arguments)}(n),getToken:i=>function aQ(t){return Av.apply(this,arguments)}(n,i)}};(function gQ(){on(new Kt(jR,fQ,"PUBLIC")),on(new Kt("installations-internal",pQ,"PRIVATE"))})(),Qe(DR,rv),Qe(DR,rv,"esm2017");const Nv="@firebase/remote-config",wn=new Or("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class CQ{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return m(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function AQ(t=navigator){return t.languages&&t.languages[0]||t.language}class SQ{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return m(function*(){var r,i,s;const[o,a]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,l={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},d={sdk_version:n.sdkVersion,app_instance_id:o,app_instance_id_token:a,app_id:n.appId,language_code:AQ()},h={method:"POST",headers:l,body:JSON.stringify(d)},f=fetch(c,h),p=new Promise((N,F)=>{e.signal.addEventListener(()=>{const Y=new Error("The operation was aborted.");Y.name="AbortError",F(Y)})});let g;try{yield Promise.race([f,p]),g=yield f}catch(N){let F="fetch-client-network";throw"AbortError"===(null===(r=N)||void 0===r?void 0:r.name)&&(F="fetch-timeout"),wn.create(F,{originalErrorMessage:null===(i=N)||void 0===i?void 0:i.message})}let y=g.status;const E=g.headers.get("ETag")||void 0;let _,C;if(200===g.status){let N;try{N=yield g.json()}catch(F){throw wn.create("fetch-client-parse",{originalErrorMessage:null===(s=F)||void 0===s?void 0:s.message})}_=N.entries,C=N.state}if("INSTANCE_STATE_UNSPECIFIED"===C?y=500:"NO_CHANGE"===C?y=304:("NO_TEMPLATE"===C||"EMPTY_CONFIG"===C)&&(_={}),304!==y&&200!==y)throw wn.create("fetch-status",{httpStatus:y});return{status:y,eTag:E,config:_}})()}}class kQ{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return m(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return m(function*(){yield function xQ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function MQ(t){if(!(t instanceof si&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+j_(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class OQ{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function $h(t,e){var n;const r=t.target.error||void 0;return wn.create(e,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const xs="app_namespace_store";class VQ{constructor(e,n,r,i=function LQ(){return new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase_remote_config",1);r.onerror=i=>{e($h(i,"storage-open"))},r.onsuccess=i=>{t(i.target.result)},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(xs,{keyPath:"compositeKey"})}}catch(r){e(wn.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xs],"readonly").objectStore(xs),c=n.createCompositeKey(e);try{const l=u.get(c);l.onerror=d=>{s($h(d,"storage-get"))},l.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(l){s(wn.create("storage-get",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}set(e,n){var r=this;return m(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{var a;const c=i.transaction([xs],"readwrite").objectStore(xs),l=r.createCompositeKey(e);try{const d=c.put({compositeKey:l,value:n});d.onerror=h=>{o($h(h,"storage-set"))},d.onsuccess=()=>{s()}}catch(d){o(wn.create("storage-set",{originalErrorMessage:null===(a=d)||void 0===a?void 0:a.message}))}})})()}delete(e){var n=this;return m(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{var o;const u=r.transaction([xs],"readwrite").objectStore(xs),c=n.createCompositeKey(e);try{const l=u.delete(c);l.onerror=d=>{s($h(d,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(wn.create("storage-delete",{originalErrorMessage:null===(o=l)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class UQ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return m(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jQ(){return Lv.apply(this,arguments)}function Lv(){return(Lv=m(function*(){if(!Ds())return!1;try{return yield fc()}catch(t){return!1}})).apply(this,arguments)}!function BQ(){on(new Kt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw wn.create("registration-window");if(!Ds())throw wn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw wn.create("registration-project-id");if(!o)throw wn.create("registration-api-key");if(!a)throw wn.create("registration-app-id");const u=new VQ(a,r.name,n=n||"firebase"),c=new UQ(u),l=new ca(Nv);l.logLevel=de.ERROR;const d=new SQ(i,"9.8.4",n,s,o,a),h=new kQ(d,u),f=new CQ(h,u,c,l),p=new OQ(r,f,c,u,l);return function bQ(t){const e=Xn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Qe(Nv,"0.3.10"),Qe(Nv,"0.3.10","esm2017")}();const $Q="/firebase-messaging-sw.js",HQ="/firebase-cloud-messaging-push-scope",qR="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",zR="google.c.a.c_id",qQ="google.c.a.c_l",zQ="google.c.a.ts",WQ="google.c.a.e";var ha=(()=>{return(t=ha||(ha={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",ha;var t})();function ui(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function KQ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const Vv="fcm_token_details_db",WR="fcm_token_object_Store";function YQ(t){return Uv.apply(this,arguments)}function Uv(){return Uv=m(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(Vv))return null;let e=null;return(yield Fh(Vv,5,{upgrade:(r=m(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(WR))return;const c=a.objectStore(WR),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ui(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ui(d.auth),p256dh:ui(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ui(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield K_(Vv),yield K_("fcm_vapid_details_db"),yield K_("undefined"),JQ(e)?e:null;var r}),Uv.apply(this,arguments)}function JQ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ms="firebase-messaging-store";let Bv=null;function jv(){return Bv||(Bv=Fh("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ms)}})),Bv}function KR(t){return $v.apply(this,arguments)}function $v(){return($v=m(function*(t){const e=zv(t),r=yield(yield jv()).transaction(Ms).objectStore(Ms).get(e);if(r)return r;{const i=yield YQ(t.appConfig.senderId);if(i)return yield Hv(t,i),i}})).apply(this,arguments)}function Hv(t,e){return Gv.apply(this,arguments)}function Gv(){return(Gv=m(function*(t,e){const n=zv(t),i=(yield jv()).transaction(Ms,"readwrite");return yield i.objectStore(Ms).put(e,n),yield i.done,e})).apply(this,arguments)}function eY(t){return qv.apply(this,arguments)}function qv(){return(qv=m(function*(t){const e=zv(t),r=(yield jv()).transaction(Ms,"readwrite");yield r.objectStore(Ms).delete(e),yield r.done})).apply(this,arguments)}function zv({appConfig:t}){return t.appId}const Nt=new Or("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function nY(t,e){return Wv.apply(this,arguments)}function Wv(){return(Wv=m(function*(t,e){var n;const r=yield Jv(t),i=YR(e),s={method:"POST",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(Yv(t.appConfig),s)).json()}catch(a){throw Nt.create("token-subscribe-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Nt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Nt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function rY(t,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=m(function*(t,e){var n;const r=yield Jv(t),i=YR(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(i)};let o;try{o=yield(yield fetch(`${Yv(t.appConfig)}/${e.token}`,s)).json()}catch(a){throw Nt.create("token-update-failed",{errorInfo:null===(n=a)||void 0===n?void 0:n.toString()})}if(o.error)throw Nt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Nt.create("token-update-no-token");return o.token})).apply(this,arguments)}function QR(t,e){return Qv.apply(this,arguments)}function Qv(){return(Qv=m(function*(t,e){var n;const i={method:"DELETE",headers:yield Jv(t)};try{const o=yield(yield fetch(`${Yv(t.appConfig)}/${e}`,i)).json();if(o.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(s){throw Nt.create("token-unsubscribe-failed",{errorInfo:null===(n=s)||void 0===n?void 0:n.toString()})}})).apply(this,arguments)}function Yv({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function Jv(t){return Zv.apply(this,arguments)}function Zv(){return(Zv=m(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function YR({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==qR&&(i.web.applicationPubKey=r),i}const iY=6048e5;function sY(t){return Xv.apply(this,arguments)}function Xv(){return(Xv=m(function*(t){const e=yield aY(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:ui(e.getKey("auth")),p256dh:ui(e.getKey("p256dh"))},r=yield KR(t.firebaseDependencies);if(r){if(uY(r.subscriptionOptions,n))return Date.now()>=r.createTime+iY?oY(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield QR(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ZR(t.firebaseDependencies,n)}return ZR(t.firebaseDependencies,n)})).apply(this,arguments)}function JR(t){return ew.apply(this,arguments)}function ew(){return(ew=m(function*(t){const e=yield KR(t.firebaseDependencies);e&&(yield QR(t.firebaseDependencies,e.token),yield eY(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function oY(t,e){return tw.apply(this,arguments)}function tw(){return(tw=m(function*(t,e){try{const n=yield rY(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Hv(t.firebaseDependencies,r),n}catch(n){throw yield JR(t),n}})).apply(this,arguments)}function ZR(t,e){return nw.apply(this,arguments)}function nw(){return(nw=m(function*(t,e){const r={token:yield nY(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Hv(t,r),r.token})).apply(this,arguments)}function aY(t,e){return rw.apply(this,arguments)}function rw(){return(rw=m(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:KQ(e)})})).apply(this,arguments)}function uY(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function XR(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function cY(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function lY(t,e){!e.data||(t.data=e.data)}(e,t),function dY(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(null===(n=e.notification)||void 0===n?void 0:n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function hY(t){return"object"==typeof t&&!!t&&zR in t}function eO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function iw(t){return Nt.create("missing-app-config-values",{valueName:t})}eO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),eO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class pY{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function fY(t){if(!t||!t.options)throw iw("App Configuration Object");if(!t.name)throw iw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw iw(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function tO(t){return sw.apply(this,arguments)}function sw(){return(sw=m(function*(t){var e;try{t.swRegistration=yield navigator.serviceWorker.register($Q,{scope:HQ}),t.swRegistration.update().catch(()=>{})}catch(n){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:null===(e=n)||void 0===e?void 0:e.message})}})).apply(this,arguments)}function gY(t,e){return ow.apply(this,arguments)}function ow(){return(ow=m(function*(t,e){if(!e&&!t.swRegistration&&(yield tO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function mY(t,e){return aw.apply(this,arguments)}function aw(){return(aw=m(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=qR)})).apply(this,arguments)}function uw(){return(uw=m(function*(t,e){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield mY(t,null==e?void 0:e.vapidKey),yield gY(t,null==e?void 0:e.serviceWorkerRegistration),sY(t)})).apply(this,arguments)}function yY(t,e,n){return cw.apply(this,arguments)}function cw(){return(cw=m(function*(t,e,n){const r=_Y(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[zR],message_name:n[qQ],message_time:n[zQ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _Y(t){switch(t){case ha.NOTIFICATION_CLICKED:return"notification_open";case ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function lw(){return(lw=m(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===ha.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(XR(n)):t.onMessageHandler.next(XR(n)));const r=n.data;hY(r)&&"1"===r[WQ]&&(yield yY(t,n.messageType,r))})).apply(this,arguments)}const rO="@firebase/messaging",wY=t=>{const e=new pY(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function vY(t,e){return lw.apply(this,arguments)}(e,n)),e},EY=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function nO(t,e){return uw.apply(this,arguments)}(e,r)}};function sO(){return dw.apply(this,arguments)}function dw(){return(dw=m(function*(){try{yield fc()}catch(t){return!1}return"undefined"!=typeof window&&Ds()&&L_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function IY(){on(new Kt("messaging",wY,"PUBLIC")),on(new Kt("messaging-internal",EY,"PRIVATE")),Qe(rO,"0.9.15"),Qe(rO,"0.9.15","esm2017")}();const Hh="analytics",TY="firebase_id",SY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",oO="https://www.googletagmanager.com/gtag/js",Rt=new ca("@firebase/analytics");function aO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xY(t,e){const n=document.createElement("script");n.src=`${oO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function kY(t,e,n,r,i,s){return pw.apply(this,arguments)}function pw(){return(pw=m(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield aO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Rt.error(a)}t("config",i,s)})).apply(this,arguments)}function NY(t,e,n,r,i){return gw.apply(this,arguments)}function gw(){return(gw=m(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield aO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Rt.error(s)}})).apply(this,arguments)}function PY(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(oO))return e;return null}const Vn=new Or("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),uO=new class UY{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function BY(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function jY(t){return mw.apply(this,arguments)}function mw(){return(mw=m(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:BY(r)},s=SY.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();(null===(e=u.error)||void 0===e?void 0:e.message)&&(a=u.error.message)}catch(u){}throw Vn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function $Y(t){return yw.apply(this,arguments)}function yw(){return(yw=m(function*(t,e=uO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Vn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Vn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qY;return setTimeout(m(function*(){a.abort()}),void 0!==n?n:6e4),cO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function cO(t,e,n){return _w.apply(this,arguments)}function _w(){return(_w=m(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uO){var s,o;const{appId:a,measurementId:u}=t;try{yield HY(r,e)}catch(c){if(u)return Rt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null===(s=c)||void 0===s?void 0:s.message}]`),{appId:a,measurementId:u};throw c}try{const c=yield jY(t);return i.deleteThrottleMetadata(a),c}catch(c){const l=c;if(!GY(l)){if(i.deleteThrottleMetadata(a),u)return Rt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:u};throw c}const d=503===Number(null===(o=null==l?void 0:l.customData)||void 0===o?void 0:o.httpStatus)?j_(n,i.intervalMillis,30):j_(n,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(a,h),Rt.debug(`Calling attemptFetch again in ${d} millis`),cO(t,h,r,i)}})).apply(this,arguments)}function HY(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GY(t){if(!(t instanceof si&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class qY{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function zY(){return vw.apply(this,arguments)}function vw(){return(vw=m(function*(){var t;if(!Ds())return Rt.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield fc()}catch(e){return Rt.warn(Vn.create("indexeddb-unavailable",{errorInfo:null===(t=e)||void 0===t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function ww(){return(ww=m(function*(t,e,n,r,i,s,o){var a;const u=$Y(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Rt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Rt.error(f)),e.push(u);const c=zY().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);PY()||xY(s,l.measurementId),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[TY]=d),i("config",l.measurementId,h),l.measurementId})).apply(this,arguments)}class KY{constructor(e){this.app=e}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},lO=[];const dO={};let fO,mc,Gh="dataLayer",Ew=!1;function YY(t,e,n){!function QY(){const t=[];if(Oh()&&t.push("This is a browser extension environment."),L_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Vn.create("invalid-analytics-context",{errorInfo:e});Rt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Vn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Vn.create("no-api-key");Rt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[r])throw Vn.create("already-exists",{id:r});if(!Ew){!function MY(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Gh);const{wrappedGtag:s,gtagCore:o}=function OY(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function RY(t,e,n,r){function s(){return(s=m(function*(o,a,u){try{"event"===o?yield NY(t,e,n,a,u):"config"===o?yield kY(t,e,n,r,a,u):t("set",a)}catch(c){Rt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(ci,lO,dO,Gh,"gtag");mc=s,fO=o,Ew=!0}return ci[r]=function WY(t,e,n,r,i,s,o){return ww.apply(this,arguments)}(t,lO,dO,e,fO,Gh,n),new KY(t)}function Iw(){return(Iw=m(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function rJ(){return Aw.apply(this,arguments)}function Aw(){return(Aw=m(function*(){if(Oh()||!L_()||!Ds())return!1;try{return yield fc()}catch(t){return!1}})).apply(this,arguments)}const pO="@firebase/analytics";!function sJ(){on(new Kt(Hh,(e,{options:n})=>YY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new Kt("analytics-internal",function t(e){try{const n=e.getProvider(Hh).getImmediate();return{logEvent:(r,i,s)=>function iJ(t,e,n,r){t=Xn(t),function JY(t,e,n,r,i){return Iw.apply(this,arguments)}(mc,ci[t.app.options.appId],e,n,r).catch(i=>Rt.error(i))}(n,r,i,s)}}catch(n){throw Vn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Qe(pO,"0.7.11"),Qe(pO,"0.7.11","esm2017")}();class oJ extends Cn{constructor(e,n){super()}schedule(e,n=0){return this}}const qh={setInterval(t,e,...n){const{delegate:r}=qh;return(null==r?void 0:r.setInterval)?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=qh;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class mO extends oJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){if(this.closed)return this;this.state=e;const r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return qh.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;qh.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lo(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const yO={now:()=>(yO.delegate||Date).now(),delegate:void 0};class yc{constructor(e,n=yc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}yc.now=yO.now;class _O extends yc{constructor(e,n=yc.now){super(e,n),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const cJ=new class uJ extends _O{}(class aJ extends mO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):e.flush(this)}}),lJ=new _O(mO),Sw=new Xo("7.4.1"),xw="__angularfire_symbol__analyticsIsSupportedValue",Mw="__angularfire_symbol__analyticsIsSupported",kw="__angularfire_symbol__remoteConfigIsSupportedValue",Nw="__angularfire_symbol__remoteConfigIsSupported",Rw="__angularfire_symbol__messagingIsSupportedValue",Ow="__angularfire_symbol__messagingIsSupported";globalThis[Mw]||(globalThis[Mw]=rJ().then(t=>globalThis[xw]=t).catch(()=>globalThis[xw]=!1)),globalThis[Ow]||(globalThis[Ow]=sO().then(t=>globalThis[Rw]=t).catch(()=>globalThis[Rw]=!1)),globalThis[Nw]||(globalThis[Nw]=jQ().then(t=>globalThis[kw]=t).catch(()=>globalThis[kw]=!1));const Lw=(t,e)=>{const n=e?[e]:_R(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function fa(){}class vO{constructor(e,n=cJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class dJ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)),n.pipe(_n({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wO=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new vO(Zone.current)),this.insideAngular=n.run(()=>new vO(Zone.current,lJ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(O(Ge))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function ks(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function hJ(t){return ks().ngZone.runOutsideAngular(()=>t())}function Ns(t){return ks().ngZone.run(()=>t())}function fJ(t){return ks(),function pJ(t){return function(n){return(n=n.lift(new dJ(t.ngZone))).pipe(Pl(t.outsideAngular),Ol(t.insideAngular))}}(ks())(t)}const gJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ns(()=>t.apply(void 0,r))},zh=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fa,{},fa,fa)))),r[s]=gJ(r[s],n));const i=hJ(()=>t.apply(this,r));if(!e){if(i instanceof Pe){const s=ks();return i.pipe(Pl(s.outsideAngular),Ol(s.insideAngular))}return Ns(()=>i)}return i instanceof Pe?i.pipe(fJ):i instanceof Promise?Ns(()=>new Promise((s,o)=>i.then(a=>Ns(()=>s(a)),a=>Ns(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ns(()=>i)};class pa{constructor(e){return e}}class EO{constructor(){return _R()}}const Vw=new K("angularfire2._apps"),yJ={provide:pa,useFactory:function mJ(t){return t&&1===t.length?t[0]:new pa(yR())},deps:[[new _t,Vw]]},_J={provide:EO,deps:[[new _t,Vw]]};function vJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pa(r)}}let wJ=(()=>{class t{constructor(n){Qe("angularfire",Sw.full,"core"),Qe("angularfire",Sw.full,"app"),Qe("angular",Jx.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(O(Vd))},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({providers:[yJ,_J]}),t})();function EJ(t,...e){return{ngModule:wJ,providers:[{provide:Vw,useFactory:vJ(t),multi:!0,deps:[Ge,vt,wO,...e]}]}}const IJ=zh(_9,!0);const bJ=function IO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bO=new Or("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),DO=new ca("@firebase/auth");function Wh(t,...e){DO.logLevel<=de.ERROR&&DO.error(`Auth (9.8.4): ${t}`,...e)}function En(t,...e){throw Uw(t,...e)}function Pr(t,...e){return Uw(t,...e)}function TO(t,e,n){const r=Object.assign(Object.assign({},bJ()),{[e]:n});return new Or("auth","Firebase",r).create(e,{appName:t.name})}function Uw(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bO.create(t,...e)}function A(t,e,...n){if(!t)throw Uw(e,...n)}function Fr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wh(e),new Error(e)}function Fi(t,e){t||Fr(e)}const CO=new Map;function li(t){Fi(t instanceof Function,"Expected a class definition");let e=CO.get(t);return e?(Fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CO.set(t,e),e)}function AO(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fi(n>e,"Short delay should be less than long delay!"),this.isMobile=sR()||oR()}get(){return function CJ(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Bw(){return"http:"===AO()||"https:"===AO()}()||Oh()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class SO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xJ=new vc(3e4,6e4);function wt(t,e,n,r){return $w.apply(this,arguments)}function $w(){return($w=m(function*(t,e,n,r,i={}){return xO(t,i,m(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=cR(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),SO.fetch()(MO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function xO(t,e,n){return Hw.apply(this,arguments)}function Hw(){return(Hw=m(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SJ),e);try{const i=new MJ(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw wc(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw wc(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw wc(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TO(t,l,c);En(t,l)}}catch(i){if(i instanceof si)throw i;En(t,"network-request-failed")}})).apply(this,arguments)}function MO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?function jw(t,e){Fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}(t.config,i):`${t.config.apiScheme}://${i}`}class MJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),xJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pr(t,e,r);return i.customData._tokenResponse=n,i}function qw(){return(qw=m(function*(t,e){return wt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function RJ(t,e){return Ww.apply(this,arguments)}function Ww(){return(Ww=m(function*(t,e){return wt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function Kw(){return(Kw=m(function*(t,e=!1){const n=Xn(t),r=yield n.getIdToken(e),i=Kh(r);A(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ec(Qw(i.auth_time)),issuedAtTime:Ec(Qw(i.iat)),expirationTime:Ec(Qw(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function Qw(t){return 1e3*Number(t)}function Kh(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const s=function(t){try{return O_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(r);return s?JSON.parse(s):(Wh("Failed to decode base64 JWT payload"),null)}catch(s){return Wh("Caught error parsing JWT payload as JSON",null===(e=s)||void 0===e?void 0:e.toString()),null}}function hi(t,e){return Yw.apply(this,arguments)}function Yw(){return(Yw=m(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof si&&FJ(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function FJ({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class LJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(m(function*(){yield n.iteration()}),r)}iteration(){var e=this;return m(function*(){var n;try{yield e.user.getIdToken(!0)}catch(r){return void("auth/network-request-failed"===(null===(n=r)||void 0===n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class kO{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ic(t){return Jw.apply(this,arguments)}function Jw(){return(Jw=m(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield hi(t,RJ(n,{idToken:r}));A(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?BJ(s.providerUserInfo):[],a=UJ(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kO(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function Zw(){return(Zw=m(function*(t){const e=Xn(t);yield Ic(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function UJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BJ(t){return t.map(e=>{var{providerId:n}=e,r=lC(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Xw(){return(Xw=m(function*(t,e){const n=yield xO(t,{},m(function*(){const r=cR({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=MO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",SO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class bc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){A(e.idToken,"internal-error"),A(void 0!==e.idToken,"internal-error"),A(void 0!==e.refreshToken,"internal-error");const n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function PJ(t){const e=Kh(t);return A(e,"internal-error"),A(void 0!==e.exp,"internal-error"),A(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return m(function*(){return A(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return m(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function jJ(t,e){return Xw.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bc;return r&&(A("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(A("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(A("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bc,this.toJSON())}_performRefresh(){return Fr("not implemented")}}function Li(t,e){A("string"==typeof t||void 0===t,"internal-error",{appName:e})}class Rs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=lC(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kO(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return m(function*(){const r=yield hi(n,n.stsTokenManager.getToken(n.auth,e));return A(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function OJ(t){return Kw.apply(this,arguments)}(this,e)}reload(){return function VJ(t){return Zw.apply(this,arguments)}(this)}_assign(e){this!==e&&(A(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Rs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){A(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return m(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ic(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return m(function*(){const n=yield e.getIdToken();return yield hi(e,function kJ(t,e){return qw.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,g=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,E=null!==(c=n.createdAt)&&void 0!==c?c:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:C,emailVerified:N,isAnonymous:F,providerData:Y,stsTokenManager:Me}=n;A(C&&Me,e,"internal-error");const yr=bc.fromJSON(this.name,Me);A("string"==typeof C,e,"internal-error"),Li(d,e.name),Li(h,e.name),A("boolean"==typeof N,e,"internal-error"),A("boolean"==typeof F,e,"internal-error"),Li(f,e.name),Li(p,e.name),Li(g,e.name),Li(y,e.name),Li(E,e.name),Li(_,e.name);const co=new Rs({uid:C,auth:e,email:h,emailVerified:N,displayName:d,isAnonymous:F,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:yr,createdAt:E,lastLoginAt:_});return Y&&Array.isArray(Y)&&(co.providerData=Y.map(xl=>Object.assign({},xl))),y&&(co._redirectEventId=y),co}static _fromIdTokenResponse(e,n,r=!1){return m(function*(){const i=new bc;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ic(s),s})()}}const NO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return m(function*(){return!0})()}_set(n,r){var i=this;return m(function*(){i.storage[n]=r})()}_get(n){var r=this;return m(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return m(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class ma{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Qh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return m(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Rs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return m(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return m(function*(){if(!n.length)return new ma(li(NO),e,r);const i=(yield Promise.all(n.map(function(){var c=m(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||li(NO);const o=Qh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=Rs._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch(l){}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=m(function*(l){if(l!==s)try{yield l._remove(o)}catch(d){}});return function(l){return c.apply(this,arguments)}}())),new ma(s,e,r)):new ma(s,e,r)})()}}function RO(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function FO(t=Ln()){return/iemobile/i.test(t)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function OO(t=Ln()){return/firefox\//i.test(t)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function VO(t=Ln()){return/blackberry/i.test(t)}(e))return"Blackberry";if(function UO(t=Ln()){return/webos/i.test(t)}(e))return"Webos";if(function eE(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function PO(t=Ln()){return/crios\//i.test(t)}(e))&&!e.includes("edge/"))return"Chrome";if(function LO(t=Ln()){return/android/i.test(t)}(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function BO(t,e=[]){let n;switch(t){case"Browser":n=RO(Ln());break;case"Worker":n=`${RO(Ln())}-${t}`;break;default:n=t}return`${n}/JsCore/9.8.4/${e.length?e.join(","):"FirebaseCore-web"}`}class GJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return m(function*(){var r;if(n.auth.currentUser===e)return;const i=[];try{for(const s of n.queue)yield s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const o of i)try{o()}catch(a){}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null===(r=s)||void 0===r?void 0:r.message})}})()}}class qJ{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jO(this),this.idTokenSubscription=new jO(this),this.beforeStateQueue=new GJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(m(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ma.create(r,e),!r._deleted)){if(null===(i=r._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(o){}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return m(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return m(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=null==s?void 0:s._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&(null==c?void 0:c.user)&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return A(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return m(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch(i){yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return m(function*(){var r;try{yield Ic(e)}catch(i){if("auth/network-request-failed"!==(null===(r=i)||void 0===r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function AJ(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return m(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return m(function*(){const r=e?Xn(e):null;return r&&A(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return m(function*(){if(!r._deleted)return e&&A(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(m(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return m(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(m(function*(){yield n.assertedPersistence.setPersistence(li(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Or("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return m(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return m(function*(){if(!n.redirectPersistenceManager){const r=e&&li(e)||n._popupRedirectResolver;A(r,n,"argument-error"),n.redirectPersistenceManager=yield ma.create(n,[li(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return m(function*(){var r,i;return n._isInitialized&&(yield n.queue(m(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return m(function*(){if(e===n.currentUser)return n.queue(m(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return A(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return m(function*(){n.currentUser&&n.currentUser!==e&&(n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh()),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return A(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return m(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}class jO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function m5(t,e){const n=new y5(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return A(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function oP(t){return`__${t}${Math.floor(1e6*Math.random())}`})("rcb"),new vc(3e4,6e4),new vc(2e3,1e4),new vc(3e4,6e4),new vc(5e3,15e3);var _P="@firebase/auth";class OX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return m(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){A(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function FX(t){on(new Kt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{A(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),A(!(null==o?void 0:o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BO(t)},l=new qJ(a,u,c);return function TJ(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new Kt("auth-internal",e=>{const n=function In(t){return Xn(t)}(e.getProvider("auth").getImmediate());return new OX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(_P,"0.20.4",function PX(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Qe(_P,"0.20.4","esm2017")}("Browser");class EP{constructor(){return Lw("auth")}}const IP=new Map,BX={activated:!1,tokenObservers:[]},jX={initialized:!1,enabled:!1};function Et(t){return IP.get(t)||BX}function gr(t,e){IP.set(t,e)}function uf(){return jX}class zX{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return m(function*(){n.stop();try{n.pending=new F_,yield function WX(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new F_,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const an=new Or("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DP(t){if(!Et(t).activated)throw an.create("use-before-activation",{appName:t.name})}function VI(t,e){return UI.apply(this,arguments)}function UI(){return(UI=m(function*({url:t,body:e},n){var r,i;const s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){const f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}const a={method:"POST",body:JSON.stringify(e),headers:s};let u,c;try{u=yield fetch(t,a)}catch(f){throw an.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==u.status)throw an.create("fetch-status-error",{httpStatus:u.status});try{c=yield u.json()}catch(f){throw an.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const l=c.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw an.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});const d=1e3*Number(l[1]),h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})).apply(this,arguments)}function JX(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Sc="firebase-app-check-store";let df=null;function CP(){return df||(df=new Promise((t,e)=>{var n;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{t(i.target.result)},r.onerror=i=>{var s;e(an.create("storage-open",{originalErrorMessage:null===(s=i.target.error)||void 0===s?void 0:s.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Sc,{keyPath:"compositeKey"})}}catch(r){e(an.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),df)}function BI(){return(BI=m(function*(t,e){const r=(yield CP()).transaction(Sc,"readwrite"),s=r.objectStore(Sc).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(an.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const xc=new ca("@firebase/app-check");function MP(t,e){return Ds()?function tee(t,e){return function AP(t,e){return BI.apply(this,arguments)}(function xP(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{xc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function kP(){return uf().enabled}function NP(){return GI.apply(this,arguments)}function GI(){return(GI=m(function*(){const t=uf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aee={error:"UNKNOWN_ERROR"};function uee(t){return O_.encodeString(JSON.stringify(t),!1)}function hf(t){return qI.apply(this,arguments)}function qI(){return(qI=m(function*(t,e=!1){const n=t.app;DP(n);const r=Et(n);let s,i=r.token;if(!i){const u=yield r.cachedTokenPromise;u&&ff(u)&&(i=u)}if(!e&&i&&ff(i))return{token:i.token};let a,o=!1;if(kP()){r.exchangeTokenPromise||(r.exchangeTokenPromise=VI(JX(n,yield NP()),t.heartbeatServiceProvider).then(c=>(r.exchangeTokenPromise=void 0,c)),o=!0);const u=yield r.exchangeTokenPromise;return yield MP(n,u),gr(n,Object.assign(Object.assign({},r),{token:u})),{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(u=>(r.exchangeTokenPromise=void 0,u)),o=!0),i=yield r.exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?xc.warn(u.message):xc.error(u),s=u}return i?(a={token:i.token},gr(n,Object.assign(Object.assign({},r),{token:i})),yield MP(n,i)):a=lee(s),o&&OP(n,a),a})).apply(this,arguments)}function WI(t,e){const n=Et(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),gr(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function RP(t){const{app:e}=t,n=Et(e);let r=n.tokenRefresher;r||(r=function cee(t){const{app:e}=t;return new zX(m(function*(){let r;if(r=Et(e).token?yield hf(t,!0):yield hf(t),r.error)throw r.error}),()=>!0,()=>{const n=Et(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),gr(e,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function OP(t,e){const n=Et(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function ff(t){return t.expireTimeMillis-Date.now()>0}function lee(t){return{token:uee(aee),error:t}}class dee{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Et(this.app);for(const n of e)WI(this.app,n.next);return Promise.resolve()}}const $P="app-check-internal";!function Tee(){on(new Kt("app-check",t=>function hee(t,e){return new dee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider($P).initialize()})),on(new Kt($P,t=>function fee(t){return{getToken:e=>hf(t,e),addTokenListener:e=>function zI(t,e,n,r){const{app:i}=t,s=Et(i),o={next:n,error:r,type:e};if(gr(i,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]})),s.token&&ff(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),RP(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>RP(t))}(t,"INTERNAL",e),removeTokenListener:e=>WI(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Qe("@firebase/app-check","0.5.10")}();class GP{constructor(){return Lw("app-check")}}"undefined"!=typeof window&&window;var R,Mee="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pi={},ZI=ZI||{},H=Mee||self;function gf(){}function XI(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mc(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var eb="closure_uid_"+(1e9*Math.random()>>>0),Nee=0;function Ree(t,e,n){return t.call.apply(t.bind,arguments)}function Oee(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Ot(t,e,n){return(Ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ree:Oee).apply(null,arguments)}function mf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Pt(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Vi(){this.s=this.s,this.o=this.o}var Fee={};Vi.prototype.s=!1,Vi.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function kee(t){return Object.prototype.hasOwnProperty.call(t,eb)&&t[eb]||(t[eb]=++Nee)}(this);delete Fee[t]}},Vi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zP=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function WP(t){return Array.prototype.concat.apply([],arguments)}function tb(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function yf(t){return/^[\s\xa0]*$/.test(t)}var cn,KP=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function un(t,e){return-1!=t.indexOf(e)}function nb(t,e){return t<e?-1:t>e?1:0}e:{var QP=H.navigator;if(QP){var YP=QP.userAgent;if(YP){cn=YP;break e}}cn=""}function rb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JP(t){const e={};for(const n in t)e[n]=t[n];return e}var ZP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XP(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<ZP.length;s++)n=ZP[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ib(t){return ib[" "](t),t}ib[" "]=gf;var _f,t,Uee=un(cn,"Opera"),ya=un(cn,"Trident")||un(cn,"MSIE"),eF=un(cn,"Edge"),sb=eF||ya,tF=un(cn,"Gecko")&&!(un(cn.toLowerCase(),"webkit")&&!un(cn,"Edge"))&&!(un(cn,"Trident")||un(cn,"MSIE"))&&!un(cn,"Edge"),Bee=un(cn.toLowerCase(),"webkit")&&!un(cn,"Edge");function nF(){var t=H.document;return t?t.documentMode:void 0}e:{var ob="",ab=(t=cn,tF?/rv:([^\);]+)(\)|;)/.exec(t):eF?/Edge\/([\d\.]+)/.exec(t):ya?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Bee?/WebKit\/(\S+)/.exec(t):Uee?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(ab&&(ob=ab?ab[1]:""),ya){var ub=nF();if(null!=ub&&ub>parseFloat(ob)){_f=String(ub);break e}}_f=ob}var jee={};var Hee=H.document&&ya&&(nF()||parseInt(_f,10))||void 0,Gee=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",gf,e),H.removeEventListener("test",gf,e)}catch(n){}return t}();function Qt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function kc(t,e){if(Qt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(tF){e:{try{ib(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:qee[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&kc.Z.h.call(this)}}Qt.prototype.h=function(){this.defaultPrevented=!0},Pt(kc,Qt);var qee={2:"touch",3:"pen",4:"mouse"};kc.prototype.h=function(){kc.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nc="closure_listenable_"+(1e6*Math.random()|0),zee=0;function Wee(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++zee,this.ca=this.fa=!1}function vf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function wf(t){this.src=t,this.g={},this.h=0}function lb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=qP(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vf(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function db(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}wf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=db(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Wee(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var hb="closure_lm_"+(1e6*Math.random()|0),fb={};function iF(t,e,n,r,i){if(r&&r.once)return oF(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iF(t,e[s],n,r,i);return null}return n=yb(n),t&&t[Nc]?t.N(e,n,Mc(r)?!!r.capture:!!r,i):sF(t,e,n,!1,r,i)}function sF(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Mc(i)?!!i.capture:!!i,a=gb(t);if(a||(t[hb]=a=new wf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Kee(){var e=Qee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Gee||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(uF(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function oF(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oF(t,e[s],n,r,i);return null}return n=yb(n),t&&t[Nc]?t.O(e,n,Mc(r)?!!r.capture:!!r,i):sF(t,e,n,!0,r,i)}function aF(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aF(t,e[s],n,r,i);else r=Mc(r)?!!r.capture:!!r,n=yb(n),t&&t[Nc]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=db(s=t.g[e],n,r,i))&&(vf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=gb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=db(e,n,r,i)),(n=-1<t?e[t]:null)&&pb(n))}function pb(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Nc])lb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(uF(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=gb(e))?(lb(n,t),0==n.h&&(n.src=null,e[hb]=null)):vf(t)}}}function uF(t){return t in fb?fb[t]:fb[t]="on"+t}function Qee(t,e){if(t.ca)t=!0;else{e=new kc(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&pb(t),t=n.call(r,e)}return t}function gb(t){return(t=t[hb])instanceof wf?t:null}var mb="__closure_events_fn_"+(1e9*Math.random()>>>0);function yb(t){return"function"==typeof t?t:(t[mb]||(t[mb]=function(e){return t.handleEvent(e)}),t[mb])}function It(){Vi.call(this),this.i=new wf(this),this.P=this,this.I=null}function Ft(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Qt(e,t);else if(e instanceof Qt)e.target=e.target||t;else{var i=e;XP(e=new Qt(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ef(o,r,!0,e)&&i}if(i=Ef(o=e.g=t,r,!0,e)&&i,i=Ef(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Ef(o=e.g=n[s],r,!1,e)&&i}function Ef(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&lb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Pt(It,Vi),It.prototype[Nc]=!0,It.prototype.removeEventListener=function(t,e,n,r){aF(this,t,e,n,r)},It.prototype.M=function(){if(It.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vf(n[r]);delete t.g[e],t.h--}}this.I=null},It.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},It.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var _b=H.JSON.stringify;function Yee(){var t=lF;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var wb,cF=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Zee,t=>t.reset());class Zee{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Xee(t){H.setTimeout(()=>{throw t},0)}function vb(t,e){wb||function ete(){var t=H.Promise.resolve(void 0);wb=function(){t.then(tte)}}(),Eb||(wb(),Eb=!0),lF.add(t,e)}var Eb=!1,lF=new class Jee{constructor(){this.h=this.g=null}add(e,n){const r=cF.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function tte(){for(var t;t=Yee();){try{t.h.call(t.g)}catch(n){Xee(n)}var e=cF;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Eb=!1}function If(t,e){It.call(this),this.h=t||1,this.g=e||H,this.j=Ot(this.kb,this),this.l=Date.now()}function Ib(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function bb(t,e,n){if("function"==typeof t)n&&(t=Ot(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Ot(t.handleEvent,t)}return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function dF(t){t.g=bb(()=>{t.g=null,t.i&&(t.i=!1,dF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Pt(If,It),(R=If.prototype).da=!1,R.S=null,R.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ft(this,"tick"),this.da&&(Ib(this),this.start()))}},R.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},R.M=function(){If.Z.M.call(this),Ib(this),delete this.g};class nte extends Vi{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dF(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rc(t){Vi.call(this),this.h=t,this.g={}}Pt(Rc,Vi);var hF=[];function fF(t,e,n,r){Array.isArray(n)||(n&&(hF[0]=n.toString()),n=hF);for(var i=0;i<n.length;i++){var s=iF(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function pF(t){rb(t.g,function(e,n){this.g.hasOwnProperty(n)&&pb(e)},t),t.g={}}function bf(){this.g=!0}function _a(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ote(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return _b(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Rc.prototype.M=function(){Rc.Z.M.call(this),pF(this)},Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bf.prototype.Aa=function(){this.g=!1},bf.prototype.info=function(){};var Ls={},gF=null;function Df(){return gF=gF||new It}function mF(t){Qt.call(this,Ls.Ma,t)}function Oc(t){const e=Df();Ft(e,new mF(e,t))}function yF(t,e){Qt.call(this,Ls.STAT_EVENT,t),this.stat=e}function ln(t){const e=Df();Ft(e,new yF(e,t))}function _F(t,e){Qt.call(this,Ls.Na,t),this.size=e}function Pc(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}Ls.Ma="serverreachability",Pt(mF,Qt),Ls.STAT_EVENT="statevent",Pt(yF,Qt),Ls.Na="timingevent",Pt(_F,Qt);var Tf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vF={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Db(){}function EF(){}Db.prototype.h=null;var Ab,Fc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Tb(){Qt.call(this,"d")}function Cb(){Qt.call(this,"c")}function Cf(){}function Lc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Rc(this),this.P=ate,this.W=new If(t=sb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new IF}function IF(){this.i=null,this.g="",this.h=!1}Pt(Tb,Qt),Pt(Cb,Qt),Pt(Cf,Db),Cf.prototype.g=function(){return new XMLHttpRequest},Cf.prototype.i=function(){return{}},Ab=new Cf;var ate=45e3,Sb={},Af={};function xb(t,e,n){t.K=1,t.v=Nf(gi(e)),t.s=n,t.U=!0,bF(t,null)}function bF(t,e){t.F=Date.now(),Vc(t),t.A=gi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),NF(n.h,"t",r),t.C=0,n=t.l.H,t.h=new IF,t.g=tL(t.l,n?e:null,!t.s),0<t.O&&(t.L=new nte(Ot(t.Ia,t,t.g),t.O)),fF(t.V,t.g,"readystatechange",t.gb),e=t.H?JP(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Oc(1),function rte(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function DF(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function TF(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=ute(t,n),i==Af){4==e&&(t.o=4,ln(14),r=!1),_a(t.j,t.m,null,"[Incomplete Response]");break}if(i==Sb){t.o=4,ln(15),_a(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}_a(t.j,t.m,i,null),Mb(t,i)}DF(t)&&i!=Af&&i!=Sb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ln(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jb(e),e.L=!0,ln(11))):(_a(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),Uc(t))}function ute(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Af:(n=Number(e.substring(n,r)),isNaN(n)?Sb:(r+=1)+n>e.length?Af:(e=e.substr(r,n),t.C=r+n,e))}function Vc(t){t.Y=Date.now()+t.P,CF(t,t.P)}function CF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Pc(Ot(t.eb,t),e)}function Sf(t){t.B&&(H.clearTimeout(t.B),t.B=null)}function Uc(t){0==t.l.G||t.I||JF(t.l,t)}function Vs(t){Sf(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Ib(t.W),pF(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Mb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Rb(n.i,t)))if(n.I=t.N,!t.J&&Rb(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Pc(Ot(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break e;Vf(n),Ff(n)}Bb(n),ln(18)}if(1>=PF(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else js(n,11)}else if((t.J||n.g==t)&&Vf(n),!yf(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const l=c[3];null!=l&&(n.ma=l,n.h.info("VER="+n.ma));const d=c[4];null!=d&&(n.za=d,n.h.info("SVER="+n.za));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.K=r=1.5*h,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;!s.g&&(un(p,"spdy")||un(p,"quic")||un(p,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ob(s,s.h),s.h=null))}if(r.D){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,Re(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=eL(r,r.H?r.la:null,r.W),o.J){FF(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Sf(a),Vc(a)),r.g=o}else QF(r);0<n.l.length&&Lf(n)}else"stop"!=c[0]&&"close"!=c[0]||js(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?js(n,7):Vb(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Oc(4)}catch(c){}}function kb(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(XI(t)||"string"==typeof t)zP(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(XI(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function cte(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(XI(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function va(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof va)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nb(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Us(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Us(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Us(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(R=Lc.prototype).setTimeout=function(t){this.P=t},R.gb=function(t){t=t.target;const e=this.L;e&&3==mi(t)?e.l():this.Ia(t)},R.Ia=function(t){try{if(t==this.g)e:{const l=mi(this.g);var e=this.g.Da();const d=this.g.ba();if(!(3>l)&&(3!=l||sb||this.g&&(this.h.h||this.g.ga()||GF(this.g)))){this.I||4!=l||7==e||Oc(8==e||0>=d?3:2),Sf(this);var n=this.g.ba();this.N=n;t:if(DF(this)){var r=GF(this.g);t="";var i=r.length,s=4==mi(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vs(this),Uc(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function ite(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yf(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ln(12),Vs(this),Uc(this);break e}_a(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mb(this,n)}this.U?(TF(this,l,o),sb&&this.i&&3==l&&(fF(this.V,this.W,"tick",this.fb),this.W.start())):(_a(this.j,this.m,o,null),Mb(this,o)),4==l&&Vs(this),this.i&&!this.I&&(4==l?JF(this.l,this):(this.i=!1,Vc(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ln(12)):(this.o=0,ln(13)),Vs(this),Uc(this)}}}catch(l){}},R.fb=function(){if(this.g){var t=mi(this.g),e=this.g.ga();this.C<e.length&&(Sf(this),TF(this,t,e),this.i&&4!=t&&Vc(this))}},R.cancel=function(){this.I=!0,Vs(this)},R.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function ste(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Oc(3),ln(17)),Vs(this),this.o=2,Uc(this)):CF(this,this.Y-t)},(R=va.prototype).R=function(){Nb(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},R.T=function(){return Nb(this),this.g.concat()},R.get=function(t,e){return Us(this.h,t)?this.h[t]:e},R.set=function(t,e){Us(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},R.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var AF=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bs(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Bs){this.g=void 0!==e?e:t.g,xf(this,t.j),this.s=t.s,Mf(this,t.i),kf(this,t.m),this.l=t.l,e=t.h;var n=new $c;n.i=e.i,e.g&&(n.g=new va(e.g),n.h=e.h),SF(this,n),this.o=t.o}else t&&(n=String(t).match(AF))?(this.g=!!e,xf(this,n[1]||"",!0),this.s=Bc(n[2]||""),Mf(this,n[3]||"",!0),kf(this,n[4]),this.l=Bc(n[5]||"",!0),SF(this,n[6]||"",!0),this.o=Bc(n[7]||"")):(this.g=!!e,this.h=new $c(null,this.g))}function gi(t){return new Bs(t)}function xf(t,e,n){t.j=n?Bc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mf(t,e,n){t.i=n?Bc(e,!0):e}function kf(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function SF(t,e,n){e instanceof $c?(t.h=e,function _te(t,e){e&&!t.j&&(Ui(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(MF(this,r),NF(this,i,n))},t)),t.j=e}(t.h,t.g)):(n||(e=jc(e,mte)),t.h=new $c(e,t.g))}function Re(t,e,n){t.h.set(e,n)}function Nf(t){return Re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Bc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,fte),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fte(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Bs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jc(e,xF,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(jc(e,xF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(jc(n,"/"==n.charAt(0)?gte:pte,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jc(n,yte)),t.join("")};var xF=/[#\/\?@]/g,pte=/[#\?:]/g,gte=/[#\?]/g,mte=/[#\?@]/g,yte=/#/g;function $c(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ui(t){t.g||(t.g=new va,t.h=0,t.i&&function lte(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function MF(t,e){Ui(t),e=wa(t,e),Us(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Us((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Nb(t)))}function kF(t,e){return Ui(t),e=wa(t,e),Us(t.g.h,e)}function NF(t,e,n){MF(t,e),0<n.length&&(t.i=null,t.g.set(wa(t,e),tb(n)),t.h+=n.length)}function wa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RF(t){this.l=t||wte,t=H.PerformanceNavigationTiming?0<(t=H.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(H.g&&H.g.Ea&&H.g.Ea()&&H.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(R=$c.prototype).add=function(t,e){Ui(this),this.i=null,t=wa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},R.forEach=function(t,e){Ui(this),this.g.forEach(function(n,r){zP(n,function(i){t.call(e,i,r,this)},this)},this)},R.T=function(){Ui(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},R.R=function(t){Ui(this);var e=[];if("string"==typeof t)kF(this,t)&&(e=WP(e,this.g.get(wa(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=WP(e,t[n])}return e},R.set=function(t,e){return Ui(this),this.i=null,kF(this,t=wa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},R.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},R.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var wte=10;function OF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function PF(t){return t.h?1:t.g?t.g.size:0}function Rb(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ob(t,e){t.g?t.g.add(e):t.h=e}function FF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function LF(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return tb(t.i)}function Pb(){}function Ete(){this.g=new Pb}function Ite(t,e,n){const r=n||"";try{kb(t,function(i,s){let o=i;Mc(i)&&(o=_b(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Hc(t){this.l=t.$b||null,this.j=t.ib||!1}function Of(t,e){It.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Fb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RF.prototype.cancel=function(){if(this.i=LF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Pb.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)},Pb.prototype.parse=function(t){return H.JSON.parse(t,void 0)},Pt(Hc,Db),Hc.prototype.g=function(){return new Of(this.l,this.j)},Hc.prototype.i=function(t){return function(){return t}}({}),Pt(Of,It);var Fb=0;function VF(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,qc(t)}function qc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(R=Of.prototype).open=function(t,e){if(this.readyState!=Fb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,qc(this)},R.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},R.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gc(this)),this.readyState=Fb},R.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,qc(this)),this.g&&(this.readyState=3,qc(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==H.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VF(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},R.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Gc(this):qc(this),3==this.readyState&&VF(this)}},R.Ua=function(t){this.g&&(this.response=this.responseText=t,Gc(this))},R.Ta=function(t){this.g&&(this.response=t,Gc(this))},R.ha=function(){this.g&&Gc(this)},R.setRequestHeader=function(t,e){this.v.append(t,e)},R.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},R.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Of.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Dte=H.JSON.parse;function et(t){It.call(this),this.headers=new va,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UF,this.K=this.L=!1}Pt(et,It);var UF="",Tte=/^https?$/i,Cte=["POST","PUT"];function Ste(t){return"content-type"==t.toLowerCase()}function BF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jF(t),Pf(t)}function jF(t){t.D||(t.D=!0,Ft(t,"complete"),Ft(t,"error"))}function $F(t){if(t.h&&void 0!==ZI&&(!t.C[1]||4!=mi(t)||2!=t.ba()))if(t.v&&4==mi(t))bb(t.Fa,0,t);else if(Ft(t,"readystatechange"),4==mi(t)){t.h=!1;try{const a=t.ba();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(AF)[1]||null;if(!i&&H.self&&H.self.location){var s=H.self.location.protocol;i=s.substr(0,s.length-1)}r=!Tte.test(i?i.toLowerCase():"")}n=r}if(n)Ft(t,"complete"),Ft(t,"success");else{t.m=6;try{var o=2<mi(t)?t.g.statusText:""}catch(u){o=""}t.j=o+" ["+t.ba()+"]",jF(t)}}finally{Pf(t)}}}function Pf(t,e){if(t.g){HF(t);const n=t.g,r=t.C[0]?gf:null;t.g=null,t.C=null,e||Ft(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function HF(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function mi(t){return t.g?t.g.readyState:0}function GF(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case UF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Lb(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function xte(t){let e="";return rb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Re(t,e,n))}function zc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qF(t){this.za=0,this.l=[],this.h=new bf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zc("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zc("baseRetryDelayMs",5e3,t),this.$a=zc("retryDelaySeedMs",1e4,t),this.Ya=zc("forwardChannelMaxRetries",2,t),this.ra=zc("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new RF(t&&t.concurrentRequestLimit),this.Ca=new Ete,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Vb(t){if(zF(t),3==t.G){var e=t.V++,n=gi(t.F);Re(n,"SID",t.J),Re(n,"RID",e),Re(n,"TYPE","terminate"),Wc(t,n),(e=new Lc(t,t.h,e,void 0)).K=2,e.v=Nf(gi(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&((new Image).src=e.v,n=!0),n||(e.g=tL(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vc(e)}XF(t)}function Ff(t){t.g&&(jb(t),t.g.cancel(),t.g=null)}function zF(t){Ff(t),t.u&&(H.clearTimeout(t.u),t.u=null),Vf(t),t.i.cancel(),t.m&&("number"==typeof t.m&&H.clearTimeout(t.m),t.m=null)}function Ub(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&Lf(t)}function Lf(t){OF(t.i)||t.m||(t.m=!0,vb(t.Ha,t),t.C=0)}function WF(t,e){var n;n=e?e.m:t.V++;const r=gi(t.F);Re(r,"SID",t.J),Re(r,"RID",n),Re(r,"AID",t.U),Wc(t,r),t.o&&t.s&&Lb(r,t.o,t.s),n=new Lc(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=KF(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ob(t.i,n),xb(n,r,e)}function Wc(t,e){t.j&&kb({},function(n,r){Re(e,r,n)})}function KF(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Ot(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{Ite(l,o,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function QF(t){t.g||t.u||(t.Y=1,vb(t.Ga,t),t.A=0)}function Bb(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=Pc(Ot(t.Ga,t),ZF(t,t.A)),t.A++,0))}function jb(t){null!=t.B&&(H.clearTimeout(t.B),t.B=null)}function YF(t){t.g=new Lc(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=gi(t.oa);Re(e,"RID","rpc"),Re(e,"SID",t.J),Re(e,"CI",t.N?"0":"1"),Re(e,"AID",t.U),Wc(t,e),Re(e,"TYPE","xmlhttp"),t.o&&t.s&&Lb(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Nf(gi(e)),n.s=null,n.U=!0,bF(n,t)}function Vf(t){null!=t.v&&(H.clearTimeout(t.v),t.v=null)}function JF(t,e){var n=null;if(t.g==e){Vf(t),jb(t),t.g=null;var r=2}else{if(!Rb(t.i,e))return;n=e.D,FF(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ft(r=Df(),new _F(r,n,e,i)),Lf(t)}else QF(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function Mte(t,e){return!(PF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=Pc(Ot(t.Ha,t,e),ZF(t,t.C)),t.C++,0)))}(t,e)||2==r&&Bb(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:js(t,5);break;case 4:js(t,10);break;case 3:js(t,6);break;default:js(t,2)}}function ZF(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function js(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Ot(t.jb,t);n||(n=new Bs("//www.google.com/images/cleardot.gif"),H.location&&"http"==H.location.protocol||xf(n,"https"),Nf(n)),function bte(t,e){const n=new bf;if(H.Image){const r=new Image;r.onload=mf(Rf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=mf(Rf,n,r,"TestLoadImage: error",!1,e),r.onabort=mf(Rf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=mf(Rf,n,r,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ln(2);t.G=0,t.j&&t.j.va(e),XF(t),zF(t)}function XF(t){t.G=0,t.I=-1,t.j&&((0!=LF(t.i).length||0!=t.l.length)&&(t.i.i.length=0,tb(t.l),t.l.length=0),t.j.ua())}function eL(t,e,n){let r=function dte(t){return t instanceof Bs?gi(t):new Bs(t,void 0)}(n);if(""!=r.i)e&&Mf(r,e+"."+r.i),kf(r,r.m);else{const i=H.location;r=function hte(t,e,n,r){var i=new Bs(null,void 0);return t&&xf(i,t),e&&Mf(i,e),n&&kf(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&rb(t.aa,function(i,s){Re(r,s,i)}),n=t.sa,(e=t.D)&&n&&Re(r,e,n),Re(r,"VER",t.ma),Wc(t,r),r}function tL(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(n&&t.Ba&&!t.qa?new Hc({ib:!0}):t.qa)).L=t.H,e}function nL(){}function Uf(){if(ya&&!(10<=Number(Hee)))throw Error("Environmental error: no available transport.")}function Un(t,e){It.call(this),this.g=new qF(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!yf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yf(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ea(this)}function rL(t){Tb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function iL(){Cb.call(this),this.status=1}function Ea(t){this.g=t}(R=et.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ab.g(),this.C=function wF(t){return t.h||(t.h=t.i())}(this.u?this.u:Ab),this.g.onreadystatechange=Ot(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void BF(this,s)}t=n||"";const i=new va(this.headers);r&&kb(r,function(s,o){i.set(o,s)}),r=function Lee(t){e:{var e=Ste;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=H.FormData&&t instanceof H.FormData,!(0<=qP(Cte,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{HF(this),0<this.B&&((this.K=function Ate(t){return ya&&function $ee(){return function Vee(t){var e=jee;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=KP(String(_f)).split("."),n=KP("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=nb(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||nb(0==i[2].length,0==s[2].length)||nb(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ot(this.pa,this)):this.A=bb(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){BF(this,s)}},R.pa=function(){void 0!==ZI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ft(this,"timeout"),this.abort(8))},R.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ft(this,"complete"),Ft(this,"abort"),Pf(this))},R.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pf(this,!0)),et.Z.M.call(this)},R.Fa=function(){this.s||(this.F||this.v||this.l?$F(this):this.cb())},R.cb=function(){$F(this)},R.ba=function(){try{return 2<mi(this)?this.g.status:-1}catch(t){return-1}},R.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},R.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dte(e)}},R.Da=function(){return this.m},R.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(R=qF.prototype).ma=8,R.G=1,R.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},R.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Lc(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=JP(s),XP(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=KF(this,i,e),Re(n=gi(this.F),"RID",t),Re(n,"CVER",22),this.D&&Re(n,"X-HTTP-Session-Id",this.D),Wc(this,n),this.o&&s&&Lb(n,this.o,s),Ob(this.i,i),this.Ra&&Re(n,"TYPE","init"),this.ja?(Re(n,"$req",e),Re(n,"SID","null"),i.$=!0,xb(i,n,null)):xb(i,n,e),this.G=2}}else 3==this.G&&(t?WF(this,t):0==this.l.length||OF(this.i)||WF(this))},R.Ga=function(){if(this.u=null,YF(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Pc(Ot(this.bb,this),t)}},R.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ln(10),Ff(this),YF(this))},R.ab=function(){null!=this.v&&(this.v=null,Ff(this),Bb(this),ln(19))},R.jb=function(t){t?(this.h.info("Successfully pinged google.com"),ln(2)):(this.h.info("Failed to ping google.com"),ln(1))},(R=nL.prototype).xa=function(){},R.wa=function(){},R.va=function(){},R.ua=function(){},R.Oa=function(){},Uf.prototype.g=function(t,e){return new Un(t,e)},Pt(Un,It),Un.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),vb(Ot(t.hb,t,e))),ln(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=eL(t,null,t.W),Lf(t)},Un.prototype.close=function(){Vb(this.g)},Un.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,Ub(this.g,e)}else this.v?((e={}).__data__=_b(t),Ub(this.g,e)):Ub(this.g,t)},Un.prototype.M=function(){this.g.j=null,delete this.j,Vb(this.g),delete this.g,Un.Z.M.call(this)},Pt(rL,Tb),Pt(iL,Cb),Pt(Ea,nL),Ea.prototype.xa=function(){Ft(this.g,"a")},Ea.prototype.wa=function(t){Ft(this.g,new rL(t))},Ea.prototype.va=function(t){Ft(this.g,new iL(t))},Ea.prototype.ua=function(){Ft(this.g,"b")},Uf.prototype.createWebChannel=Uf.prototype.g,Un.prototype.send=Un.prototype.u,Un.prototype.open=Un.prototype.m,Un.prototype.close=Un.prototype.close,Tf.NO_ERROR=0,Tf.TIMEOUT=8,Tf.HTTP_ERROR=6,vF.COMPLETE="complete",EF.EventType=Fc,Fc.OPEN="a",Fc.CLOSE="b",Fc.ERROR="c",Fc.MESSAGE="d",It.prototype.listen=It.prototype.N,et.prototype.listenOnce=et.prototype.O,et.prototype.getLastError=et.prototype.La,et.prototype.getLastErrorCode=et.prototype.Da,et.prototype.getStatus=et.prototype.ba,et.prototype.getResponseJson=et.prototype.Qa,et.prototype.getResponseText=et.prototype.ga,et.prototype.send=et.prototype.ea;var kte=pi.createWebChannelTransport=function(){return new Uf},Nte=pi.getStatEventTarget=function(){return Df()},$b=pi.ErrorCode=Tf,Rte=pi.EventType=vF,Ote=pi.Event=Ls,sL=pi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Pte=pi.FetchXmlHttpFactory=Hc,Bf=pi.WebChannel=EF,Fte=pi.XhrIo=et;const oL="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let Ia="9.8.4";const Bi=new ca("@firebase/firestore");function Hb(){return Bi.logLevel}function T(t,...e){if(Bi.logLevel<=de.DEBUG){const n=e.map(Gb);Bi.debug(`Firestore (${Ia}): ${t}`,...n)}}function tt(t,...e){if(Bi.logLevel<=de.ERROR){const n=e.map(Gb);Bi.error(`Firestore (${Ia}): ${t}`,...n)}}function jf(t,...e){if(Bi.logLevel<=de.WARN){const n=e.map(Gb);Bi.warn(`Firestore (${Ia}): ${t}`,...n)}}function Gb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(n){return t}}function P(t="Unexpected state"){const e=`FIRESTORE (${Ia}) INTERNAL ASSERTION FAILED: `+t;throw tt(e),new Error(e)}function j(t,e){t||P()}function x(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class D extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(bt.UNAUTHENTICATED))}shutdown(){}}class Ute{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Dt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(m(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new aL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new bt(e)}}class Bte{constructor(e,n,r){this.type="FirstParty",this.user=bt.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class jte{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Bte(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $te{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{null!=s.error&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(j("string"==typeof n.token),this.p=n.token,new uL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Hte(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class cL{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Hte(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Q(t,e){return t<e?-1:t>e?1:0}function ba(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new D(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new Le(0,0))}static max(){return new U(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Kc{constructor(e,n,r){void 0===n?n=0:n>e.length&&P(),void 0===r?r=e.length-n:r>e.length-n&&P(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Kc.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class he extends Kc{construct(e,n,r){return new he(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new D(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new he(n)}static emptyPath(){return new he([])}}const Gte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends Kc{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return Gte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new D(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new D(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new D(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new D(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}class S{constructor(e){this.path=e}static fromPath(e){return new S(he.fromString(e))}static fromName(e){return new S(he.fromString(e).popFirst(5))}static empty(){return new S(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===he.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return he.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new he(e.slice()))}}function hL(t){return new Bn(t.readTime,t.key,-1)}class Bn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bn(U.min(),S.empty(),-1)}static max(){return new Bn(U.max(),S.empty(),-1)}}function zb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=S.comparator(t.documentKey,e.documentKey),0!==n?n:Q(t.largestBatchId,e.largestBatchId))}const fL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ji(t){return Wb.apply(this,arguments)}function Wb(){return Wb=m(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==fL)throw t;T("LocalStore","Unexpectedly lost primary lease")}),Wb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&P(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function $i(t){return"IndexedDbTransactionError"===t.name}class bn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.it(r),this.rt=r=>n.writeSequenceNumber(r))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function gL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}bn.ot=-1;class qe{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qf(this.root,e,this.comparator,!1)}getReverseIterator(){return new qf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qf(this.root,e,this.comparator,!0)}}class qf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Lt.RED,this.left=null!=i?i:Lt.EMPTY,this.right=null!=s?s:Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Lt(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw P();const e=this.left.check();if(e!==this.right.check())throw P();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1,Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw P()}get value(){throw P()}get color(){throw P()}get left(){throw P()}get right(){throw P()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Lt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class we{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yL(this.data.getIterator())}getIteratorFrom(e){return new yL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new we(this.comparator);return n.data=e,n}}class yL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new we(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ba(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new dt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Q(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const Yte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hi(t){if(j(!!t),"string"==typeof t){let e=0;const n=Yte.exec(t);if(j(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function qs(t){return"string"==typeof t?dt.fromBase64String(t):dt.fromUint8Array(t)}function Qb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function _L(t){const e=t.mapValue.fields.__previous_value__;return Qb(e)?_L(e):e}function Jc(t){const e=Hi(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}class Jte{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class Gi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gi&&e.projectId===this.projectId&&e.database===this.database}}function Zc(t){return null==t}function Xc(t){return 0===t&&1/t==-1/0}const qi_mapValue={fields:{__type__:{stringValue:"__max__"}}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qb(t)?4:bL(t)?9007199254740991:10:P()}function Lr(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Hi(r.timestampValue),o=Hi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,qs(t.bytesValue).isEqual(qs(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ze(r.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(r.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ze(r.integerValue)===ze(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ze(r.doubleValue),o=ze(i.doubleValue);return s===o?Xc(s)===Xc(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ba(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(gL(s)!==gL(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Lr(s[a],o[a])))return!1;return!0}(t,e);default:return P()}var i}function el(t,e){return void 0!==(t.values||[]).find(n=>Lr(n,e))}function zi(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return Q(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Q(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ze(i.integerValue||i.doubleValue),a=ze(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return wL(t.timestampValue,e.timestampValue);case 4:return wL(Jc(t),Jc(e));case 5:return Q(t.stringValue,e.stringValue);case 6:return function(i,s){const o=qs(i),a=qs(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=Q(o[u],a[u]);if(0!==c)return c}return Q(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=Q(ze(i.latitude),ze(s.latitude));return 0!==o?o:Q(ze(i.longitude),ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=zi(o[u],a[u]);if(c)return c}return Q(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===qi_mapValue&&s===qi_mapValue)return 0;if(i===qi_mapValue)return 1;if(s===qi_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=Q(a[l],c[l]);if(0!==d)return d;const h=zi(o[a[l]],u[c[l]]);if(0!==h)return h}return Q(a.length,c.length)}(t.mapValue,e.mapValue);default:throw P()}}function wL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Q(t,e);const n=Hi(t),r=Hi(e),i=Q(n.seconds,r.seconds);return 0!==i?i:Q(n.nanos,r.nanos)}function Ta(t){return Yb(t)}function Yb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Hi(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?qs(t.bytesValue).toBase64():"referenceValue"in t?S.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Yb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Yb(r.fields[a])}`;return s+"}"}(t.mapValue):P();var e}function Jb(t){return!!t&&"integerValue"in t}function tl(t){return!!t&&"arrayValue"in t}function EL(t){return!!t&&"nullValue"in t}function IL(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wf(t){return!!t&&"mapValue"in t}function nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=nl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Wf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Wf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(nl(this.value))}}function CL(t){const e=[];return Gs(t.fields,(n,r)=>{const i=new nt([n]);if(Wf(r)){const s=CL(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new jn(e)}class Se{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Se(e,0,U.min(),U.min(),Vt.empty(),0)}static newFoundDocument(e,n,r){return new Se(e,1,n,U.min(),r,0)}static newNoDocument(e,n){return new Se(e,2,n,U.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Se(e,3,n,U.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=U.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Se&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ene{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ut=null}}function AL(t,e=null,n=[],r=[],i=null,s=null,o=null){return new ene(t,e,n,r,i,s,o)}function Ks(t){const e=x(t);if(null===e.ut){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ta(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Zc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ta(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ta(r)).join(",")),e.ut=n}return e.ut}function rl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!cne(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Lr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NL(t.startAt,e.startAt)&&NL(t.endAt,e.endAt)}function Kf(t){return S.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Ut extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.ct(e,n,r):new nne(e,n,r):"array-contains"===n?new sne(e,r):"in"===n?new one(e,r):"not-in"===n?new ane(e,r):"array-contains-any"===n?new une(e,r):new Ut(e,n,r)}static ct(e,n,r){return"in"===n?new rne(e,r):new ine(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.at(zi(n,this.value)):null!==n&&zs(this.value)===zs(n)&&this.at(zi(n,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return P()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nne extends Ut{constructor(e,n,r){super(e,n,r),this.key=S.fromName(r.referenceValue)}matches(e){const n=S.comparator(e.key,this.key);return this.at(n)}}class rne extends Ut{constructor(e,n){super(e,"in",n),this.keys=ML(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ine extends Ut{constructor(e,n){super(e,"not-in",n),this.keys=ML(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ML(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>S.fromName(r.referenceValue))}class sne extends Ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tl(n)&&el(n.arrayValue,this.value)}}class one extends Ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&el(this.value.arrayValue,n)}}class ane extends Ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!el(this.value.arrayValue,n)}}class une extends Ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}}class Wi{constructor(e,n){this.position=e,this.inclusive=n}}class Ca{constructor(e,n="asc"){this.field=e,this.dir=n}}function cne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function kL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?S.comparator(S.fromName(o.referenceValue),n.key):zi(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function NL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}class yi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.lt=null,this.ft=null}}function Aa(t){return new yi(t)}function Sa(t){const e=x(t);if(null===e.lt){e.lt=[];const n=function Xb(t){for(const e of t.filters)if(e.ht())return e.field;return null}(e),r=function Zb(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.lt.push(new Ca(n)),e.lt.push(new Ca(nt.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.lt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Ca(nt.keyField(),s))}}}return e.lt}function tr(t){const e=x(t);if(!e.ft)if("F"===e.limitType)e.ft=AL(e.path,e.collectionGroup,Sa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Sa(e))n.push(new Ca(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Wi(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Wi(e.startAt.position,e.startAt.inclusive):null;e.ft=AL(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.ft}function il(t,e){return rl(tr(t),tr(e))&&t.limitType===e.limitType}function PL(t){return`${Ks(tr(t))}|lt:${t.limitType}`}function tD(t){return`Query(target=${function tne(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ta(r.value)}`;var r}).join(", ")}]`),Zc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>{return`${(r=n).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ta(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ta(n)).join(",")),`Target(${e})`}(tr(t))}; limitType=${t.limitType})`}function nD(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):S.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=kL(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Sa(n),r)||n.endAt&&!function(i,s,o){const a=kL(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Sa(n),r)));var n,r}function LL(t){return(e,n)=>{let r=!1;for(const i of Sa(t)){const s=dne(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function dne(t,e,n){const r=t.field.isKeyField()?S.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?zi(a,u):P()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return P()}}function VL(t,e){if(t.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function UL(t){return{integerValue:""+t}}function BL(t,e){return function vL(t){return"number"==typeof t&&Number.isInteger(t)&&!Xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?UL(e):VL(t,e)}class Yf{constructor(){this._=void 0}}function hne(t,e,n){return t instanceof xa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Qs?$L(t,e):t instanceof Ys?HL(t,e):function(r,i){const s=jL(r,i),o=GL(s)+GL(r._t);return Jb(s)&&Jb(r._t)?UL(o):VL(r.wt,o)}(t,e)}function fne(t,e,n){return t instanceof Qs?$L(t,e):t instanceof Ys?HL(t,e):n}function jL(t,e){return t instanceof Ma?Jb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class xa extends Yf{}class Qs extends Yf{constructor(e){super(),this.elements=e}}function $L(t,e){const n=qL(e);for(const r of t.elements)n.some(i=>Lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends Yf{constructor(e){super(),this.elements=e}}function HL(t,e){let n=qL(e);for(const r of t.elements)n=n.filter(i=>!Lr(i,r));return{arrayValue:{values:n}}}class Ma extends Yf{constructor(e,n){super(),this.wt=e,this._t=n}}function GL(t){return ze(t.integerValue||t.doubleValue)}function qL(t){return tl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gne{constructor(e,n){this.version=e,this.transformResults=n}}class Ve{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ve}static exists(e){return new Ve(void 0,e)}static updateTime(e){return new Ve(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Zf{}function zL(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Na(t.key,Ve.none()):new ka(t.key,t.data,Ve.none());{const n=t.data,r=Vt.empty();let i=new we(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new _i(t.key,r,new jn(i.toArray()),Ve.none())}}function mne(t,e,n){t instanceof ka?function(r,i,s){const o=r.value.clone(),a=QL(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof _i?function(r,i,s){if(!Jf(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=QL(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(KL(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ol(t,e,n,r){return t instanceof ka?function(i,s,o,a){if(!Jf(i.precondition,s))return o;const u=i.value.clone(),c=YL(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof _i?function(i,s,o,a){if(!Jf(i.precondition,s))return o;const u=YL(i.fieldTransforms,a,s),c=s.data;return c.setAll(KL(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,Jf(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function yne(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=jL(r.transform,i||null);null!=s&&(null===n&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function WL(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&ba(n,r,(i,s)=>function pne(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Qs&&r instanceof Qs||n instanceof Ys&&r instanceof Ys?ba(n.elements,r.elements,Lr):n instanceof Ma&&r instanceof Ma?Lr(n._t,r._t):n instanceof xa&&r instanceof xa);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class ka extends Zf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _i extends Zf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function KL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function QL(t,e,n){const r=new Map;j(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,fne(o,a,n[i]))}return r}function YL(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,hne(s,o,e))}return r}class Na extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends Zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _ne{constructor(e){this.count=e}}var rt,fe;function JL(t){switch(t){default:return P();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function ZL(t){if(void 0===t)return tt("GRPC error has no .code"),w.UNKNOWN;switch(t){case rt.OK:return w.OK;case rt.CANCELLED:return w.CANCELLED;case rt.UNKNOWN:return w.UNKNOWN;case rt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case rt.INTERNAL:return w.INTERNAL;case rt.UNAVAILABLE:return w.UNAVAILABLE;case rt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case rt.NOT_FOUND:return w.NOT_FOUND;case rt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case rt.ABORTED:return w.ABORTED;case rt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case rt.DATA_LOSS:return w.DATA_LOSS;default:return P()}}(fe=rt||(rt={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";class Ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return mL(this.inner)}size(){return this.innerSize}}const vne=new qe(S.comparator);function Dn(){return vne}const XL=new qe(S.comparator);function al(...t){let e=XL;for(const n of t)e=e.insert(n.key,n);return e}function eV(t){let e=XL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vr(){return ul()}function tV(){return ul()}function ul(){return new Ki(t=>t.toString(),(t,e)=>t.isEqual(e))}const wne=new qe(S.comparator),Ene=new we(S.comparator);function te(...t){let e=Ene;for(const n of t)e=e.add(n);return e}const Ine=new we(Q);function Xf(){return Ine}class cl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n)),new cl(U.min(),r,Xf(),Dn(),te())}}class ll{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ll(dt.EMPTY_BYTE_STRING,n,te(),te(),te())}}class ep{constructor(e,n,r,i){this.gt=e,this.removedTargetIds=n,this.key=r,this.yt=i}}class nV{constructor(e,n){this.targetId=e,this.It=n}}class rV{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iV{constructor(){this.Tt=0,this.Et=oV(),this.At=dt.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=te(),n=te(),r=te();return this.Et.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:P()}}),new ll(this.At,this.Rt,e,n,r)}Dt(){this.bt=!1,this.Et=oV()}Ct(e,n){this.bt=!0,this.Et=this.Et.insert(e,n)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class bne{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Dn(),this.Bt=sV(),this.Lt=new we(Q)}Ut(e){for(const n of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(n,e.yt):this.Kt(n,e.key,e.yt);for(const n of e.removedTargetIds)this.Kt(n,e.key,e.yt)}Gt(e){this.forEachTarget(e,n=>{const r=this.Qt(n);switch(e.state){case 0:this.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||this.removeTarget(n);break;case 3:this.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:this.jt(n)&&(this.Wt(n),r.Vt(e.resumeToken));break;default:P()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ft.forEach((r,i)=>{this.jt(i)&&n(i)})}zt(e){const n=e.targetId,r=e.It.count,i=this.Ht(n);if(i){const s=i.target;if(Kf(s))if(0===r){const o=new S(s.path);this.Kt(n,o,Se.newNoDocument(o,U.min()))}else j(1===r);else this.Jt(n)!==r&&(this.Wt(n),this.Lt=this.Lt.add(n))}}Yt(e){const n=new Map;this.Ft.forEach((s,o)=>{const a=this.Ht(o);if(a){if(s.current&&Kf(a.target)){const u=new S(a.target.path);null!==this.$t.get(u)||this.Xt(o,u)||this.Kt(o,u,Se.newNoDocument(u,e))}s.vt&&(n.set(o,s.St()),s.Dt())}});let r=te();this.Bt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ht(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.$t.forEach((s,o)=>o.setReadTime(e));const i=new cl(e,n,this.Lt,this.$t,r);return this.$t=Dn(),this.Bt=sV(),this.Lt=new we(Q),i}qt(e,n){if(!this.jt(e))return;const r=this.Xt(e,n.key)?2:0;this.Qt(e).Ct(n.key,r),this.$t=this.$t.insert(n.key,n),this.Bt=this.Bt.insert(n.key,this.Zt(n.key).add(e))}Kt(e,n,r){if(!this.jt(e))return;const i=this.Qt(e);this.Xt(e,n)?i.Ct(n,1):i.xt(n),this.Bt=this.Bt.insert(n,this.Zt(n).delete(e)),r&&(this.$t=this.$t.insert(n,r))}removeTarget(e){this.Ft.delete(e)}Jt(e){const n=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let n=this.Ft.get(e);return n||(n=new iV,this.Ft.set(e,n)),n}Zt(e){let n=this.Bt.get(e);return n||(n=new we(Q),this.Bt=this.Bt.insert(e,n)),n}jt(e){const n=null!==this.Ht(e);return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ht(e){const n=this.Ft.get(e);return n&&n.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new iV),this.Mt.getRemoteKeysForTarget(e).forEach(n=>{this.Kt(e,n,null)})}Xt(e,n){return this.Mt.getRemoteKeysForTarget(e).has(n)}}function sV(){return new qe(S.comparator)}function oV(){return new qe(S.comparator)}const Dne={asc:"ASCENDING",desc:"DESCENDING"},Tne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Cne{constructor(e,n){this.databaseId=e,this.dt=n}}function dl(t,e){return t.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aV(t,e){return t.dt?e.toBase64():e.toUint8Array()}function Ane(t,e){return dl(t,e.toTimestamp())}function Tt(t){return j(!!t),U.fromTimestamp(function(e){const n=Hi(e);return new Le(n.seconds,n.nanos)}(t))}function iD(t,e){return(n=t,new he(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function uV(t){const e=he.fromString(t);return j(yV(e)),e}function hl(t,e){return iD(t.databaseId,e.path)}function Ur(t,e){const n=uV(e);if(n.get(1)!==t.databaseId.projectId)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new D(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new S(lV(n))}function sD(t,e){return iD(t.databaseId,e)}function fl(t){return new he(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lV(t){return j(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function dV(t,e,n){return{name:hl(t,e),fields:n.value.mapValue.fields}}function fV(t,e){return{documents:[sD(t,e.path)]}}function pV(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=sD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=sD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0===u.length)return;const c=u.map(l=>function(d){if("=="===d.op){if(IL(d.value))return{unaryFilter:{field:Ra(d.field),op:"IS_NAN"}};if(EL(d.value))return{unaryFilter:{field:Ra(d.field),op:"IS_NULL"}}}else if("!="===d.op){if(IL(d.value))return{unaryFilter:{field:Ra(d.field),op:"IS_NOT_NAN"}};if(EL(d.value))return{unaryFilter:{field:Ra(d.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(d.field),op:Rne(d.op),value:d.value}}}(l));return 1===c.length?c[0]:{compositeFilter:{op:"AND",filters:c}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:Ra((l=c).field),direction:Nne(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.dt||Zc(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function gV(t){let e=function cV(t){const e=uV(t);return 4===e.length?he.emptyPath():lV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=mV(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new Ca(Oa((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Zc(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new Wi((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new Wi(l.values||[],!l.before)}(n.endAt)),function RL(t,e,n,r,i,s,o,a){return new yi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function mV(t){return t?void 0!==t.unaryFilter?[Pne(t)]:void 0!==t.fieldFilter?[One(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(e=>mV(e)).reduce((e,n)=>e.concat(n)):P():[]}function Nne(t){return Dne[t]}function Rne(t){return Tne[t]}function Ra(t){return{fieldPath:t.canonicalString()}}function Oa(t){return nt.fromServerFormat(t.fieldPath)}function One(t){return Ut.create(Oa(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return P()}}(t.fieldFilter.op),t.fieldFilter.value)}function Pne(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Oa(t.unaryFilter.field);return Ut.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Oa(t.unaryFilter.field);return Ut.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Oa(t.unaryFilter.field);return Ut.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Oa(t.unaryFilter.field);return Ut.create(i,"!=",{nullValue:"NULL_VALUE"});default:return P()}}function Fne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class uD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mne(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=tV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=zL(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(U.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&ba(this.mutations,e.mutations,(n,r)=>WL(n,r))&&ba(this.baseMutations,e.baseMutations,(n,r)=>WL(n,r))}}class cD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){j(e.mutations.length===r.length);let i=wne;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cD(e,n,r,i)}}class lD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Qi{constructor(e,n,r,i,s=U.min(),o=U.min(),a=dt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class DV{constructor(e){this.ne=e}}function dD(t){const e=gV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?function OL(t,e,n){return new yi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}(e,e.limit,"L"):e}class eo{constructor(){}re(e,n){this.oe(e,n),n.ue()}oe(e,n){if("nullValue"in e)this.ce(n,5);else if("booleanValue"in e)this.ce(n,10),n.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(n,15),n.ae(ze(e.integerValue));else if("doubleValue"in e){const r=ze(e.doubleValue);isNaN(r)?this.ce(n,13):(this.ce(n,15),Xc(r)?n.ae(0):n.ae(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ce(n,20),"string"==typeof r?n.he(r):(n.he(`${r.seconds||""}`),n.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,n),this.fe(n);else if("bytesValue"in e)this.ce(n,30),n.de(qs(e.bytesValue)),this.fe(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ce(n,45),n.ae(r.latitude||0),n.ae(r.longitude||0)}else"mapValue"in e?bL(e)?this.ce(n,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,n),this.fe(n)):"arrayValue"in e?(this.me(e.arrayValue,n),this.fe(n)):P()}le(e,n){this.ce(n,25),this.ge(e,n)}ge(e,n){n.he(e)}we(e,n){const r=e.fields||{};this.ce(n,55);for(const i of Object.keys(r))this.le(i,n),this.oe(r[i],n)}me(e,n){const r=e.values||[];this.ce(n,50);for(const i of r)this.oe(i,n)}_e(e,n){this.ce(n,37),S.fromName(e).path.forEach(r=>{this.ce(n,60),this.ge(r,n)})}ce(e,n){e.ae(n)}fe(e){e.ae(2)}}eo.ye=new eo;class ure{constructor(){this.ze=new fD}addToCollectionParentIndex(e,n){return this.ze.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.ze.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Bn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Bn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class fD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new we(he.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new we(he.comparator)).toArray()}}new Uint8Array(0);class Tn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(41943040,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class ro{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ro(0)}static Rn(){return new ro(-1)}}class _re{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class qV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(null!==r&&ol(r.mutation,i,jn.empty(),Le.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const i=Vr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=al();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Vr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Dn();const o=ul(),a=ul();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof _i)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),ol(l.mutation,c,l.mutation.getFieldMask(),Le.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new _re(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ul();let i=new qe((o,a)=>o-a),s=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||jn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||te()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=tV();l.forEach(h=>{if(!s.has(h)){const f=zL(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return S.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function eD(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Vr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.getBaseDocument(e,l,d).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,te())).next(l=>({batchId:a,changes:eV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new S(n)).next(r=>{let i=al();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=al();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new yi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,Se.newInvalidDocument(c)))});let o=al();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&ol(c.mutation,u,jn.empty(),Le.now()),nD(n,u)&&(o=o.insert(a,u))}),o})}getBaseDocument(e,n,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,n):v.resolve(Se.newInvalidDocument(n))}}class vre{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,n){return v.resolve(this.Jn.get(n))}saveBundleMetadata(e,n){var r;return this.Jn.set(n.id,{id:(r=n).id,version:r.version,createTime:Tt(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.Yn.get(n))}saveNamedQuery(e,n){return this.Yn.set(n.name,{name:(r=n).name,query:dD(r.bundledQuery),readTime:Tt(r.readTime)}),v.resolve();var r}}class wre{constructor(){this.overlays=new qe(S.comparator),this.Xn=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ie(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Xn.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Xn.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Vr(),s=n.length+1,o=new S(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new qe((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Vr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Vr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}ie(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Xn.get(i.largestBatchId).delete(r.key);this.Xn.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new lD(n,r));let s=this.Xn.get(n);void 0===s&&(s=te(),this.Xn.set(n,s)),this.Xn.set(n,s.add(r.key))}}class pD{constructor(){this.Zn=new we(At.ts),this.es=new we(At.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,n){const r=new At(e,n);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.rs(new At(e,n))}os(e,n){e.forEach(r=>this.removeReference(r,n))}us(e){const n=new S(new he([])),r=new At(n,e),i=new At(n,e+1),s=[];return this.es.forEachInRange([r,i],o=>{this.rs(o),s.push(o.key)}),s}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const n=new S(new he([])),r=new At(n,e),i=new At(n,e+1);let s=te();return this.es.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new At(e,0),r=this.Zn.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class At{constructor(e,n){this.key=e,this.ls=n}static ts(e,n){return S.comparator(e.key,n.key)||Q(e.ls,n.ls)}static ns(e,n){return Q(e.ls,n.ls)||S.comparator(e.key,n.key)}}class Ere{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new we(At.ts)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.fs;this.fs++;const o=new uD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.ds=this.ds.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this._s(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ws(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new At(n,0),i=new At(n,Number.POSITIVE_INFINITY),s=[];return this.ds.forEachInRange([r,i],o=>{const a=this._s(o.ls);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new we(Q);return n.forEach(i=>{const s=new At(i,0),o=new At(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([s,o],a=>{r=r.add(a.ls)})}),v.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;S.isDocumentKey(s)||(s=s.child(""));const o=new At(new S(s),0);let a=new we(Q);return this.ds.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.ls)),!0)},o),v.resolve(this.gs(a))}gs(e){const n=[];return e.forEach(r=>{const i=this._s(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){j(0===this.ys(n.batchId,"removed")),this.mutationQueue.shift();let r=this.ds;return v.forEach(n.mutations,i=>{const s=new At(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ds=r})}In(e){}containsKey(e,n){const r=new At(n,0),i=this.ds.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}ys(e,n){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const n=this.ws(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Ire{constructor(e){this.ps=e,this.docs=new qe(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Se.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=Dn();const s=new S(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||zb(hL(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){P()}Is(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bre(this)}getSize(e){return v.resolve(this.size)}}class bre extends class gre{constructor(){this.changes=new Ki(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Se.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.zn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.zn.addEntry(e,i)):this.zn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.zn.getEntry(e,n)}getAllFromCache(e,n){return this.zn.getEntries(e,n)}}class Dre{constructor(e){this.persistence=e,this.Ts=new Ki(n=>Ks(n),rl),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Es=0,this.As=new pD,this.targetCount=0,this.Rs=ro.An()}forEachTarget(e,n){return this.Ts.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Es&&(this.Es=n),v.resolve()}vn(e){this.Ts.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Rs=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,n){return this.vn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.vn(n),v.resolve()}removeTargetData(e,n){return this.Ts.delete(n.target),this.As.us(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Ts.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Ts.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Ts.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.As.ss(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.As.os(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.As.us(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.As.hs(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.As.containsKey(n))}}class zV{constructor(e,n){this.bs={},this.overlays={},this.Ps=new bn(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Dre(this),this.indexManager=new ure,this.remoteDocumentCache=new Ire(r=>this.referenceDelegate.Ss(r)),this.wt=new DV(n),this.Ds=new vre(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.bs[e.toKey()];return r||(r=new Ere(n,this.referenceDelegate),this.bs[e.toKey()]=r),r}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);const i=new Tre(this.Ps.next());return this.referenceDelegate.Cs(),r(i).next(s=>this.referenceDelegate.xs(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ns(e,n){return v.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,n)))}}class Tre extends class qte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.ks=new pD,this.Os=null}static Ms(e){return new cp(e)}get Fs(){if(this.Os)return this.Os;throw P()}addReference(e,n,r){return this.ks.addReference(r,n),this.Fs.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.ks.removeReference(r,n),this.Fs.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Fs.add(n.toString()),v.resolve()}removeTarget(e,n){this.ks.us(n.targetId).forEach(i=>this.Fs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Fs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Cs(){this.Os=new Set}xs(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Fs,r=>{const i=S.fromPath(r);return this.$s(e,i).next(s=>{s||n.removeEntry(i,U.min())})}).next(()=>(this.Os=null,n.apply(e)))}updateLimboDocument(e,n){return this.$s(e,n).next(r=>{r?this.Fs.delete(n.toString()):this.Fs.add(n.toString())})}Ss(e){return 0}$s(e,n){return v.or([()=>v.resolve(this.ks.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ns(e,n)])}}class _D{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Pi=r,this.vi=i}static Vi(e,n){let r=te(),i=te();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _D(e,n.fromCache,r,i)}}class KV{constructor(){this.Si=!1}initialize(e,n){this.Di=e,this.indexManager=n,this.Si=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ci(e,n).next(s=>s||this.xi(e,n,i,r)).next(s=>s||this.Ni(e,n))}Ci(e,n){return v.resolve(null)}xi(e,n,r,i){return function lne(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(U.min())?this.Ni(e,n):this.Di.getDocuments(e,r).next(s=>{const o=this.ki(n,s);return this.Oi(n,o,r,i)?this.Ni(e,n):(Hb()<=de.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tD(n)),this.Mi(e,o,n,function dL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=U.fromTimestamp(1e9===r?new Le(n+1,0):new Le(n,r));return new Bn(i,S.empty(),e)}(i,-1)))})}ki(e,n){let r=new we(LL(e));return n.forEach((i,s)=>{nD(e,s)&&(r=r.add(s))}),r}Oi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ni(e,n){return Hb()<=de.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",tD(n)),this.Di.getDocumentsMatchingQuery(e,n,Bn.min())}Mi(e,n,r,i){return this.Di.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Are{constructor(e,n,r,i){this.persistence=e,this.Fi=n,this.wt=i,this.$i=new qe(Q),this.Bi=new Ki(s=>Ks(s),rl),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(r)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qV(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.$i))}}function YV(t,e){return vD.apply(this,arguments)}function vD(){return vD=m(function*(t,e){const n=x(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=te();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ki:c,removedBatchIds:o,addedBatchIds:a}))})})}),vD.apply(this,arguments)}function Sre(t,e){const n=x(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ui.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const g=u.docVersions.get(f);j(null!==g),p.version.compareTo(g)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=te();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JV(t){const e=x(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Vs.getLastRemoteSnapshotVersion(n))}function xre(t,e){const n=x(t),r=e.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Vs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Vs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,g,y;e.targetMismatches.has(d)?f=f.withResumeToken(dt.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),g=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Vs.updateTargetData(s,f))});let u=Dn(),c=te();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function ZV(t,e,n){let r=te(),i=te();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Dn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(U.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Gi:o,Qi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Gi,c=l.Qi})),!r.isEqual(U.min())){const l=n.Vs.getLastRemoteSnapshotVersion(s).next(d=>n.Vs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.$i=i,s))}function Mre(t,e){const n=x(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function La(t,e){const n=x(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Vs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Vs.allocateTargetId(r).next(o=>(i=new Qi(e,o,0,r.currentSequenceNumber),n.Vs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.$i.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.$i=n.$i.insert(r.targetId,r),n.Bi.set(e,r.targetId)),r})}function Va(t,e,n){return wD.apply(this,arguments)}function wD(){return wD=m(function*(t,e,n){const r=x(t),i=r.$i.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!$i(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.$i=r.$i.remove(e),r.Bi.delete(i.target)}),wD.apply(this,arguments)}function dp(t,e,n){const r=x(t);let i=U.min(),s=te();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=x(a),d=l.Bi.get(c);return void 0!==d?v.resolve(l.$i.get(d)):l.Vs.getTargetData(u,c)}(r,o,tr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Fi.getDocumentsMatchingQuery(o,e,n?i:U.min(),n?s:te())).next(a=>(function tU(t,e,n){let r=U.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Li.set(e,r)}(r,function FL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,ji:s})))}class TD{constructor(){this.activeTargetIds=Xf()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iU{constructor(){this.Fr=new TD,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new TD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Rre{Br(e){}shutdown(){}}class sU{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ore={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Pre{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class Fre extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,n,r,i,s){const o=this.oo(e,n);T("RestConnection","Sending: ",o,r);const a={};return this.uo(a,i,s),this.co(e,o,a,r).then(u=>(T("RestConnection","Received: ",u),u),u=>{throw jf("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}ao(e,n,r,i,s,o){return this.ro(e,n,r,i,s)}uo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ia,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}oo(e,n){return`${this.so}/v1/${n}:${Ore[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,n,r,i){return new Promise((s,o)=>{const a=new Fte;a.listenOnce(Rte.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case $b.NO_ERROR:const c=a.getResponseJson();T("Connection","XHR received:",JSON.stringify(c)),s(c);break;case $b.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),o(new D(w.DEADLINE_EXCEEDED,"Request time out"));break;case $b.HTTP_ERROR:const l=a.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){const d=a.getResponseJson().error;if(d&&d.status&&d.message){const h=function(f){const p=f.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(p)>=0?p:w.UNKNOWN}(d.status);o(new D(h,d.message))}else o(new D(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new D(w.UNAVAILABLE,"Connection failed."));break;default:P()}}finally{T("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}ho(e,n,r){const i=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kte(),o=Nte(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Pte({})),this.uo(a.initMessageHeaders,n,r),sR()||oR()||function l5(){return Ln().indexOf("Electron/")>=0}()||function d5(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||function h5(){return Ln().indexOf("MSAppHost/")>=0}()||Oh()||(a.httpHeadersOverwriteParam="$httpHeaders");const u=i.join("");T("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Pre({jr:p=>{d?T("Connection","Not sending because WebChannel is closed:",p):(l||(T("Connection","Opening WebChannel transport."),c.open(),l=!0),T("Connection","WebChannel sending:",p),c.send(p))},Wr:()=>c.close()}),f=(p,g,y)=>{p.listen(g,E=>{try{y(E)}catch(_){setTimeout(()=>{throw _},0)}})};return f(c,Bf.EventType.OPEN,()=>{d||T("Connection","WebChannel transport opened.")}),f(c,Bf.EventType.CLOSE,()=>{d||(d=!0,T("Connection","WebChannel transport closed"),h.eo())}),f(c,Bf.EventType.ERROR,p=>{d||(d=!0,jf("Connection","WebChannel transport errored:",p),h.eo(new D(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Bf.EventType.MESSAGE,p=>{var g;if(!d){const y=p.data[0];j(!!y);const E=y,_=E.error||(null===(g=E[0])||void 0===g?void 0:g.error);if(_){T("Connection","WebChannel received error:",_);const C=_.status;let N=function(Y){const Me=rt[Y];if(void 0!==Me)return ZL(Me)}(C),F=_.message;void 0===N&&(N=w.INTERNAL,F="Unknown error status: "+C+" with message "+_.message),d=!0,h.eo(new D(N,F)),c.close()}else T("Connection","WebChannel received:",y),h.no(y)}}),f(o,Ote.STAT_EVENT,p=>{p.stat===sL.PROXY?T("Connection","Detected buffering proxy"):p.stat===sL.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function pp(){return"undefined"!=typeof document?document:null}function bl(t){return new Cne(t,!0)}class AD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.js=e,this.timerId=n,this.lo=r,this.fo=i,this._o=s,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.wo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,i,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class aU{constructor(e,n,r,i,s,o,a,u){this.js=e,this.Ao=r,this.Ro=i,this.bo=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new AD(e,n)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return m(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return m(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,n){var r=this;return m(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(tt(n.toString()),tt("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(n)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Po===n&&this.Uo(r,i)},r=>{e(()=>{const i=new D(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Uo(e,n){const r=this.Lo(this.Po);this.stream=this.Ko(e,n),this.stream.zr(()=>{r(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}xo(){var e=this;this.state=5,this.So.Io(m(function*(){e.state=0,e.start()}))}qo(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return n=>{this.js.enqueueAndForget(()=>this.Po===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lre extends aU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.wt=s}Ko(e,n){return this.bo.ho("Listen",e,n)}onMessage(e){this.So.reset();const n=function xne(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:P(),i=e.targetChange.targetIds||[],s=function(u,c){return u.dt?(j(void 0===c||"string"==typeof c),dt.fromBase64String(c||"")):(j(void 0===c||c instanceof Uint8Array),dt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:ZL(u.code);return new D(c,u.message||"")}(o);n=new rV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Ur(t,r.document.name),s=Tt(r.document.updateTime),o=new Vt({mapValue:{fields:r.document.fields}}),a=Se.newFoundDocument(i,s,o);n=new ep(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=Ur(t,r.document),s=r.readTime?Tt(r.readTime):U.min(),o=Se.newNoDocument(i,s);n=new ep([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Ur(t,r.document);n=new ep([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return P();{const r=e.filter,s=new _ne(r.count||0);n=new nV(r.targetId,s)}}var u;return n}(this.wt,e),r=function(i){if(!("targetChange"in i))return U.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?U.min():s.readTime?Tt(s.readTime):U.min()}(e);return this.listener.Go(n,r)}Qo(e){const n={};n.database=fl(this.wt),n.addTarget=function(i,s){let o;const a=s.target;return o=Kf(a)?{documents:fV(i,a)}:{query:pV(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=aV(i,s.resumeToken):s.snapshotVersion.compareTo(U.min())>0&&(o.readTime=dl(i,s.snapshotVersion.toTimestamp())),o}(this.wt,e);const r=function kne(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return P()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Mo(n)}jo(e){const n={};n.database=fl(this.wt),n.removeTarget=e,this.Mo(n)}}class Vre extends aU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.wt=s,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,n){return this.bo.ho("Write",e,n)}onMessage(e){if(j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const n=function Mne(t,e){return t&&t.length>0?(j(void 0!==e),t.map(n=>function(r,i){let s=Tt(r.updateTime?r.updateTime:i);return s.isEqual(U.min())&&(s=Tt(i)),new gne(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Tt(e.commitTime);return this.listener.Jo(r,n)}return j(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=fl(this.wt),this.Mo(e)}Ho(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function pl(t,e){let n;if(e instanceof ka)n={update:dV(t,e.key,e.value)};else if(e instanceof Na)n={delete:hl(t,e.key)};else if(e instanceof _i)n={update:dV(t,e.key,e.data),updateMask:Fne(e.fieldMask)};else{if(!(e instanceof rD))return P();n={verify:hl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ma)return{fieldPath:s.field.canonicalString(),increment:o._t};throw P()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Ane(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:P()),n;var i}(this.wt,r))};this.Mo(n)}}class Ure extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.bo=r,this.wt=i,this.Zo=!1}tu(){if(this.Zo)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.bo.ro(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new D(w.UNKNOWN,i.toString())})}ao(e,n,r,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.bo.ao(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new D(w.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class Bre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(tt(n),this.su=!1):T("OnlineStateTracker",n)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class jre{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=s,this.du.Br(a=>{r.enqueueAndForget(m(function*(){var u;Zi(o)&&(T("RemoteStore","Restarting streams for network reachability change."),yield(u=m(function*(c){const l=x(c);l.lu.add(4),yield Ua(l),l._u.set("Unknown"),l.lu.delete(4),yield Dl(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this._u=new Bre(r,i)}}function Dl(t){return SD.apply(this,arguments)}function SD(){return SD=m(function*(t){if(Zi(t))for(const e of t.fu)yield e(!0)}),SD.apply(this,arguments)}function Ua(t){return xD.apply(this,arguments)}function xD(){return xD=m(function*(t){for(const e of t.fu)yield e(!1)}),xD.apply(this,arguments)}function gp(t,e){const n=x(t);n.hu.has(e.targetId)||(n.hu.set(e.targetId,e),ND(n)?kD(n):ja(n).Co()&&MD(n,e))}function Tl(t,e){const n=x(t),r=ja(n);n.hu.delete(e),r.Co()&&uU(n,e),0===n.hu.size&&(r.Co()?r.ko():Zi(n)&&n._u.set("Unknown"))}function MD(t,e){t.wu.Nt(e.targetId),ja(t).Qo(e)}function uU(t,e){t.wu.Nt(e),ja(t).jo(e)}function kD(t){t.wu=new bne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),te:e=>t.hu.get(e)||null}),ja(t).start(),t._u.iu()}function ND(t){return Zi(t)&&!ja(t).Do()&&t.hu.size>0}function Zi(t){return 0===x(t).lu.size}function cU(t){t.wu=void 0}function $re(t){return RD.apply(this,arguments)}function RD(){return RD=m(function*(t){t.hu.forEach((e,n)=>{MD(t,e)})}),RD.apply(this,arguments)}function Hre(t,e){return OD.apply(this,arguments)}function OD(){return OD=m(function*(t,e){cU(t),ND(t)?(t._u.uu(e),kD(t)):t._u.set("Unknown")}),OD.apply(this,arguments)}function Gre(t,e,n){return PD.apply(this,arguments)}function PD(){return PD=m(function*(t,e,n){if(t._u.set("Online"),e instanceof rV&&2===e.state&&e.cause)try{yield(r=m(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.hu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.hu.delete(a),i.wu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mp(t,r)}else if(e instanceof ep?t.wu.Ut(e):e instanceof nV?t.wu.zt(e):t.wu.Gt(e),!n.isEqual(U.min()))try{const r=yield JV(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.wu.Yt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.hu.get(u);c&&i.hu.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.hu.get(a);if(!u)return;i.hu.set(a,u.withResumeToken(dt.EMPTY_BYTE_STRING,u.snapshotVersion)),uU(i,a);const c=new Qi(u.target,a,1,u.sequenceNumber);MD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield mp(t,r)}var r}),PD.apply(this,arguments)}function mp(t,e,n){return FD.apply(this,arguments)}function FD(){return FD=m(function*(t,e,n){if(!$i(e))throw e;t.lu.add(1),yield Ua(t),t._u.set("Offline"),n||(n=()=>JV(t.localStore)),t.asyncQueue.enqueueRetryable(m(function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.lu.delete(1),yield Dl(t)}))}),FD.apply(this,arguments)}function lU(t,e){return e().catch(n=>mp(t,n,e))}function Ba(t){return LD.apply(this,arguments)}function LD(){return LD=m(function*(t){const e=x(t),n=Xi(e);let r=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;qre(e);)try{const i=yield Mre(e.localStore,r);if(null===i){0===e.au.length&&n.ko();break}r=i.batchId,zre(e,i)}catch(i){yield mp(e,i)}dU(e)&&hU(e)}),LD.apply(this,arguments)}function qre(t){return Zi(t)&&t.au.length<10}function zre(t,e){t.au.push(e);const n=Xi(t);n.Co()&&n.zo&&n.Ho(e.mutations)}function dU(t){return Zi(t)&&!Xi(t).Do()&&t.au.length>0}function hU(t){Xi(t).start()}function Wre(t){return VD.apply(this,arguments)}function VD(){return VD=m(function*(t){Xi(t).Xo()}),VD.apply(this,arguments)}function Kre(t){return UD.apply(this,arguments)}function UD(){return UD=m(function*(t){const e=Xi(t);for(const n of t.au)e.Ho(n.mutations)}),UD.apply(this,arguments)}function Qre(t,e,n){return BD.apply(this,arguments)}function BD(){return BD=m(function*(t,e,n){const r=t.au.shift(),i=cD.from(r,e,n);yield lU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ba(t)}),BD.apply(this,arguments)}function Yre(t,e){return jD.apply(this,arguments)}function jD(){return jD=m(function*(t,e){var n;e&&Xi(t).zo&&(yield(n=m(function*(r,i){if(JL(s=i.code)&&s!==w.ABORTED){const o=r.au.shift();Xi(r).No(),yield lU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ba(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),dU(t)&&hU(t)}),jD.apply(this,arguments)}function fU(t,e){return $D.apply(this,arguments)}function $D(){return $D=m(function*(t,e){const n=x(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.lu.add(3),yield Ua(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.lu.delete(3),yield Dl(n)}),$D.apply(this,arguments)}function GD(){return GD=m(function*(t,e){const n=x(t);e?(n.lu.delete(2),yield Dl(n)):e||(n.lu.add(2),yield Ua(n),n._u.set("Unknown"))}),GD.apply(this,arguments)}function ja(t){return t.mu||(t.mu=function(e,n,r){const i=x(e);return i.tu(),new Lre(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:$re.bind(null,t),Jr:Hre.bind(null,t),Go:Gre.bind(null,t)}),t.fu.push(function(){var e=m(function*(n){n?(t.mu.No(),ND(t)?kD(t):t._u.set("Unknown")):(yield t.mu.stop(),cU(t))});return function(n){return e.apply(this,arguments)}}())),t.mu}function Xi(t){return t.gu||(t.gu=function(e,n,r){const i=x(e);return i.tu(),new Vre(n,i.bo,i.authCredentials,i.appCheckCredentials,i.wt,r)}(t.datastore,t.asyncQueue,{zr:Wre.bind(null,t),Jr:Yre.bind(null,t),Yo:Kre.bind(null,t),Jo:Qre.bind(null,t)}),t.fu.push(function(){var e=m(function*(n){n?(t.gu.No(),yield Ba(t)):(yield t.gu.stop(),t.au.length>0&&(T("RemoteStore",`Stopping write stream with ${t.au.length} pending writes`),t.au=[]))});return function(n){return e.apply(this,arguments)}}())),t.gu}class qD{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Dt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new qD(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $a(t,e){if(tt("AsyncQueue",`${e}: ${t}`),$i(t))return new D(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Ha{constructor(e){this.comparator=e?(n,r)=>e(n,r)||S.comparator(n.key,r.key):(n,r)=>S.comparator(n.key,r.key),this.keyedMap=al(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new Ha(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ha)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ha;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class pU{constructor(){this.yu=new qe(S.comparator)}track(e){const n=e.doc.key,r=this.yu.get(n);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(n,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(n):1===e.type&&2===r.type?this.yu=this.yu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(n,{type:2,doc:e.doc}):P():this.yu=this.yu.insert(n,e)}pu(){const e=[];return this.yu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ga{constructor(e,n,r,i,s,o,a,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Ga(e,n,Ha.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Jre{constructor(){this.Iu=void 0,this.listeners=[]}}class Zre{constructor(){this.queries=new Ki(e=>PL(e),il),this.onlineState="Unknown",this.Tu=new Set}}function zD(t,e){return WD.apply(this,arguments)}function WD(){return WD=m(function*(t,e){const n=x(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Jre),i)try{s.Iu=yield n.onListen(r)}catch(o){const a=$a(o,`Initialization of query '${tD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Eu(n.onlineState),s.Iu&&e.Au(s.Iu)&&YD(n)}),WD.apply(this,arguments)}function KD(t,e){return QD.apply(this,arguments)}function QD(){return QD=m(function*(t,e){const n=x(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),QD.apply(this,arguments)}function Xre(t,e){const n=x(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Au(i)&&(r=!0);o.Iu=i}}r&&YD(n)}function eie(t,e,n){const r=x(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function YD(t){t.Tu.forEach(e=>{e.next()})}class JD{constructor(e,n,r){this.query=e,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),n=!0):this.Vu(e,this.onlineState)&&(this.Su(e),n=!0),this.Pu=e,n}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let n=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),n=!0),n}Vu(e,n){return!e.fromCache||!(this.options.Du&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class yU{constructor(e){this.key=e}}class _U{constructor(e){this.key=e}}class vU{constructor(e,n){this.query=e,this.Fu=n,this.$u=null,this.current=!1,this.Bu=te(),this.mutatedKeys=te(),this.Lu=LL(e),this.Uu=new Ha(this.Lu)}get qu(){return this.Fu}Ku(e,n){const r=n?n.Gu:new pU,i=n?n.Uu:this.Uu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=nD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),y=!0):this.Qu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Lu(f,u)>0||c&&this.Lu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:a,mutatedKeys:s}}Qu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const s=e.Gu.pu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return P()}};return f(d)-f(h)}(c.type,l.type)||this.Lu(c.doc,l.doc)),this.ju(r);const o=n?this.Wu():[],a=0===this.Bu.size&&this.current?1:0,u=a!==this.$u;return this.$u=a,0!==s.length||u?{snapshot:new Ga(this.query,e.Uu,i,s,e.mutatedKeys,0===a,u,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new pU,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(n=>this.Fu=this.Fu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Fu=this.Fu.delete(n)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=te(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const n=[];return e.forEach(r=>{this.Bu.has(r)||n.push(new _U(r))}),this.Bu.forEach(r=>{e.has(r)||n.push(new yU(r))}),n}Ju(e){this.Fu=e.ji,this.Bu=te();const n=this.Ku(e.documents);return this.applyChanges(n,!0)}Yu(){return Ga.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class rie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iie{constructor(e){this.key=e,this.Xu=!1}}class sie{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Ki(a=>PL(a),il),this.ec=new Map,this.nc=new Set,this.sc=new qe(S.comparator),this.ic=new Map,this.rc=new pD,this.oc={},this.uc=new Map,this.cc=ro.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function oie(t,e){return ZD.apply(this,arguments)}function ZD(){return ZD=m(function*(t,e){const n=ET(t);let r,i;const s=n.tc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Yu();else{const o=yield La(n.localStore,tr(e));n.isPrimaryClient&&gp(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield XD(n,e,r,"current"===a)}return i}),ZD.apply(this,arguments)}function XD(t,e,n,r){return eT.apply(this,arguments)}function eT(){return eT=m(function*(t,e,n,r){t.hc=(l,d,h)=>{return(f=m(function*(p,g,y,E){let _=g.view.Ku(y);_.Oi&&(_=yield dp(p.localStore,g.query,!1).then(({documents:F})=>g.view.Ku(F,_)));const C=E&&E.targetChanges.get(g.targetId),N=g.view.applyChanges(_,p.isPrimaryClient,C);return lT(p,g.targetId,N.zu),N.snapshot}),function(p,g,y,E){return f.apply(this,arguments)})(t,l,d,h);var f};const i=yield dp(t.localStore,e,!0),s=new vU(e,i.ji),o=s.Ku(i.documents),a=ll.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);lT(t,n,u.zu);const c=new rie(e,n,s);return t.tc.set(e,c),t.ec.has(n)?t.ec.get(n).push(e):t.ec.set(n,[e]),u.snapshot}),eT.apply(this,arguments)}function aie(t,e){return tT.apply(this,arguments)}function tT(){return tT=m(function*(t,e){const n=x(t),r=n.tc.get(e),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(s=>!il(s,e))),void n.tc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Va(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Tl(n.remoteStore,r.targetId),qa(n,r.targetId)}).catch(ji))):(qa(n,r.targetId),yield Va(n.localStore,r.targetId,!0))}),tT.apply(this,arguments)}function nT(){return nT=m(function*(t,e,n){const r=IT(t);try{const i=yield function(s,o){const a=x(s),u=Le.now(),c=o.reduce((h,f)=>h.add(f.key),te());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Dn(),p=te();return a.Ui.getEntries(h,c).next(g=>{f=g,f.forEach((y,E)=>{E.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(g=>{l=g;const y=[];for(const E of o){const _=yne(E,l.get(E.key).overlayedDocument);null!=_&&y.push(new _i(E.key,_,CL(_.value.mapValue),Ve.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(g=>{d=g;const y=g.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,g.batchId,y)})}).then(()=>({batchId:d.batchId,changes:eV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.oc[s.currentUser.toKey()];u||(u=new qe(Q)),u=u.insert(o,a),s.oc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield vi(r,i.changes),yield Ba(r.remoteStore)}catch(i){const s=$a(i,"Failed to persist write");n.reject(s)}}),nT.apply(this,arguments)}function wU(t,e){return rT.apply(this,arguments)}function rT(){return rT=m(function*(t,e){const n=x(t);try{const r=yield xre(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.ic.get(s);o&&(j(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Xu=!0:i.modifiedDocuments.size>0?j(o.Xu):i.removedDocuments.size>0&&(j(o.Xu),o.Xu=!1))}),yield vi(n,r,e)}catch(r){yield ji(r)}}),rT.apply(this,arguments)}function EU(t,e,n){const r=x(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.tc.forEach((s,o)=>{const a=o.view.Eu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=x(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.Eu(o)&&(u=!0)}),u&&YD(a)}(r.eventManager,e),i.length&&r.Zu.Go(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function cie(t,e,n){return iT.apply(this,arguments)}function iT(){return iT=m(function*(t,e,n){const r=x(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.ic.get(e),s=i&&i.key;if(s){let o=new qe(S.comparator);o=o.insert(s,Se.newNoDocument(s,U.min()));const a=te().add(s),u=new cl(U.min(),new Map,new we(Q),o,a);yield wU(r,u),r.sc=r.sc.remove(s),r.ic.delete(e),dT(r)}else yield Va(r.localStore,e,!1).then(()=>qa(r,e,n)).catch(ji)}),iT.apply(this,arguments)}function lie(t,e){return sT.apply(this,arguments)}function sT(){return sT=m(function*(t,e){const n=x(t),r=e.batch.batchId;try{const i=yield Sre(n.localStore,e);cT(n,r,null),uT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield vi(n,i)}catch(i){yield ji(i)}}),sT.apply(this,arguments)}function die(t,e,n){return oT.apply(this,arguments)}function oT(){return oT=m(function*(t,e,n){const r=x(t);try{const i=yield function(s,o){const a=x(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(j(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);cT(r,e,n),uT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield vi(r,i)}catch(i){yield ji(i)}}),oT.apply(this,arguments)}function uT(t,e){(t.uc.get(e)||[]).forEach(n=>{n.resolve()}),t.uc.delete(e)}function cT(t,e,n){const r=x(t);let i=r.oc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.oc[r.currentUser.toKey()]=i}}function qa(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ec.get(e))t.tc.delete(r),n&&t.Zu.lc(r,n);t.ec.delete(e),t.isPrimaryClient&&t.rc.us(e).forEach(r=>{t.rc.containsKey(r)||IU(t,r)})}function IU(t,e){t.nc.delete(e.path.canonicalString());const n=t.sc.get(e);null!==n&&(Tl(t.remoteStore,n),t.sc=t.sc.remove(e),t.ic.delete(n),dT(t))}function lT(t,e,n){for(const r of n)r instanceof yU?(t.rc.addReference(r.key,e),fie(t,r)):r instanceof _U?(T("SyncEngine","Document no longer in limbo: "+r.key),t.rc.removeReference(r.key,e),t.rc.containsKey(r.key)||IU(t,r.key)):P()}function fie(t,e){const n=e.key,r=n.path.canonicalString();t.sc.get(n)||t.nc.has(r)||(T("SyncEngine","New document in limbo: "+n),t.nc.add(r),dT(t))}function dT(t){for(;t.nc.size>0&&t.sc.size<t.maxConcurrentLimboResolutions;){const e=t.nc.values().next().value;t.nc.delete(e);const n=new S(he.fromString(e)),r=t.cc.next();t.ic.set(r,new iie(n)),t.sc=t.sc.insert(n,r),gp(t.remoteStore,new Qi(tr(Aa(n.path)),r,2,bn.ot))}}function vi(t,e,n){return hT.apply(this,arguments)}function hT(){return hT=m(function*(t,e,n){const r=x(t),i=[],s=[],o=[];var a;r.tc.isEmpty()||(r.tc.forEach((a,u)=>{o.push(r.hc(u,e,n).then(c=>{if(c){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c.fromCache?"not-current":"current"),i.push(c);const l=_D.Vi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Zu.Go(i),yield(a=m(function*(u,c){const l=x(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Pi,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.vi,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!$i(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.$i.get(h),g=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.$i=l.$i.insert(h,g)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),hT.apply(this,arguments)}function pie(t,e){return fT.apply(this,arguments)}function fT(){return fT=m(function*(t,e){const n=x(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());const r=yield YV(n.localStore,e);n.currentUser=e,(i=n).uc.forEach(o=>{o.forEach(a=>{a.reject(new D(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.uc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vi(n,r.Ki)}var i}),fT.apply(this,arguments)}function gie(t,e){const n=x(t),r=n.ic.get(e);if(r&&r.Xu)return te().add(r.key);{let i=te();const s=n.ec.get(e);if(!s)return i;for(const o of s){const a=n.tc.get(o);i=i.unionWith(a.view.qu)}return i}}function ET(t){const e=x(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cie.bind(null,e),e.Zu.Go=Xre.bind(null,e.eventManager),e.Zu.lc=eie.bind(null,e.eventManager),e}function IT(t){const e=x(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=die.bind(null,e),e}class Die{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return m(function*(){n.wt=bl(e.databaseInfo.databaseId),n.sharedClientState=n.dc(e),n.persistence=n._c(e),yield n.persistence.start(),n.localStore=n.wc(e),n.gcScheduler=n.mc(e,n.localStore),n.indexBackfillerScheduler=n.gc(e,n.localStore)})()}mc(e,n){return null}gc(e,n){return null}wc(e){return function QV(t,e,n,r){return new Are(t,e,n,r)}(this.persistence,new KV,e.initialUser,this.wt)}_c(e){return new zV(cp.Ms,this.wt)}dc(e){return new iU}terminate(){var e=this;return m(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bT{initialize(e,n){var r=this;return m(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>EU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=pie.bind(null,r.syncEngine),yield function HD(t,e){return GD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Zre}createDatastore(e){const n=bl(e.databaseInfo.databaseId),r=new Fre(e.databaseInfo);return new Ure(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>EU(this.syncEngine,a,0),o=sU.V()?new sU:new Rre,new jre(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new sie(r,i,s,o,a,u);return c&&(l.ac=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=m(function*(n){const r=x(n);T("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield Ua(r),r.du.shutdown(),r._u.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class yp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mie{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=cL.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=m(function*(a){T("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(T("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return m(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new D(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Dt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(m(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=$a(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function CU(t,e){return DT.apply(this,arguments)}function DT(){return DT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=m(function*(s){r.isEqual(s)||(yield YV(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),DT.apply(this,arguments)}function AU(t,e){return TT.apply(this,arguments)}function TT(){return TT=m(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield CT(t);T("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>fU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>fU(e.remoteStore,s)),t.onlineComponents=e}),TT.apply(this,arguments)}function CT(t){return AT.apply(this,arguments)}function AT(){return AT=m(function*(t){return t.offlineComponents||(T("FirestoreClient","Using default OfflineComponentProvider"),yield CU(t,new Die)),t.offlineComponents}),AT.apply(this,arguments)}function _p(t){return ST.apply(this,arguments)}function ST(){return ST=m(function*(t){return t.onlineComponents||(T("FirestoreClient","Using default OnlineComponentProvider"),yield AU(t,new bT)),t.onlineComponents}),ST.apply(this,arguments)}function za(t){return kT.apply(this,arguments)}function kT(){return kT=m(function*(t){const e=yield _p(t),n=e.eventManager;return n.onListen=oie.bind(null,e.syncEngine),n.onUnlisten=aie.bind(null,e.syncEngine),n}),kT.apply(this,arguments)}const NU=new Map;function NT(t,e,n){if(!n)throw new D(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RU(t){if(!S.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OU(t){if(S.isDocumentKey(t))throw new D(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vp(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":P()}function pe(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new D(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vp(t);throw new D(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class FU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new D(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new D(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Uie(t,e,n,r){if(!0===e&&!0===r)throw new D(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cl{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FU({}),this._settingsFrozen=!1,e instanceof Gi?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new D(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gi(i.options.projectId)}(e))}get app(){if(!this._app)throw new D(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new D(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Lte;switch(n.type){case"gapi":const r=n.client;return j(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new jte(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new D(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=NU.get(e);n&&(T("ComponentProvider","Removing Datastore"),NU.delete(e),n.terminate())}(this),Promise.resolve()}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class Yt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yt(this.firestore,e,this._query)}}class jr extends Yt{constructor(e,n,r){super(e,n,Aa(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new S(e))}withConverter(e){return new jr(this.firestore,e,this._path)}}function Bie(t,e,...n){if(t=Xn(t),NT("collection","path",e),t instanceof Cl){const r=he.fromString(e,...n);return OU(r),new jr(t,null,r)}{if(!(t instanceof Ye||t instanceof jr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return OU(r),new jr(t.firestore,null,r)}}function wp(t,e,...n){if(t=Xn(t),1===arguments.length&&(e=cL.I()),NT("doc","path",e),t instanceof Cl){const r=he.fromString(e,...n);return RU(r),new Ye(t,null,new S(r))}{if(!(t instanceof Ye||t instanceof jr))throw new D(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(he.fromString(e,...n));return RU(r),new Ye(t.firestore,t instanceof jr?t.converter:null,new S(r))}}class $ie{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new AD(this,"async_queue_retry"),this.Kc=()=>{const n=pp();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.So.Eo()};const e=pp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const n=pp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const n=new Dt;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return m(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(n){if(!$i(n))throw n;T("AsyncQueue","Operation failed with retryable error: "+n)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const n=this.Oc.then(()=>(this.Lc=!0,e().catch(r=>{throw this.Bc=r,this.Lc=!1,tt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Lc=!1,r))));return this.Oc=n,n}enqueueAfterDelay(e,n,r){this.Gc(),this.qc.indexOf(e)>-1&&(n=0);const i=qD.createAndSchedule(this,e,n,r,s=>this.Wc(s));return this.$c.push(i),i}Gc(){this.Bc&&P()}verifyOperationInProgress(){}zc(){var e=this;return m(function*(){let n;do{n=e.Oc,yield n}while(n!==e.Oc)})()}Hc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function RT(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Oe extends Cl{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new $ie,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||LU(this),this._firestoreClient.terminate()}}function Gie(t=yR()){return Vh(t,"firestore").getImmediate()}function ht(t){return t._firestoreClient||LU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function LU(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Jte(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Mie(t._authCredentials,t._appCheckCredentials,t._queue,r)}class Wa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new D(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class so{constructor(e){this._byteString=e}static fromBase64String(e){try{return new so(dt.fromBase64String(e))}catch(n){throw new D(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new so(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class BU{constructor(e){this._methodName=e}}class OT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new D(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new D(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}const qie=/^__.*__$/;class zie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new _i(e,this.data,this.fieldMask,n,this.fieldTransforms):new ka(e,this.data,n,this.fieldTransforms)}}function $U(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw P()}}class Ep{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Xc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new Ep(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.sa(e),i}ia(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ta({path:r,na:!1});return i.Xc(),i}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return bp(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if($U(this.Zc)&&qie.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Wie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.wt=r||bl(e)}aa(e,n,r,i=!1){return new Ep({Zc:e,methodName:n,ca:r,path:nt.emptyPath(),na:!1,ua:i},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Ka(t){const e=t._freezeSettings(),n=bl(t._databaseId);return new Wie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PT(t,e,n,r,i,s={}){const o=t.aa(s.merge||s.mergeFields?2:0,e,n,i);LT("Data must be an object, but it was:",o,r);const a=WU(r,o);let u,c;if(s.merge)u=new jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=VT(e,d,n);if(!o.contains(h))throw new D(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);QU(l,h)||l.push(h)}u=new jn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new zie(new Vt(a),u,c)}function oo(t,e){if(KU(t=Xn(t)))return LT("Unsupported field value:",e,t),WU(t,e);if(t instanceof BU)return function(n,r){if(!$U(r.Zc))throw r.oa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.oa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=oo(o,r.ra(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=Xn(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return BL(r.wt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Le.fromDate(n);return{timestampValue:dl(r.wt,i)}}if(n instanceof Le){const i=new Le(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dl(r.wt,i)}}if(n instanceof OT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof so)return{bytesValue:aV(r.wt,n._byteString)};if(n instanceof Ye){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.oa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.oa(`Unsupported field value: ${vp(n)}`)}(t,e)}function WU(t,e){const n={};return mL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(t,(r,i)=>{const s=oo(i,e.ea(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function KU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof OT||t instanceof so||t instanceof Ye||t instanceof BU)}function LT(t,e,n){if(!KU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vp(n);throw e.oa("an object"===r?t+" a custom object":t+" "+r)}var r}function VT(t,e,n){if((e=Xn(e))instanceof Wa)return e._internalPath;if("string"==typeof e)return Ip(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jie=new RegExp("[~\\*/\\[\\]]");function Ip(t,e,n){if(e.search(Jie)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wa(...e.split("."))._internalPath}catch(r){throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new D(w.INVALID_ARGUMENT,a+t+u)}function QU(t,e){return t.some(n=>n.isEqual(e))}class UT{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Zie extends UT{data(){return super.data()}}function Dp(t,e){return"string"==typeof e?Ip(t,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}class ao{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Qa extends UT{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Tp extends Qa{data(e={}){return super.data(e)}}class Ya{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ao(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tp(this._firestore,this._userDataWriter,r.key,r,new ao(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new D(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Tp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Tp(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ao(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Xie(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xie(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return P()}}function BT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class uo extends class rse{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw P()}}convertObject(e,n){const r={};return Gs(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new OT(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=_L(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Hi(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=he.fromString(e);j(yV(r));const i=new Gi(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(n)||tt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new so(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}function Sl(t,e){return function(n,r){const i=new Dt;return n.asyncQueue.enqueueAndForget(m(function*(){return function uie(t,e,n){return nT.apply(this,arguments)}(yield function MT(t){return _p(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(ht(t),e)}function jT(t,e,n){const r=n.docs.get(e._key),i=new uo(t);return new Qa(t,i,e._key,r,new ao(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){Ia="9.8.4",on(new Kt("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new Oe(i,new Ute(n.getProvider("auth-internal")),new $te(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),Qe(oL,"3.4.11",t),Qe(oL,"3.4.11","esm2017")}();var dse={includeMetadataChanges:!1};function $T(t,e){return void 0===e&&(e=dse),new Pe(function(n){var r=function cse(t,...e){var n,r,i;t=Xn(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||RT(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(RT(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let u,c,l;if(t instanceof Ye)c=pe(t.firestore,Oe),l=Aa(t._key.path),u={next:d=>{e[o]&&e[o](jT(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=pe(t,Yt);c=pe(d.firestore,Oe),l=d._query;const h=new uo(c);u={next:f=>{e[o]&&e[o](new Ya(c,h,d,f))},error:e[o+1],complete:e[o+2]},function YU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new D(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,p){const g=new yp(p),y=new JD(h,g,f);return d.asyncQueue.enqueueAndForget(m(function*(){return zD(yield za(d),y)})),()=>{g.Tc(),d.asyncQueue.enqueueAndForget(m(function*(){return KD(yield za(d),y)}))}}(ht(c),l,a,u)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _se(t,e){return void 0===e&&(e={}),function yse(t){return $T(t,{includeMetadataChanges:!0}).pipe(_e(function(e){return e.docs}))}(t).pipe(_e(function(n){return n.map(function(r){return function s2(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}(r,e)})}))}class Ap{constructor(e){return e}}const c2="firestore",qT=new K("angularfire2.firestore-instances");function Ese(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ap(r)}}const Ise={provide:class vse{constructor(){return Lw(c2)}},deps:[[new _t,qT]]},bse={provide:Ap,useFactory:function wse(t,e){const n=function Fw(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}(c2,t,e);return n&&new Ap(n)},deps:[[new _t,qT],pa]};let Dse=(()=>{class t{constructor(){Qe("angularfire",Sw.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({providers:[bse,Ise]}),t})();function Tse(t,...e){return{ngModule:Dse,providers:[{provide:qT,useFactory:Ese(t),multi:!0,deps:[Ge,vt,wO,EO,[new _t,EP],[new _t,GP],...e]}]}}const Cse=zh(_se,!0),l2=zh(Bie,!0),Ase=zh(Gie,!0);let d2=(()=>{class t{constructor(n){this.firestore=n}agregarEmpleado(n){return function use(t,e){const n=pe(t.firestore,Oe),r=wp(t),i=BT(t.converter,e);return Sl(n,[PT(Ka(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ve.exists(!1))]).then(()=>r)}(l2(this.firestore,"empleados"),n)}updateEmpleado(n,r){(function ose(t,e,n){t=pe(t,Ye);const r=pe(t.firestore,Oe),i=BT(t.converter,e,n);return Sl(r,[PT(Ka(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ve.none())])})(wp(this.firestore,"empleados",n),{nombre:r.nombre,apellido:r.apellido,documento:r.documento,salario:r.salario,fechaActualizaci\u00f3n:Date(),fechaCreacion:r.fechaCreacion}).then(s=>{console.log("document updated")}).catch(s=>{console.log(s)})}deleteEmpleado(n){return function ase(t){return Sl(pe(t.firestore,Oe),[new Na(t._key,Ve.none())])}(wp(this.firestore,`empleados/${n}`))}getEmpleados(){const n=l2(this.firestore,"empleados");return this.items=Cse(n,{idField:"id"}),this.items}getEmpleado(n){var r=this;return m(function*(){const i=wp(r.firestore,`empleados/${n}`);return(yield function sse(t){t=pe(t,Ye);const e=pe(t.firestore,Oe);return function MU(t,e,n={}){const r=new Dt;return t.asyncQueue.enqueueAndForget(m(function*(){return function(i,s,o,a,u){const c=new yp({next:d=>{s.enqueueAndForget(()=>KD(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new D(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new D(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new JD(Aa(o.path),c,{includeMetadataChanges:!0,Du:!0});return zD(i,l)}(yield za(t),t.asyncQueue,e,n,r)})),r.promise}(ht(e),t._key).then(n=>jT(e,t,n))}(i)).data()})()}}return t.\u0275fac=function(n){return new(n||t)(O(Ap))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Sse(t,e){return{type:7,name:t,definitions:e,options:{}}}function h2(t,e=null){return{type:4,styles:e,timings:t}}function zT(t){return{type:6,styles:t,offset:null}}function WT(t,e,n){return{type:0,name:t,styles:e,options:n}}function f2(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}const g2=["toast-component",""];function xse(t,e){if(1&t){const n=Td();ie(0,"button",5),ot("click",function(){return zl(n),tn().remove()}),ie(1,"span",6),xe(2,"\xd7"),ue()()}}function Mse(t,e){if(1&t&&(xu(0),xe(1),Mu()),2&t){const n=tn(2);ge(1),Qn("[",n.duplicatesCount+1,"]")}}function kse(t,e){if(1&t&&(ie(0,"div"),xe(1),Mt(2,Mse,2,1,"ng-container",4),ue()),2&t){const n=tn();Jr(n.options.titleClass),gn("aria-label",n.title),ge(1),Qn(" ",n.title," "),ge(1),je("ngIf",n.duplicatesCount)}}function Nse(t,e){if(1&t&&mn(0,"div",7),2&t){const n=tn();Jr(n.options.messageClass),je("innerHTML",n.message,xg)}}function Rse(t,e){if(1&t&&(ie(0,"div",8),xe(1),ue()),2&t){const n=tn();Jr(n.options.messageClass),gn("aria-label",n.message),ge(1),Qn(" ",n.message," ")}}function Ose(t,e){if(1&t&&(ie(0,"div"),mn(1,"div",9),ue()),2&t){const n=tn();ge(1),Ko("width",n.width+"%")}}function Pse(t,e){if(1&t){const n=Td();ie(0,"button",5),ot("click",function(){return zl(n),tn().remove()}),ie(1,"span",6),xe(2,"\xd7"),ue()()}}function Fse(t,e){if(1&t&&(xu(0),xe(1),Mu()),2&t){const n=tn(2);ge(1),Qn("[",n.duplicatesCount+1,"]")}}function Lse(t,e){if(1&t&&(ie(0,"div"),xe(1),Mt(2,Fse,2,1,"ng-container",4),ue()),2&t){const n=tn();Jr(n.options.titleClass),gn("aria-label",n.title),ge(1),Qn(" ",n.title," "),ge(1),je("ngIf",n.duplicatesCount)}}function Vse(t,e){if(1&t&&mn(0,"div",7),2&t){const n=tn();Jr(n.options.messageClass),je("innerHTML",n.message,xg)}}function Use(t,e){if(1&t&&(ie(0,"div",8),xe(1),ue()),2&t){const n=tn();Jr(n.options.messageClass),gn("aria-label",n.message),ge(1),Qn(" ",n.message," ")}}function Bse(t,e){if(1&t&&(ie(0,"div"),mn(1,"div",9),ue()),2&t){const n=tn();ge(1),Ko("width",n.width+"%")}}class jse{constructor(e,n){this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Sp{constructor(e,n,r,i,s,o){this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this._onTap=new Bt,this._onAction=new Bt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const m2={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},y2=new K("ToastConfig");class Hse{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Bt,this._activate=new Bt,this._manualClose=new Bt,this._resetTimeout=new Bt,this._countDuplicate=new Bt}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class Gse{constructor(e,n){this._toastPackage=e,this._parentInjector=n}get(e,n,r){return e===Sp?this._toastPackage:this._parentInjector.get(e,n,r)}}class qse extends class $se{attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,n,r){super(),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class zse{constructor(e){this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let Wse=(()=>{class t{constructor(n){this._document=n}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}}return t.\u0275fac=function(n){return new(n||t)(O(zt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Kse=(()=>{class t{constructor(n,r,i,s){this._overlayContainer=n,this._componentFactoryResolver=r,this._appRef=i,this._document=s,this._paneElements=new Map}create(n,r){return this._createOverlayRef(this.getPaneElement(n,r))}getPaneElement(n="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[n]||(this._paneElements.get(r)[n]=this._createPaneElement(n,r)),this._paneElements.get(r)[n]}_createPaneElement(n,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(n),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(n){return new qse(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new zse(this._createPortalHost(n))}}return t.\u0275fac=function(n){return new(n||t)(O(Wse),O(Jo),O(Hu),O(zt))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xp=(()=>{class t{constructor(n,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},n.default.iconClasses),n.config.iconClasses))}show(n,r,i={},s=""){return this._preBuildNotification(s,n,r,this.applyConfig(i))}success(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",n,r,this.applyConfig(i))}error(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",n,r,this.applyConfig(i))}info(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",n,r,this.applyConfig(i))}warning(n,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",n,r,this.applyConfig(i))}clear(n){for(const r of this.toasts)if(void 0!==n){if(r.toastId===n)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(n){const r=this._findToast(n);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(n="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts){const u=o&&a.title===n;if((!o||u)&&a.message===r)return a.toastRef.onDuplicate(i,s),a}return null}applyConfig(n={}){return Object.assign(Object.assign({},this.toastrConfig),n)}_findToast(n){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===n)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(n,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,r,i,s)):this._buildNotification(n,r,i,s)}_buildNotification(n,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const u=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let c=r;r&&s.enableHtml&&(c=this.sanitizer.sanitize(De.HTML,r));const l=new Hse(u),d=new Sp(this.index,s,c,i,n,l),h=new Gse(d,this._injector),f=new jse(s.toastComponent,h),p=u.attach(f,this.toastrConfig.newestOnTop);l.componentInstance=p.instance;const g={toastId:this.index,title:i||"",message:r||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:p};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{g.toastRef.activate()})),this.toasts.push(g),g}}return t.\u0275fac=function(n){return new(n||t)(O(y2),O(Kse),O(vt),O(Lk),O(Ge))},t.\u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Qse=(()=>{class t{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),r)):this.timeout=setTimeout(()=>n(),r)}outsideInterval(n,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),r)):this.intervalId=setInterval(()=>n(),r)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}}return t.\u0275fac=function(n){return new(n||t)(I(xp),I(Sp),I(Ge))},t.\u0275cmp=zr({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){1&n&&ot("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(Nm("@flyInOut",r.state),Jr(r.toastClasses),Ko("display",r.displayStyle))},attrs:g2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(Mt(0,xse,3,0,"button",0),Mt(1,kse,3,5,"div",1),Mt(2,Nse,1,3,"div",2),Mt(3,Rse,2,4,"div",3),Mt(4,Ose,2,2,"div",4)),2&n&&(je("ngIf",r.options.closeButton),ge(1),je("ngIf",r.title),ge(1),je("ngIf",r.message&&r.options.enableHtml),ge(1),je("ngIf",r.message&&!r.options.enableHtml),ge(1),je("ngIf",r.options.progressBar))},directives:[Wu],encapsulation:2,data:{animation:[Sse("flyInOut",[WT("inactive",zT({opacity:0})),WT("active",zT({opacity:1})),WT("removed",zT({opacity:0})),f2("inactive => active",h2("{{ easeTime }}ms {{ easing }}")),f2("active => removed",h2("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const Yse=Object.assign(Object.assign({},m2),{toastComponent:Qse});let Jse=(()=>{class t{static forRoot(n={}){return{ngModule:t,providers:[{provide:y2,useValue:{default:Yse,config:n}}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[[Ik]]}),t})(),Zse=(()=>{class t{constructor(n,r,i){this.toastrService=n,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const n=(new Date).getTime();this.width=(this.hideTime-n)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(n){return new(n||t)(I(xp),I(Sp),I(Hu))},t.\u0275cmp=zr({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){1&n&&ot("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&n&&(Jr(r.toastClasses),Ko("display",r.displayStyle))},attrs:g2,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){1&n&&(Mt(0,Pse,3,0,"button",0),Mt(1,Lse,3,5,"div",1),Mt(2,Vse,1,3,"div",2),Mt(3,Use,2,4,"div",3),Mt(4,Bse,2,2,"div",4)),2&n&&(je("ngIf",r.options.closeButton),ge(1),je("ngIf",r.title),ge(1),je("ngIf",r.message&&r.options.enableHtml),ge(1),je("ngIf",r.message&&!r.options.enableHtml),ge(1),je("ngIf",r.options.progressBar))},directives:[Wu],encapsulation:2}),t})();function Xse(t,e){1&t&&(ie(0,"div",19)(1,"span",20),xe(2,"Loading..."),ue()())}function eoe(t,e){1&t&&(ie(0,"span",21),xe(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),ue())}Object.assign(Object.assign({},m2),{toastComponent:Zse});let _2=(()=>{class t{constructor(n,r,i,s,o){this.fb=n,this._empleadoService=r,this.router=i,this.toastr=s,this.aRoute=o,this.submited=!1,this.loading=!1,this.title="Agregar empleado",this.buttonText="Agregar",this.createEmpleado=this.fb.group({nombre:["",wh.required],apellido:["",wh.required],documento:["",wh.required],salario:["",wh.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){this.isEdit()}addOrEdit(){this.submited=!0,!this.createEmpleado.invalid&&(null===this.id?this.agregarEmpleado():this.editarEmpleado())}agregarEmpleado(){if(this.submited=!0,this.createEmpleado.invalid)return;const n={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(n).then(()=>{this.toastr.success("El empleado fue registrado con \xe9xito","Empleado Registrado"),this.router.navigate(["/list-empleados"]),this.loading=!1}).catch(r=>{console.log(r),this.loading=!1})}editarEmpleado(){this.loading=!0,this.data.nombre=this.createEmpleado.value.nombre,this.data.apellido=this.createEmpleado.value.apellido,this.data.documento=this.createEmpleado.value.documento,this.data.salario=this.createEmpleado.value.salario,this.data.fechaActualizacion=Date(),this._empleadoService.updateEmpleado(this.id,this.data),this.toastr.success("El empleado fue actualizado con \xe9xito","Empleado Actualizado"),this.router.navigate(["/list-empleados"]),this.loading=!1}isEdit(){console.info("on isEdit"),null!==this.id&&(console.warn("id is not null so get single recor to print"),this.title="Editar empleado",this.buttonText="Editar",this.loading=!0,this.empleado=this._empleadoService.getEmpleado(this.id).then(n=>{this.loading=!1,this.data=n,this.createEmpleado.setValue({nombre:n.nombre,apellido:n.apellido,documento:n.documento,salario:n.salario})}).catch(n=>{console.log(n)}))}}return t.\u0275fac=function(n){return new(n||t)(I(r5),I(d2),I(vn),I(xp),I(vs))},t.\u0275cmp=zr({type:t,selectors:[["app-create-empleado"]],decls:24,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center","mt-5"],[1,"card-body"],[1,"title"],["class","spinner-border float-end","role","status",4,"ngIf"],["class","alert alert-danger mt-4 mb-4 d-block",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"row","m-2"],[1,"col","ps-0","pe-1"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control","form-control-lg"],[1,"col","ps-1","pe-0"],["type","text","placeholder","Apellido","formControlName","apellido",1,"form-control","form-control-lg"],["type","text","placeholder","Documento","formControlName","documento",1,"form-control","form-control-lg"],["type","number","placeholder","Salario","formControlName","salario",1,"form-control","form-control-lg"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg","me-3"],["type","text",1,"btn","btn-dark","btn-lg","ms-3"],["role","status",1,"spinner-border","float-end"],[1,"sr-only"],[1,"alert","alert-danger","mt-4","mb-4","d-block"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),xe(6),Mt(7,Xse,3,0,"div",6),ue(),Mt(8,eoe,2,0,"span",7),ie(9,"form",8),ot("ngSubmit",function(){return r.addOrEdit()}),ie(10,"div",9)(11,"div",10),mn(12,"input",11),ue(),ie(13,"div",12),mn(14,"input",13),ue()(),ie(15,"div",9),mn(16,"input",14),ue(),ie(17,"div",9),mn(18,"input",15),ue(),ie(19,"div",16)(20,"button",17),xe(21," Volver "),ue(),ie(22,"button",18),xe(23),ue()()()()()()()()),2&n&&(ge(6),Qn("",r.title," "),ge(1),je("ngIf",r.loading),ge(1),je("ngIf",r.submited&&r.createEmpleado.invalid),ge(1),je("formGroup",r.createEmpleado),ge(14),Qn(" ",r.buttonText," "))},directives:[Wu,VN,EN,Nh,vh,wN,x_,T_,uc],styles:[""]}),t})();const toe=function(t){return["/editEmpleado/",t]};function noe(t,e){if(1&t){const n=Td();ie(0,"tr",9)(1,"td")(2,"strong"),xe(3),ue()(),ie(4,"td"),xe(5),ue(),ie(6,"td"),xe(7),ue(),ie(8,"td"),xe(9),ue(),ie(10,"td"),mn(11,"img",10),ie(12,"img",11),ot("click",function(){const s=zl(n).$implicit;return tn(2).deleteEmpleado(s.id)}),ue()()()}if(2&t){const n=e.$implicit;ge(3),Ru(n.nombre),ge(2),Ru(n.apellido),ge(2),Ru(n.documento),ge(2),Qn("",n.salario," \u20ac"),ge(2),je("routerLink",iM(5,toe,n.id))}}function roe(t,e){if(1&t&&(ie(0,"table",6)(1,"thead")(2,"tr")(3,"th",7),xe(4,"Nombre"),ue(),ie(5,"th",7),xe(6,"Apellido"),ue(),ie(7,"th",7),xe(8,"Documento"),ue(),ie(9,"th",7),xe(10,"Salario"),ue(),mn(11,"th",7),ue()(),ie(12,"tbody"),Mt(13,noe,13,7,"tr",8),ue()()),2&t){const n=tn();ge(13),je("ngForOf",n.empleados)}}const ioe=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:(()=>{class t{constructor(n,r){this._empleadoService=n,this.toastr=r,this.empleados=[]}ngOnInit(){this._empleadoService.getEmpleados().subscribe(n=>{this.empleados=n,console.log(this.empleados)})}deleteEmpleado(n){this._empleadoService.deleteEmpleado(n).then(()=>{this.toastr.error("El empleado fue eleminado exitosamente","Registro eliminado")}).catch(r=>{console.log(r)})}}return t.\u0275fac=function(n){return new(n||t)(I(d2),I(xp))},t.\u0275cmp=zr({type:t,selectors:[["app-list-empleados"]],decls:8,vars:1,consts:[[1,"container"],[1,"card","mt-3"],[1,"card-body"],[1,"h3","mt-3"],["routerLink","/createEmpleado",1,"btn","btn-dark","btn-lg","float-end"],["class","table mt-5 table table-striped",4,"ngIf"],[1,"table","mt-5","table","table-striped"],["scope","col"],["class","text",4,"ngFor","ngForOf"],[1,"text"],["src","./assets/icons/edit-pencil.svg",1,"fa-md","icon",3,"routerLink"],["src","./assets/icons/delete-trash.svg",1,"fa-md","icon",3,"click"]],template:function(n,r){1&n&&(ie(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),xe(4,"Lista de Empleados"),ue(),ie(5,"button",4),xe(6,"Agregar"),ue(),Mt(7,roe,14,1,"table",5),ue()()()),2&n&&(ge(7),je("ngIf",r.empleados.length>0))},directives:[uc,Wu,yk],styles:["img.icon[_ngcontent-%COMP%]{cursor:pointer;height:20px;margin-right:15px}"]}),t})()},{path:"createEmpleado",component:_2},{path:"editEmpleado/:id",component:_2},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let soe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t}),t.\u0275inj=hn({imports:[[z1.forRoot(ioe)],z1]}),t})(),ooe=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=zr({type:t,selectors:[["app-navbar"]],decls:3,vars:0,consts:[[1,"navbar","navbar-light","bg-light","navbar-dark","bg-dark","p-3"],[1,"navbar-brand","mb-0","h1"]],template:function(n,r){1&n&&(ie(0,"nav",0)(1,"span",1),xe(2,"App Empleados - Firestore database"),ue()())},styles:[""]}),t})(),aoe=(()=>{class t{constructor(){this.title="empleados"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=zr({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&mn(0,"app-navbar")(1,"router-outlet")},directives:[ooe,t_],styles:[""]}),t})();const v2_firebase={projectId:"empleados-7306f",appId:"1:1011509774849:web:6aee83b4ddaed24a27ce00",storageBucket:"empleados-7306f.appspot.com",apiKey:"AIzaSyCKaUDQv9n0PhhkkAxcYfWHQMY0A1fpjUA",authDomain:"empleados-7306f.firebaseapp.com",messagingSenderId:"1011509774849"};let uoe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=xn({type:t,bootstrap:[aoe]}),t.\u0275inj=hn({providers:[],imports:[[M8,soe,EJ(()=>IJ(v2_firebase)),Tse(()=>Ase()),tR,Jse.forRoot()]]}),t})();(function fW(){WM=!1})(),S8().bootstrapModule(uoe).catch(t=>console.error(t))}},oe=>{oe(oe.s=954)}]);